arXiv:2106.00841v1 [cs.GT] 1 Jun 2021

Two Birds With One Stone: Fairness and Welfare via Transfers
Vishnu V. Narayan* Mashbat Suzuki Adrian Vetta
Abstract
We study the question of dividing a collection of indivisible goods amongst a set of agents. The main objective of research in the area is to achieve one of two goals: fairness or efficiency. On the fairness side, envy-freeness is the central fairness criterion in economics, but envy-free allocations typically do not exist when the goods are indivisible. A recent line of research shows that envy-freeness can be achieved if a small quantity of a homogeneous divisible good (money) is introduced into the system, or equivalently, if transfer payments are allowed between the agents. A natural question to explore, then, is whether transfer payments can be used to provide high welfare in addition to envy-freeness, and if so, how much money is needed to be transferred.
We show that for general monotone valuations, there always exists an allocation with transfers that is envy-free and whose Nash social welfare (NSW) is at least an e-1/e-fraction of the optimal Nash social welfare. Additionally, when the agents have additive valuations, an envyfree allocation with negligible transfers and whose NSW is within a constant factor of optimal can be found in polynomial time. Consequently, we demonstrate that the seemingly incompatible objectives of fairness and high welfare can be achieved simultaneously via transfer payments, even for general valuations, when the welfare objective is NSW. On the other hand, we show that a similar result is impossible for utilitarian social welfare: any envy-freeable allocation that achieves a constant fraction of the optimal welfare requires non-negligible transfers. To complement this result we present algorithms that compute an envy-free allocation with a given target welfare and with bounded transfers.
1 Introduction
The question of how to divide a collection of items amongst a group of agents has remained of central importance to society since antiquity. Real-world examples of this problem abound, ranging from the division of land and inherited estates, border settlements, and partnership dissolutions, to more modern considerations such as the division of the electromagnetic spectrum, distribution of computational resources, and management of airport traffic. The predominant objective of research in this area is to study the existence of allocations that achieve one of two broad goals: fairness or
*McGill University. vishnu.narayan@mail.mcgill.ca McGill University. mashbat.suzuki@mail.mcgill.ca McGill University. adrian.vetta@mcgill.ca
1

efficiency. At a high level, the fairness goal is to ensure that each agent receives its due share of the items, and the efficiency goal is to distribute the items in a way that maximizes the aggregate utility achieved by all of the agents.
The study of fair division burgeoned in the decades following its formal introduction by Banach, Knaster and Steinhaus [35], and most of the early literature focused on the divisible setting, where a single heterogeneous divisible item (conventionally, a cake) is to be fairly shared among a set of agents with varying preferences over its pieces. The second half of the last century saw the creation of precise mathematical definitions for various fairness notions, and envy-freeness, where every agent prefers its piece to any piece received by another agent, has since emerged as the dominant fairness criterion in economics. Early non-constructive results proved that, under mild assumptions, envy-free allocations always exist in the divisible setting (Stromquist [36], Su [37]), and ensuing work produced finite and bounded protocols for computing these allocations (Brams and Taylor [13], Aziz and Mackenzie [5]).
More recently, research has focused on the indivisible setting, where each item in a collection must be allocated as a whole to some agent. It appears at first that envy-freeness cannot be achieved in this setting; consider the simple example of two agents and one item, where one agent is left envying the other in any allocation. Consequently, a common theme in the indivisible setting is the study of weaker fairness guarantees such as EF1 and approximate-MMS [32, 15, 31].
But is it necessary to restrict ourselves to these weaker guarantees? A recent line of research shows, rather surprisingly, that it is possible to achieve canonical envy-freeness even in the indivisible setting simply by adding to the system a small quantity of a divisible good, akin to money [29, 14], or equivalently by allowing the agents to make transfer payments between themselves. These transfer payments can always be made alongside an allocation of the indivisible items such that the result is envy-free. In this work, we ask and answer a natural follow-up question: can this tool be made to do more? Can we use it to simultaneously guarantee full envy-freeness while also achieving high welfare, and if so, how much in total transfer payments do we need for this?

1.1 Related Work

The formal origin of fair division dates back to the 1940s, when Banach, Knaster and Stein-

haus [35] devised the Last Diminisher procedure to fairly divide a cake among n agents. Their

fairness

objective

was

proportionality,

in

which

each

agent

receives

a

piece

of

value

at

least

1 n

of the value of the entire cake to that agent. The pursuit of proportional cake divisions in dif-

ferent settings led to the creation of popular algorithmic paradigms for cake-cutting such as the

moving-knives procedures [21, 36, 34]. In the following decades, envy-freeness (Gamow and

Stern [23], Foley [22]) emerged as the canonical fairness solution. When the valuation functions

are additive, envy-freeness implies proportionality and is therefore a stronger fairness property. A

chain of subsequent results culminated in the discovery of finite-time [13] and bounded-time [5]

protocols for finding envy-free allocations in the divisible setting.

The research efforts of the fair division community have undergone two major shifts in recent

years. The first of these is an increased focus on economic efficiency. The most common type of

economic efficiency is Pareto efficiency, in which no agent's allocation can be improved without

making some other agent worse off. A classical result of Varian [40] shows that in the divisible

setting there always exists an allocation that is both envy-free and Pareto efficient. In fact, such

an allocation can be computed in polynomial time [20]. A different notion of efficiency arises

2

when we maximize a welfare function that measures the aggregate utility of all agents. The most

common welfare functions studied in the associated literature are the utilitarian social welfare (or

simply the social welfare), which measures the sum of the agents' valuations, and the Nash social

welfare, which measures the geometric mean of these valuations. In the divisible setting, Bei et al.

[8] and Cohler et al. [19] study the computational problem of maximizing the social welfare under

proportionality and envy-freeness constraints respectively.

The second shift is towards the study of the indivisible setting, where m items are to be in-

tegrally divided amongst n agents. Since neither envy-freeness nor proportionality can now be

guaranteed, a natural alternative is to provide relaxations or approximations of them. One such re-

laxation is the EFk guarantee. An allocation is envy-free up to k goods, or EFk, if no agent envies

another agent's bundle provided some k goods are removed from that bundle. The EF1 guarantee

is particularly notable, as EF1 allocations exist and can be computed in polynomial time if the val-

uation functions are monotone [32]. Two similar relaxations exist for proportionality, namely the

Prop1 guarantee and the maximin share guarantee, the latter of which is a natural extension of the

two-agent cut-and-choose protocol [15]. A large body of research produced over the last decade

aims to achieve these guarantees or approximations thereof [31, 26, 12, 25], including many re-

sults that show that these fairness guarantees can be achieved alongside Pareto efficiency [7] or

high Nash social welfare [7, 18, 24].

The problem of achieving high utilitarian social welfare under fairness constraints was formally

introduced by Caragiannis et al. [17]. The price of fairness (that is, of envy-freeness, EF1, or any

other fairness criterion) of an instance is defined as the ratio of the social welfare of an optimal

allocation without fairness constraints, to the social welfare of the best fair allocation. Intuitively, it

measures the necessary worst-case loss in efficiency when we add fairness constraints. Caragiannis

et al. [17] present bounds on the price of fairness (proportionality, envy-freeness and equitability) in

both the divisible and indivisible settings; we remark, however, that their results for the indivisible

case only consider the special set of instances for which the associated fair allocations exist. For

the divisible setting, Bertsimas et al. [11] showed that the bounds of [17] are tight. Followup work

on the price of fairness in the indivisible setting by Bei et al. [9] and Barman et al. [6] considers

only

the

relaxed

fairness

guarantees

(such

as

EF1

and

1 2

-MMS)

that

are

always

achievable

in

the

indivisible setting.

In now classical work, Svensson [38], Maskin [33], and Tadenuma and Thomson [39] studied

the indivisible item setting and asked if it is always possible to achieve an envy-free allocation

simply by introducing a small quantity of a divisible good, akin to money, alongside the indivisible

items. Their positive results were mirrored in followup work by Alkan et al. [1], Aragones [2],

Klijn [30] and Haake et al. [28] which showed for various settings the existence of an envy-free

allocation with subsidy. However, all of the above papers considered the restricted case where the

number of items, m, is at most the number of agents n. It was only recently that Halpern and Shah

[29] extended these results to the general m-item setting, showing that an envy-free allocation

with subsidy always exists in general. Brustle et al. [14] followed this up with upper bounds on the

amount of money sufficient to support an envy-free allocation in all instances. Surprisingly, when

the valuation functions are scaled so that the marginal value of an item is at most one dollar to any

agent, at most n - 1 dollars in the additive case and at most O(n2) dollars in the general monotone

case are always sufficient to eliminate envy [14]. Note that the maximum required subsidy is

independent of the number m of items, an observation of particular relevance to our work. Several

recent papers study the problem of achieving envy-freeness alongside other properties via subsidies

3

and transfers, including Aziz [4], Goko et al. [27].
1.2 Results and Contributions
A salient question is whether the two ideas exposited in the prior discussion can be combined: is it possible to find an allocation with subsidy that is simultaneously envy-free and guarantees high welfare? If so, how much subsidy is sufficient to achieve this? These questions are the focus of this paper.
Thus, one contribution of our work is to extend the literature on subsidies and their application. However, rather than subsidies, we analyze the related concept of transfer payments between the agents for two reasons. First, a subsidy is an external source of added utility which, in the context of welfare, would bias any subsequent comparisons with the welfare-maximizing allocation without subsidies. A transfer payment is neutral in this regard. Second, subsidies require an external agent willing to fund the mechanism ­ a typically unrealistic hope. In contrast, transfer payments require the consent only of the agents who are already willing participants in the mechanism. Provided the cost of the payments are outweighed by the benefits of participation then giving consent is reasonable. We remark that subsidies and transfers are in a sense interchangeable. Given an envy-free allocation with subsidies, subtracting the average subsidy from each agent's individual payment gives payments which sum to zero, that is, transfer payments. Conversely, given transfer payments, adding an appropriate fixed amount to each payment induces non-negative subsidy payments.1
A second contribution is to extend the research on the price of fairness. Specifically, we impose no balancing constraint on the valuation functions of the agents. To understand this, note that a common assumption in the price of fairness literature is that the valuation function of each agent is scaled so that the value of the grand bundle of items is equal for all agents. In the context of fairness, this scaling is benign because it has no affect on the most widely used measures of fairness. For example, it does not change the (relative) envy between any pair of agents. Indeed, this assumption is inspired by the literature on envy-free cake-cutting, where the value of the entire cake is usually assumed to be 1 for every agent. However, in the context of efficiency or welfare, this scaling is not benign. Such a scaling can dramatically alter the welfare of any allocation. In particular, this scaling restricts attention only to balanced instances, where agents are of essentially equal importance in generating welfare. This is important because it is the elimination of unbalanced instances that allows non-trivial bounds on the price of fairness to be obtainable ([9, 6]). Indeed, as will be seen in this paper, it is the unbalanced instances that are typically the most problematic in obtaining both fairness and high welfare. So, as stated, we study case of general valuation functions with no balancing constraints.
We do, however, make the standard assumption in the literature on subsidies ([29, 14]), and assume that the maximum marginal value for an item for any agent is always at most one dollar. We emphasize that this assumption induces no loss of generality with regards to the valuation functions. In particular, this assumption is benign in respect to both fairness and welfare. It does not affect the relative envy between agents, and it does not affect the welfare of an allocation
1Of course, whilst the correspondence between subsidies and transfers is simple, the switch to transfer payments does have a technical drawback: because transfer payments do not provide an (unnatural) external boost to welfare, obtaining welfare guarantees for the case of transfers is generally harder than for the case of subsidies.
4

(as all valuations can be scaled down uniformly). We make this assumption for simplicity, since expressing the transfers in dollar amounts allows for a consistent comparison with earlier work on the topic. Equivalent bounds for the original instance can be recovered by multiplying these expressions by the maximum marginal value of an item for any agent.
We now present the main results that appear in the paper. We study the trade-off between fairness and efficiency in the presence of transfer payments for the class of -mean welfare functions, with particular focus on the two most important special cases, namely the Nash social welfare and utilitarian social welfare functions. An allocation is envy-freeable if it can be made envy-free with the addition of subsidies (or, equivalently, transfer payments). Our first observation is that to achieve both fairness and high welfare, it is not sufficient to simply find an envy-freeable allocation ­ making transfer payments is necessary. In fact, no non-zero welfare guarantee is achievable for all  without considering transfers in the computation of the welfare. Letting W denote -mean welfare, we have:

Observation 1.1. For any  > 0, there exist instances where the welfare of every envy-freeable

allocation A satisfies

W(A) W(A)





Here A is the welfare-maximizing allocation. The observation applies even in the case of additive valuations with Nash social welfare functions. Consequently, the focus on allocations with transfers, and on bounding total transfers, is justified. For -mean welfare functions, we show that positive welfare guarantees are achievable with transfers.

Corollary 3.5. For subadditive valuations, there exists an envy-free allocation with transfers (A, t)

such that

W(A, t) W(A)



1 n

and with a total transfer i |ti| of at most 2n2. This allocation can be computed in polynomial time.

Here n is the number of agents. Note that the total transfer is independent of the number m of

items. This implies, as m grows, that the transfer payments are negligible in terms of the number

of items (and of total welfare). In particular, our ultimate objective is to obtain both envy-freeness

and high welfare using negligible transfers.

Of

course,

the

welfare

guarantee

of

1 n

does

not

signify

high

welfare.

So

we

investigate

whether

improved bounds can be obtained for the important special cases of  = 0 (Nash social welfare)

and  = 1 (utilitarian social welfare). Strong guarantees on welfare can be obtained for Nash social

welfare. Specifically, there exists an envy-free allocation with transfers with a Nash social welfare that is at least an e-1/e  0.6922 fraction of the optimal welfare.

Theorem 4.1. For general valuations, there exists an envy-free allocation with transfers (A, t) such

that

NSW(A, t) NSW(A)



e-1/e

Furthermore, for additive valuations, such constant factor welfare guarantees can be obtained with negligible transfer payments.

5

Theorem 4.3. For additive valuations, given an -approximate allocation to maximum Nash social

welfare, there exists a polynomial time computable envy-free allocation with transfers (A, t) such

that

NSW(A, t) NSW(A)



1 2



·

e-1/e

with a total transfer i |ti| of at most 2n2.

In

sharp

contrast,

for

utilitarian

social

welfare,

the

factor

1 n

welfare

threshold

is

tight.

To

achieve

any

welfare

guarantee

greater

than

1 n

requires

non-negligible

transfer

payments.

Specifi-

cally, we show

Corollary 5.2. For any  

1 n

,

1

,

there

exists

an

instance

with

additive

valuations

such

that

any

envy-free

allocation

with

transfers

(A, t)

satisfying

SW(A,t) SW(A )





requires

a

total

transfer

iN |ti|

of

at

least

1 4



-

1 n

2 m.

In fact, there exist instances for which any EFk allocation with k = o(m) has a welfare guar-

antee

of

at

most

1 n

+

o(1)

(Lemma

5.1).

This

implies

that

EFk

allocations

cannot

provide

higher

welfare with moderate transfers.

On the positive side, we can design algorithms to produce envy-free allocations with wel-

fare guarantee  whose total transfer payment is comparable to the minimum amount possible,

quantified

in

terms

of

the

maximum

value

max i

vi(Ai )

any

agent

has

in

the

welfare-maximizing

allocation.

Theorem 5.4. For additive valuations, for any   (0, 1], there is a polynomial time computable envy-free allocation with transfers (A, t) such that

SW(A, t) SW(A)





with total transfer

iN

|ti|



n(

max i

vi(Ai )

+

2).

Theorem 5.5. For general valuations, for any  

0,

1 3

,

there

is

an

envy-free

allocation

with

transfers (A, t) such that

SW(A, t) SW(A)





with total transfer iN |ti|  2n2 (3 maxi vi (Ai ) + 2).

1.3 Overiew of Paper
In Section 2, we present our model of the fair division problem with transfers. Section 3 contains an exposition of the prior results in the literature that will be useful, along with our preliminary results on the -mean welfare of envy-free allocations with transfers. In Section 4, we present our results on Nash social welfare, and in Section 5 we present our results on utilitarian social welfare.

6

2 The Model and Preliminaries
Let M = {1, · · · , m} be a set of m indivisible items and let N = {1, · · · , n} be a set of agents. Each agent i has a valuation function vi : 2M  R, where vi() = 0. We make the standard assumption that each valuation function is monotone, satisfying vi(S)  vi(T ) whenever S  T . Additionally, following previous work on subsidies (see e.g. [29, 14]), without loss of generality we uniformly scale the valuation functions by the same factor for each agent so that the maximum marginal value of any item is at most 1. Besides general monotone valuations, we are also interested in well-known classes of valuation function, in particular, additive (linear) valuations where v(S) = gS v(g) for each S  M, and subadditive (complement-free) valuations where v(S  T )  v(S) + v(T ) for all S, T  M. We use [n] to denote the set {1, · · · , n}.
2.1 Fairness and Welfare
An allocation A = (A1, A2, · · · , An) is a partition of the items into n disjoint subsets, where Ai is the set of items allocated to the agent i. Our aim is to obtain allocations that are both fair and of high welfare. The concept of fairness we use is envy-freeness.
Definition 2.1. An allocation A = (A1, · · · , An) is envy-free if for each i, j  N
vi(Ai)  vi(Aj)
In other words, an allocation is envy-free if each agent i prefers its own bundle Ai over any the bundle Aj of any other agent j. If agent i prefers the bundle of agent j then we say i envies j. Unfortunately, envy-free allocations do not always exist with indivisible item. This is evident even with two agents and one item, since the agent without an item will always envy the other. Moreover, even with two players and with identical additive valuations, determining whether an envy-free allocation exists is NP-complete. Consequently weaker notions of fairness have been introduced [15], most notably envy-freeness up to one good.
Definition 2.2. An allocation is envy-free up to one good (EF1) if for each i, j  N
vi(Ai)  vi(Aj \ g) for some g  Aj
Rather than approximate fairness, however, our focus is on obtaining envy-freeness by adding one divisible item (money). Thus we have an allocation with payments; in addition to the bundle Ai of indivisible good, an agent i has a payment pi.
Definition 2.3. An allocation with payments (A, p) is envy-free if for each i, j  N
vi(Ai) + pi  vi(Aj) + pj
Furthermore, we say that an allocation A is envy-freeable if there exist payments p such that (A, p) is envy-free. An important fact is that, in contrast to envy-free allocations, envy-freeable allocations always exist for monotone valuations [29]. There are two natural types of payment. First, we have subsidy payments if pi  0. Second, we have transfer payments if iN pi = 0, To distinguish these, we denote a subsidy payment to agent i by si and a transfer payment by ti. We define the total transfer of an allocation as the sum i |ti|.
7

We measure the welfare of an allocation A using the general concept of -mean welfare:

W(A) =

1

1 n


vi(Ai)

iN

This class of welfare functions, introduced by Arunachaleswaran et al. [3], encompasses a range
of welfare functions including the two most important cases (  0 and  = 1). The former
corresponds to Nash social welfare, the geometric mean of the values of the agents, denoted by
1
NSW(A) = iN vi(Ai) n . The latter corresponds to the arithmetic mean of the values of the agents but, scaling by the number of agents, this is more commonly known as the utilitarian social
welfare or simply social welfare, i.e. the sum of the values of the agents, denoted by SW(A) =
iN vi(Ai). With transfer payments, our interest lies in utilities rather than simply valuations. In particular, the -mean welfare of an allocation with transfers (A, t) is

W(A, t) =

1

1 n


(vi(Ai) + ti)

iN

2.2 Fair Division With Transfer Payments
In this paper, we study the following question.
Is there an allocation with transfers that simultaneously satisfies the properties of (i) envy-freeness, (ii) high welfare, and (iii) a negligible total transfer?

We have seen that envy-freeable allocations always exist. Thus, with transfer payments, we can obtain the property of envy-freeness.
The reader may ask whether transfers are necessary. Specifically, given the guaranteed existence of envy-freeable allocation, can such allocations provide high welfare? The answer is NO. Without transfers, high welfare is impossible to ensure. Even worse, no positive guarantee on welfare can be obtained without transfers. This is true even for the case of additive valuations. To see this, consider the following simple example for Nash social welfare.

Example 2.4. Take two agents and two items {a, b}. Let the valuation functions be additive with

v1,a

=

1, v1,b

=

1 2

for agent 1 and v2,a

=

1 2

,

v2,b

=

 for agent 2.

Observe there are only two

envy-freeable allocations: either agent 1 gets both items or agent 1 gets item a and agent 2 gets

item.

b. In

For both contrast,

these envy-freeable allocations the the optimal Nash social welfare is

corresponding

1 2

when

agent

Nash social welfare is at most 1 gets item b and agent 2 gets

item a.

It follows that to find envy-free solutions with non-zero approximation guarantees for welfare we must have transfer payments. At the outset, if we restrict  to be equal to 1, the result of Halpern and Shah [29] implies that the allocation that maximizes utilitarian welfare can be made envyfree with transfer payments. However, we show that this allocation can require arbitrarily large transfers relative to the number of agents. The main point of concern in using transfer payments to achieve envy-freeness is that it may be difficult for the participants to include a substantial quantity

8

of money in the system in order to implement this solution. Consequently, this creates a third requirement, i.e. to bound the total transfers. Thus the holy grail here is to obtain high welfare using only negligible transfers. Formally, we desire transfers whose sum (of absolute values) is independent of the number of items m. In particular, we want an allocation with transfers (A, t) such that the welfare of A is at least  times the welfare of the welfare-maximizing allocation A (for some large   [0, 1]) and iN |ti| = O(f (n)) for some function f . Specifically, the payments are negligible in the number of items (and thus in the total welfare) as m grows.
At first glance, this task seems impossible. If envy-freeable solutions cannot themselves ensure non-zero welfare guarantees, how could negligible transfer payments then induce high welfare? Very surprisingly, this is possible for some important classes of valuation functions. However, it is indeed not always possible for other classes. Investigating how and where the boundary of this dichotomy lies is the purpose of this paper.

3 Transfer Payments and -Mean Welfare

In this section we familiarize the reader with the structure of envy-freeable allocations and transfer payments, and introduce our preliminary results. We begin with the general case of -mean welfare. For subadditive valuations we have the following welfare guarantee.

Lemma 3.1. For subadditive valuations, any envy-free allocation with transfers (A, t) satisfies

W(A, t)



1 n

W(A)

Proof. By the envy-freeness property vi(Ai) + ti  vi(Aj) + tj. Thus

vi(Ai)

+

ti



1 n

vi(Aj) + tj



1 n

vi

(M

)



1 n

vi(Ai )

j

Here the second inequality follows by subadditivity. Hence

as desired.

W(A, t) =

1

1 n


(vi(Ai) + ti)

iN

1

1

vi(Ai )  

n

n

iN

=

1 n

1

1 n


(vi(Ai ))

iN

=

1 n

W(A)

The resultant welfare guarantee

of 

=

1 n

is not particularly impressive.

But, at

least,

it is a

strictly positive guarantee, which was unachievable without transfer payments. The bound is also

tight as shown by the following simple example.

9

Example 3.2. Take m = n items and n agents. Let the valuation functions be additive with vii = 1

and vij = 0 for j = i. Consider the allocation assigning the grand bundle to agent 1. This is

envy-freeable with transfer payments t1

=

-

n-1 n

and ti

=

1 n

,

for

any

agent

i

=

1.

For social

welfare

(

=

1)

the

corresponding

welfare

guarantee

is



=

1 n

.

But how expensive is it to obtain this welfare guarantee? To answer this, we provide a short
review concerning the computation of transfer payments. Recall that an allocation A is envyfreeable if there exist payments p such that (A, p) is envy-free. Furthermore, there is a very useful graph characterization of envy-freeability. Given an allocation A we build an envy-graph, denoted GA. The envy-graph is directed and complete. It contains a vertex for each agent i  N. For any pair of agents i, j  N, the weight of arc (i, j) in GA is the envy agent i has for agent j under the allocation A, that is, wA(i, j) = vi(Aj) - vi(Ai). The envy-graph induces the following characterization.

Theorem 3.3 ([29]). The following statements are equivalent.

i) The allocation A is envy-freeable.

ii) The allocation A maximizes (utilitarian) welfare across all reassignments of its bundles to agents: for every permutation  of N , we have iN vi(Ai)  iN vi(A(i)).
iii) The envy graph GA contains no positive-weight directed cycles.

In addition, we can use the envy-graph to compute the transfer payments. First, it is known [29]

how to find, for any envy-freeable allocation A, the minimum subsidy payments s such that (A, s)

is envy-free. Specifically, let l(i) be weight of a maximum weight path from node i to any other

node in GA. Setting si = l(i), for each agent i, gives an envy-free allocation with minimum subsidy payments. We do not wish to subsidize the mechanism, so we convert these subsidies into

transfer

payments.

To

do

this,

let

s¯ =

1 n

iN si be the average subsidy. Then setting ti = si - s¯

for each agent gives a valid set of transfer payments, which we dub the natural transfer payments.

We remark that the natural transfer payments do not always minimize the total transfer, but they

will be sufficient for our purposes.

We are now ready to compute transfer payments for subadditive valuations in the -mean wel-

fare setting. We begin with a theorem of Brustle et al. [14].

Theorem 3.4 ([14]). For monotone valuations there is a polynomial time algorithm to find an envy-free allocation with subsidies (A, s) such that si  2(n - 1) for all i.

Observe that when these subsidies are converted to the corresponding natural transfers, any bound on the maximum subsidy for each agent also applies to the maximum transfer for each agent. Combining this observation with the previous result gives us the following corollary.

Corollary 3.5. For subadditive valuations, there exists an envy-free allocation with transfers (A, t)

such that

W(A, t) W(A)



1 n

and with a total transfer i |ti| of at most 2n2. This allocation can be computed in polynomial time.

10

Thus, we can quickly obtain an envy-free allocation with transfers whose total transfer is independent of the number of items m. So we have negligible transfers. But, as stated, we only have a low welfare guarantee for this general -mean welfare class. In the next section, we will show that high welfare and negligible transfers are achievable for the special case of  = 0, that is, Nash social welfare.
Before doing so, we conclude this section by presenting a generalization of Theorem 3.4 that will later be useful. We say that an allocation B has b-bounded envy if vi(Bj) - vi(Bi)  b for every pair of agents i, j  N.

Lemma 3.6. Given an allocation B with b-bounded envy, there is a polynomial time algorithm to find an envy-free allocation with transfers (A, t) such that iN |ti|  2bn2.
Proof. Let B = {B1, B2, . . . , Bn} be an allocation with b-bounded envy. Let A = (B(1), · · · , B(n)) be the envy-freeable allocation obtained by computing a maximum-weight matching between the bundles in B and the agents. Applying an approach of [14], let P be a path of maximum weight in the envy-graph GA. Without loss of generality, P = (1, · · · , r). By definition of the envy-graph, we then have

r-1

wA(P ) = vi(Ai+1) - vi(Ai)

i=1

r-1

= vi(Ai+1) - vi(Bi) + vi(Bi) - vi(Ai)

i=1

r-1

r-1

= vi(B(i+1)) - vi(Bi) + vi(Bi) - vi(Ai)

i=1

i=1

r-1

 b(n - 1) + vi(Bi) - vi(Ai)

(1)

i=1

Here the inequality holds as vi(B(i+1)) - vi(Bi)  b for each agent i, and r < n. We have

r-1

vi(Bi) - vi(Ai) 

vi(Bi) - vi(Ai)

i=1

i:vi (Bi )vi (Ai )

-

vi(Bi) - vi(Ai)

i:vi (Bi )<vi (Ai )

=

vi(Ai) - vi(Bi)

i:vi (Bi )<vi (Ai )

=

vi(B(i)) - vi(Bi)

i:vi (Bi )<vi (Ai )

 b(n - 1).

(2)

Above the second inequality holds as the social welfare of A is the maximum over all allocations of the bundles in B; in particular, i vi(Ai)  i vi(Bi). The last inequality again follows as B has b-bounded envy.

11

Together (1) and (2) give wA(P )  2b(n - 1). This implies that A can be made envy-free with
a subsidy si  2b(n-1) to each agent i. Hence, setting ti = si -s¯, we have that (A, t) is envy-free with a total transfer payment of at most iN |ti|  2bn2.

4 Transfer Payments and Nash Social Welfare
In the following two sections, we present our main results concerning Nash social welfare and utilitarian social welfare. Here we show that, with transfers, excellent welfare guarantees can be obtained for Nash social welfare. Conversely, in Section 5, we will see that only much weaker guarantees can be obtained for utilitarian social welfare.

4.1 NSW with General Valuation Functions

Now, recall from Example 2.4 that no positive welfare guarantee can be obtained in the case of Nash social welfare even for the basic case of additive valuations. Our first result for Nash social welfare is therefore somewhat surprising. With transfer payments, constant factor welfare guarantees can be obtained for NSW for general valuations. That is, envy-freeness and high welfare are simultaneously achievable.

Theorem 4.1. For general valuations, there exists an envy-free allocation with transfers (A, t)

such that

NSW(A, t) NSW(A)



e-1/e

Proof. Let A be an allocation that maximizes Nash social welfare. Now, let A be an envy-freeable allocation induced by reallocating the bundles in A to maximize utilitarian social welfare. Recall this can be found by taking a maximum weight matching between the agents and the bundles of A; let (i) be the agent who receives bundle Ai in the allocation A. By Theorem 3.3, this allocation is envy-freeable. So let t be any valid set of transfer payments such that (A, t) is envy-free.
By definition we have that vi(Ai ) = vi(A(i)), for all i  N . Then, by envy-freeness, we have vi(Ai) + ti  vi(A(i)) + t(i) = vi(Ai ) + t(i). Denote by tmax the maximum positive transfer payment, i.e. tmax = maxi ti, and let m be an agent whose transfer tm is equal to tmax. By envyfreeness, no agent envies agent m, so vi(Ai) + ti  tmax for all i. Putting this all together, we
have

n i=1

vi(Ai)

+

ti

n i=1

vi(Ai )



n max
i=1

vi(Ai ) + t(i), tmax vi(Ai )

Now define N + = {i | t(i)  0} and N - = N \ N +.

n max vi(Ai ) + t(i), tmax

i=1

vi(Ai )



iN +

vi(Ai ) + t(i) vi(Ai )

·

iN -

max

vi(Ai ) + t(i), tmax vi(Ai )



max

iN -

vi(Ai ) + t(i), tmax vi(Ai )

12

Next let N1- be the indices corresponding to negative transfers that also satisfy tmax  vi(Ai ) +

t(i), and let N2- be the indices corresponding to negative transfers that also satisfy tmax > vi(Ai )+

t(i). Furthermore, set vi(Ai ) + t(i) = tmax + i. Observe that, for i  N1-, we have i  0, but

for i  N2-, we have i < 0. Applying this gives







max vi(Ai ) + t(i), tmax

iN -

vi(Ai )



 iN1-

tmax + i  tmax + i - t(i)


·


iN2-

tmax

tmax + i -

 t(i) 



 iN1-

tmax  tmax - t(i)


·

 iN2-

tmax

tmax - |i|

 - t(i) 




iN1-

tmax  tmax - t(i)

·


iN2-

tmax  tmax - t(i)

=

tmax iN- tmax - t(i)

Now for, i  N -, let ki = |t(i)|. Since iN ti = 0 we have iN+ ti = iN- ti := T . Thus

n i=1

vi(Ai)

+

ti

n i=1

vi(Ai )

1/n


=

1/n
tmax iN- tmax - t(i)
1/n
tmax iN- tmax + ki

Observe, by the arithmetic-geometric mean inequality, that iN-(tmax + ki) is maximized when ki = kj = T /|N -|. In addition, tmax  T /|N +|. So

tmax iN- tmax + ki

1/n


T |N +|

+ T
|N +|

T |N -|

|N -|/n

n-|N+ |

=

n - |N +| n

n

1
 min 1 x xx

 e-1/e

This theorem is rather noteworthy; for general valuation functions, with transfers, it allows us to simultaneously obtain both high Nash social welfare and perfect envy-freeness. But what of our third objective, that of negligible transfer payments? The approach applied in the proof of Theorem 4.1 cannot guarantee negligible transfers. Specifically, simply reallocating the bundles of the allocation A that maximizes Nash social welfare can require large transfers. In particular, the following example shows this method may require transfers as large as ( m).

13

Example 4.2. Take an instance with two agents and m items. Assume the first agent has a valuation

function given by v1(S) = |S|, for each S  M; assume the second agent has a valuation function

given by v2(S) = |S|, for each S  M. The reader may verify that the Nash welfare maximizing

allocation A is to give also the allocation that

thmeafixirmstizaegsenutti2li3mtairtieamnssaoncidalthweeslefacorendbyagreenatssm3igintienmgs.thTehbisunadllloecsaotifonAis.

Thus A = A. However, to make the allocation envy-free requires a minimum transfer payment of ( m), from the first agent to the second agent.

Of course, this example does not rule out the possibility that, for general valuation functions, an envy-free allocation with transfers that has high welfare and negligible payments exists. In particular, simply allocating each agent half the items requires no transfer payments at all, and gives high Nash social welfare. So simultaneously obtaining high Nash social welfare and envy-freeness via negligible transfers for general valuation functions remains an open question. Fortunately, we can show that these three properties are simultaneously achievable for important special classes of valuation function.

4.2 NSW Guarantees with Negligible Transfers

Here we prove that for (i) additive valuations, and (ii) matroid rank valuations, it is always possible to obtain envy-free allocations with high Nash social welfare and negligible transfers. Furthermore, for additive valuations we can do this using polynomial time algorithms.

Theorem 4.3. For additive valuations, given an -approximate allocation to maximum Nash social

welfare, there exists a polynomial time computable envy-free allocation with transfers (A, t) such

that

NSW(A, t) NSW(A)



1 2



·

e-1/e

with a total transfer i |ti| of at most 2n2.

Proof.

Let

B

be

the

-approximate

allocation

to

the

maximum

Nash

social

welfare;

that

is

NSW(B) NSW(A)



. Now Caragiannis et al [16] gave a polytime algorithm which, given input B, outputs an EF1

allocation

B

with

a

Nash

social

welfare

guarantee

of

 2

.

Next, recall the proof of Theorem 4.1. Observe that, during the proof, we did not use the

fact that A maximizes Nash social welfare. Thus the e-1/e approximation ratio holds if we start

with any other allocation A instead of A. That is by reallocation the bundles of A we obtain an

envy-freeable allocation A whose Nash social welfare is that least a factor e-1/e of that of A.

In particular, we can do this for the allocation A = B given by Caragiannis et al [16]. So, by

Theorem

4.1,

there

exists

an

envy-free

allocation

with

transfers

(A, t)

such

that

NSW(A,t) NSW(B  )



e-1/e.

Now

NSW(A, t) NSW(A)

=

NSW(B) NSW(A)

·

NSW(A, t) NSW(B)



1 2



·

e-1/e

Furthermore, because B is EF1 and A is obtained by the same procedure as in Theorem 3.4, we obtain transfer payments with i |ti|  2n2.

14

We remark that, for additive valuations, polytime algorithms do exist to find allocations that -

approximate the maximum Nash social welfare. Specifically, Barman et al. [7] present an algorithm

with an approximation guarantee of  =

1 1.45

.

Together with Theorem 4.3, we thus obtain in

polytime an envy-free allocation with negligible transfers and a Nash social welfare guarentee of

1 2.9

e-1/e

.

Better existence bounds can be obtained for the additive case if we remove the requirement of

a polynomial time algorithm. A well-known result of Caragiannis et al. [18] states that for additive

valuations, the Nash welfare maximizing allocation is EF1. In fact, a recent result of Benabbou

et al. [10] provides a similar result for the case of matroid rank valuation functions, a sub-class of

submodular functions. A valuation function is matroid rank if it is submodular, and the marginal

value of any item is binary (i.e. for any set S of items and any item x not in S, vi(S {x})-vi(S)  {0, 1}). Here, a NSW-maximizing allocation is EF1[10]. Combining this with Lemma 3.6, the

corresponding envy-free allocation with transfers (A, t) has transfers satisfying i |ti|  2n2.

Further,

by

Theorem

4.1,

we

have

NSW(A,t) NSW(A)



e-1/e

as

desired.

Theorem 4.4. For matroid rank valuations, there exists an envy-free allocation with transfers

(A, t)

with

NSW(A,t) NSW(A )



e-1/e

and

i |ti|  2n2.

5 Transfer Payments and Social Welfare
In this section we present our results on utilitarian social welfare.

5.1 The Necessity of Non-Negligible Transfer Payments
To begin, recall that an allocation B has b-bounded envy if vi(Bj) - vi(Bi)  b for every pair of agents i, j  N. Without transfers, allocations with b-bounded envy may have very low welfare.

Lemma 5.1. For utilitarian social welfare, there exist instances with additive valuation functions

such that any allocation with b-bounded envy has a welfare guarantee of at most 2

b m

+

1 n

.

Proof. Consider the following instance with additive valuations. Let vn,j = 1 for each j  M and
let vij =  for all i = n and all j  M. Evidently, to maximize utilitarian social welfare we simply give all the items to agent n. So SW(A) = m. Because the items are interchangeable for every

agent, any allocation A can be described as (y1, · · · , yn-1, yn = x), where yi is the fraction of items

allocated to agent i. to the agent. Since every item must be allocated, we have

n-1 i=1

yi

=

(1

-

x).

The

corresponding

welfare

guarantee

for

the

allocation

A

is

then

SW(A) SW(A )

=

(1

-

)x

+

.

Now suppose A has b-bounded envy. Therefore, vi(Aj) - vi(Ai)  b, for any pair of agents

i, j  N . In particular, m(yi -x)  b since agent n cannot envy agent i too much and m(x-yi) 

b since agent i cannot envy agent n too much. Summing the later inequality over all agents i gives

15

m((n

-

1)x

-

(1

-

x))



(n

-

1)b.

This

implies

x



(1

-

1 n

)

b m

+

1 n

.

Thus

SW(A) SW(A)

=

(1

-

)x

+



 (1 - )

1

-

1 n

b m

+

1 n

+

2

b m

-

b m

+

1 n

2

b m

+

1 n

Here the second inequality holds by setting  =

b m

.

Lemma 5.1 implies that any EFk allocation in the given example, with k = o(m), cannot

provide

a

welfare

guarantee

that

is

significantly

higher

than

1 n

.

The

natural

question

to

ask,

now,

is

whether the problem inherent in Lemma 5.1 can be rectified with a small quantity of transfers. On

the positive side, the result of Brustle et al. [14] shows that a small quantity of subsidy independent

of the number of items is always sufficient to eliminate envy. A similar result also extends to the

corresponding natural transfer payments. Combining this result with Lemma 3.1 tells us that a

utilitarian

welfare

guarantee

of

1 n

can

be

achieved

alongside

envy-freeness

with

a

negligible

total

transfer. Unfortunately, for the above example, the Iterated Matching Algorithm of [14] returns

an

allocation

whose

social

welfare

is

only

a

1 n

-fraction

of

the

optimal

welfare.

The following

corollary shows that this was inevitable: unlike for NSW, in order to make any improvement above

this threshold, non-negligible transfers are required.

Corollary 5.2. For any  

1 n

,

1

,

there

exists

an

instance

with

additive

valuations

such

that

any envy-free allocation with transfers (A, t) satisfying

SW(A,t) SW(A)



 requires a total transfer

iN

|ti|



1 4



-

1 n

2 m.

Proof. Take the same instance as in Lemma 5.1. Now for utilitarian social welfare, we have
SW(A) = SW(A, t) as iN (vi(Ai) + ti) = iN vi(Ai) + iN ti = iN vi(Ai). Let A be the allocation that maximizes the social welfare. Thus

SW(A, t) SW(A)

=

(1 - )x + 





(3)

Next, observe that x = yn  yi, for each i otherwise the allocation A is not envy-freeable. Thus tn  0. Then, by envy-freeness of (A, t), we must have mx + tn  myi + ti and myi + ti  mx + tn. It follows that

n-1

n-1

(n - 1) · (mx + tn)  m · yi + ti = m · (1 - x) - tn

i=1

i=1

Rearranging we obtain n · (mx + tn)  m. In particular,

-tn  m ·

x

-

1 n

(4)

16

Combining (3) and (4) we get

|ti|  |tn|  -tn  m ·

x

-

1 n

 m ·

 1

- -

 

-

1 n

iN

Finally, choosing  = 1 -

1-

1-

1 n

gives

the

desired

bound.

5.2 Constant-Sum Valuations

So, for utilitarian social welfare, non-negligible transfers are required to ensure both envy-freeness

and high welfare. Recall, though, that balancing constraints on the valuation functions have been

used in the literature to circumvent impossibility bounds on welfare. The reader may wonder

if such constraints could be used to bypass the result in Corollary 5.2: are negligible transfer

payments sufficient to obtain high welfare when the valuation functions are constant-sum? The

answer is NO, as we shall see in the subsequent theorem.

In recent work, Barman et al. [6] considered the case of subadditive valuations with the constant-

sum condition, and gave a polynomial-time algorithm that finds an EF1 allocation with social wel-

fare at least ( 1n ) of the optimal welfare. Applying the algorithm of Lemma 3.6 to the resulting

allocation

gives

us

an

envy-free

allocation

with

negligible

transfers

and

welfare

ratio

(

1 n

).

Once

again, we show that this threshold cannot be crossed without non-negligible transfers.

Theorem 5.3. There exist instances with constant-sum additive valuations such that any envy-free

allocation with transfers (A, t) satisfying

SW(A,t) SW(A)



 has a total transfer

iN |ti|  (- 2n ) mn ,

for

any





[

2 n

,

1].

Proof. Consider an instance with m items and n agents. Divide the items into n sets, each of

cardinality

m n

.

Let B

be

the

set

of

items

{(

-

1)

m n

+

1,

(

-

1)

m n

+

2,

·

·

·

,



m n

}.

We now

define a collection of constant-sum additivevaluation functions. We partition the set of agents into

two parts; agents in theset H = {1, · · · , n} have high value for a small number of items, and

agents in the set L = { n + 1, · · · , n} have low value for a large number of items. A high value

agent i has valuations vij = 1 for j  Bi and zero otherwise. Thus for each agent i  H there is a

corresponding for all j  M.

set Bi which it values. Each Observe that the value each

low value agent has

agent has a uniform valuation of vij = for the grand bundle is exactly mn , that

1 n
is,

constant-sum. Note that any allocation to a high value agent i can be described by the fraction of

Bi which it receives. Consider an envy-freeable allocation A that assigns an xi-fraction and a ykifraction of Bi to i  H and k  L respectively. By envy-freeability we must have xi  yki for all i  H and k  L. We also have that xi + kL yki = 1. Observe that the utilitarian social welfare is maximized by allocating Bi to the high value agent i; this allocation satisfies SW(A) = m. We

17

then have

SW(A) SW(A)

=

1 m

m n

xi

+

m n

yki n

iH

iH kL

=

1 m

m n

xi

+

m n

(1 - xi)

iH

iH

=

1 n



1

-

1 n

xi + 1

iH

From this we can infer that

iH xi



 n

-

1.

Now, let t be valid transfer payments.

By

envy-freeness, we see that for any i, k

m n

·

ykj n

+ tk



m n

·

xi n

+

ti

jH

First summing over i  H and then summing over k  L gives

m n

 ykj + n

tk  m

1

-

1 n

 xi + (n - n) ti

kL jH

kL

iH

iH

Sum iN ti = 0, rearranging gives

0m

xi

-

m n

xi + yki + n ti  m

xi - 1 + n ti

iH

iH

kL

iH

iH

iH

In particular,

Now recall that

-

ti



m n

iH

 iH xi  n - 1. Thus

xi - 1
iH

|ti|  -

ti



m n



-

2 n

iN

iH

0

So non-negligible transfer payments are required even assuming constant-sum valuations. This adds to our collection of negative results for utilitarian social welfare. Are any positive results possible? Specifically, can we at least match the lower bounds on transfer payments inherent in the these negative results. We will now show this can indeed be approximately achieved.

18

5.3 Upper Bounds on Transfer Payments

To conclude the paper, we present results that upper bound the total transfer required to obtain an
envy-free allocation with a utilitarian social welfare guarantee. We give upper bounds for additive
and general valuation functions. In both cases, the bound we obtain is expressed as a function of
the maximum value that an agent receives in the welfare-optimal allocation. In particular, while the lower bounds are obtained as functions of m, the upper bounds we get are expressed as functions of the product of n and maxi vi(Ai ). In allocations that distribute utility uniformly amongst the agents, these expressions are comparable; even in the worst case, since vi(Ai )  m for any i, they differ by some function of only n, and this difference is independent of the number of items. We begin with the additive case.

Theorem 5.4. For additive valuations, for any   (0, 1], there is an envy-free allocation with

transfers (A, t) such that

SW(A, t) SW(A)





with total transfer

iN

|ti|



n(

max i

vi(Ai )

+

2).

Proof. We prove this result with a simple polytime algorithm (see Algorithm 1) that outputs the desired allocation with transfers (A, t).

ALGORITHM 1: Envy-free allocation with high welfare and small transfers for additive
valuations
Ai   for all i  N ; A = (A1, · · · , An)  Welfare-Maximizing Allocation; for i = 1 to n do
Ai  minimal set Xi  Ai with vi(Xi)   · vi(Ai ) end
Use the Iterated Matching Algorithm of [14] to allocate M \ iN Ai; Compute the natural transfers (t1, · · · , tn); return (A, t)

By additivity, the optimal allocation A assigns each item in M to an agent with the greatest valuation for that item. Consequently, X = (X1, · · · , Xn) maximizes welfare among all reassignments of its bundles, so X is an envy-freeable allocation of the items i[n] Xi. By construction, we have SW(X)   SW(A). Now let P be any path in the envy-graph GX , without loss of generality, P = (1, 2, . . . , r). Then

r-1

wX (P ) = vi(Xi+1) - vi(Xi)

i=1

 - (vr(X1) - vr(Xr))



max i

vi(Xi)





max i

vi(Ai )

+

1

19

Here the first inequality holds by Theorem 3.3 as the envy-graph contains no positive cycle. The
last inequality holds by the minimality of Xi. Next, let (Y1, · · · , Yn) be the allocation of the remaining items (Ai \ Xi) given by the Iterated Matching Algorithm. The key properties we
i
require from this algorithm are that the allocation Y is envy-freeable and that, for any path P ,
weight of the path wY (P )  1 (see [14]). But Algorithm 1 simply outputs the allocation Ai = Xi  Yi for each agent i. Hence

wA(P )

=

wX (P ) + wY (P )





max i

vi

(Ai )

+

2

Now if we take s to be the minimum subsidy payments required for envy-freeness then si 



max i

vi(Ai ) + 2,

for

each

agent

i.

Using

the

transfer

payments

ti

=

si

- s¯,

we

have

that

i |ti| 

n(

max i

vi(Ai )

+

2),

as

claimed.

Finally, we show how to upper bound the transfer payments in the case of general valuation

functions.

Here, the welfare target is limited to the constant factor

1 3

,

and

the

gap

between

our

lower and upper bounds widens by a factor of n, but once again, this gap is independent of m.

Theorem 5.5. For general valuations, for any  

0,

1 3

,

there is an envy-free allocation with

transfers (A, t) such that

SW(A, t) SW(A)





with total transfer iN |ti|  2n2 (3 maxi vi (Ai ) + 2).

Proof. We prove this result using an algorithm (see Algorithm 2) that outputs the desired allocation

with transfers (A, t).

We first show the bound on the transfer payments. Let X = (X1, · · · , Xn) be the partial

allocation obtained when the for loop finishes in Algorithm 2. Note that by the ordering of

the optimal allocation, and by minimality of the allocated sets, we have, for any pair i, j of

agents, vi(Xj)  3 maxi vi(Ai ) + 1. Thus vi(Xj) - vi(Xi)  3 maxi vi (Ai ) + 1. At this stage, applying the envy-cycles procedure of [32] does not increase the envy by more than one.

Let B = (B1, · · · , Bn) be the partial allocation obtained after this step. We therefore have

vi(Bj) - vi(Bi)  3 maxi vi(Ai ) + 2. Now, by Lemma 3.6, we have that (A, t) is envy-free

and iN |ti|  2n2 (3 maxi vi (Ai ) + 2).

In

order

to

show

that

SW(A,t) SW(A)



,

it suffices

to

show

SW(X ) SW(A)



:

since

we

add

items

to

X

to obtain A, we have SW(X)  SW(A), and since introducing transfers does not affect utilitarian

welfare, we have SW(A, t) = SW(A). Let S  N be the set of time steps in which a set was

allocated during the for loop . The welfare SW(X) then satisfies

SW(X) 

3 · v(k)(A(k))

(5)

kS

Next consider rounds k  N \ S, that is, the rounds when a bundle is not allocated. Since agent (k) can otherwise be allocated the set A(k), if no set is allocated in round k then either agent (k) has already received a set X(k) of value at least 3 · v(k)(A(k)) or some other

20

ALGORITHM 2: Envy-free allocation with high welfare and small transfers for general
valuations
Bi   for all i  N ; A = (A1, · · · , An)  Welfare-Maximizing Allocation; Let  be an ordering of the agents with A(1)  A(2)  · · ·  A(n); for k = 1 to n do
Let S be the set of all X  M such that: · vj(X)  3v(k)(A(k)) for some j with Bj = , · X  Ai for some i, and · X  B =  for all 
if |S| =  then
Xk  argminXS |X|;
Bj  Xk; end
end
Apply the envy-cycles procedure of Lipton et al. [32] to allocate the items in M \ iN Bi; Reassign bundles B = (B1, · · · , Bn) to the agents to maximize the sum of utilities. Call this allocation A; Compute the natural transfers (t1, · · · , tn); return (A, t)

agent who came before her received a set Xf(k)  A(k) of value at least 3 · v(k)(A(k)). Thus max vf(k)(Xf(k)), v(k)(X(k))   · v(k)(A(k)) and so

 · v(k)(A(k)) 

max vf(k)(Xf(k)), v(k)(X(k))

kN \S

kN \S



vf(k)(Xf(k)) + v(k)(X(k))

kN \S

 2 · SW(X)

(6)

Summing (5) and (6) immediately gives the utilitarian welfare guarantee.

3 SW(X) 

3 · v(k)(A(k)) +

3 · v(k)(A(k))

kS

kN \S

= 3

v(k)(A(k))

kN

= 3 · SW(A)

References
[1] A. Alkan, G. Demange, and D. Gale. 1991. Fair Allocation of Indivisible Goods and Criteria of Justice. Econometrica 59, 4 (1991), 1023­1039.
21

[2] E. Aragones. 1995. A derivation of the money Rawlsian solution. Social Choice and Welfare 12, 3 (1995), 267­276.
[3] E. Arunachaleswaran, S. Barman, R. Kumar, and N. Rathi. 2019. Fair and Efficient Cake Division with Connected Pieces. In Web and Internet Economics. 57­70.
[4] Haris Aziz. 2020. Achieving Envy-freeness and Equitability with Monetary Transfers. arXiv:2003.08125 [cs.GT]
[5] H. Aziz and S. Mackenzie. 2016. A Discrete and Bounded Envy-Free Cake Cutting Protocol for Any Number of Agents. In 2016 IEEE 57th Annual Symposium on Foundations of Computer Science (FOCS). 416­427.
[6] S. Barman, U. Bhaskar, and N. Shah. 2020. Optimal Bounds on the Price of Fairness for Indivisible Goods. In Web and Internet Economics. 356­369.
[7] S. Barman, S. Krishnamurthy, and R. Vaish. 2018. Finding fair and efficient allocations. In Proceedings of the 2018 ACM Conference on Economics and Computation. 557­574.
[8] X. Bei, N. Chen, X. Hua, Tao B., and E. Yang. 2012. Optimal Proportional Cake Cutting with Connected Pieces. In Proceedings of the Twenty-Sixth AAAI Conference on Artificial Intelligence, July 22-26, 2012, Toronto, Ontario, Canada.
[9] X. Bei, X. Lu, P. Manurangsi, and W. Suksompong. 2019. The Price of Fairness for Indivisible Goods. In Proceedings of the Twenty-Eighth International Joint Conference on Artificial Intelligence, IJCAI-19. 81­87.
[10] N. Benabbou, M. Chakraborty, A. Igarashi, and Y. Zick. 2020. Finding Fair and Efficient Allocations When Valuations Don't Add Up. In Algorithmic Game Theory. 32­46.
[11] D. Bertsimas, V. Farias, and N. Trichakis. 2011. The Price of Fairness. Operations Research 59, 1 (2011), 17­31.
[12] V. Bilò, I. Caragiannis, M. Flammini, A. Igarashi, G. Monaco, D. Peters, C. Vinci, and W. Zwicker. 2018. Almost Envy-Free Allocations with Connected Bundles. In 10th Innovations in Theoretical Computer Science Conference (ITCS 2019), Vol. 124. 14:1­14:21.
[13] S. Brams and A. Taylor. 1995. An Envy-Free Cake Division Protocol. The American Mathematical Monthly 102, 1 (1995), 9­18.
[14] J. Brustle, J. Dippel, V.V. Narayan, M. Suzuki, and A. Vetta. 2020. One Dollar Each Eliminates Envy. In Proceedings of the 21st ACM Conference on Economics and Computation. 23­39.
[15] E. Budish. 2011. The Combinatorial Assignment Problem: Approximate Competitive Equilibrium from Equal Incomes. Journal of Political Economy 119, 6 (2011), 1061­1103.
[16] I. Caragiannis, N. Gravin, and X. Huang. 2019. Envy-Freeness Up to Any Item with High Nash Welfare: The Virtue of Donating Items. In Proceedings of the 2019 ACM Conference on Economics and Computation. 527­545.
22

[17] I. Caragiannis, C. Kaklamanis, P. Kanellopoulos, and M. Kyropoulou. 2009. The Efficiency of Fair Division. In Internet and Network Economics. 475­482.
[18] I. Caragiannis, D. Kurokawa, H. Moulin, A. Procaccia, N. Shah, and J. Wang. 2019. The Unreasonable Fairness of Maximum Nash Welfare. ACM Trans. Econ. Comput. 7, 3 (2019), 12:1­32.
[19] Y. Cohler, J. Lai, D. Parkes, and A. Procaccia. 2011. Optimal Envy-Free Cake Cutting. In Proceedings of the Twenty-Fifth AAAI Conference on Artificial Intelligence, AAAI 2011, San Francisco, California, USA, August 7-11, 2011.
[20] N. Devanur, C. Papadimitriou, A. Saberi, and V. Vazirani. 2008. Market Equilibrium via a Primal­Dual Algorithm for a Convex Program. J. ACM 55, 5 (2008).
[21] L. E. Dubins and E. H. Spanier. 1961. How to Cut A Cake Fairly. The American Mathematical Monthly 68, 1 (1961), 1­17.
[22] D. Foley. 1967. Resource allocation and the public sector. Yale Econ Essays 7, 1 (1967), 45­98.
[23] G. Gamow and M. Stern. 1958. Puzzle-Math. Viking Press.
[24] J. Garg and P. McGlaughlin. 2019. Improving Nash Social Welfare Approximations. In Proceedings of the Twenty-Eighth International Joint Conference on Artificial Intelligence, IJCAI-19. 294­300.
[25] J. Garg and S. Taki. 2020. An Improved Approximation Algorithm for Maximin Shares. In Proceedings of the 21st ACM Conference on Economics and Computation. 379­380.
[26] M. Ghodsi, M. Taghi Hajiaghayi, M. Seddighin, S. Seddighin, and H. Yami. 2018. Fair Allocation of Indivisible Goods: Improvements and Generalizations. In Proceedings of the 2018 ACM Conference on Economics and Computation, Ithaca, NY, USA, June 18-22, 2018. 539­556.
[27] Hiromichi Goko, Ayumi Igarashi, Yasushi Kawase, Kazuhisa Makino, Hanna Sumita, Akihisa Tamura, Yu Yokoi, and Makoto Yokoo. 2021. Fair and Truthful Mechanism with Limited Subsidy. arXiv:2105.01801 [cs.GT]
[28] C-J. Haake, M. Raith, and F. Su. 2002. Bidding for envy-freeness: A procedural approach to n-player fair-division problems. Social Choice and Welfare 19, 4 (2002), 723­749.
[29] D. Halpern and N. Shah. 2019. Fair Division with Subsidy. In Proceedings of the 12th International Symposium on Algorithmic Game Theory (SAGT). 374­389.
[30] F. Klijn. 2000. An algorithm for envy-free allocations in an economy with indivisible objects and money. Social Choice and Welfare 17 (2000), 201­215.
[31] D. Kurokawa, A. Procaccia, and J. Wang. 2018. Fair Enough: Guaranteeing Approximate Maximin Shares. J. ACM 65, 2 (2018).
23

[32] R. Lipton, E. Markakis, E. Mossel, and A. Saberi. 2004. On Approximately Fair Allocations of Indivisible Goods. In Proceedings of the 5th ACM Conference on Electronic Commerce (EC). 125­131.
[33] E. Maskin. 1987. On the Fair Allocation of Indivisible Goods. 341­349. [34] J. Robertson and W. Webb. 1998. Cake-Cutting Algorithms: Be Fair if You Can. Taylor &
Francis. [35] H. Steinhaus. 1948. The Problem of Fair Division. Econometrica 16, 1 (1948), 101­104. [36] W. Stromquist. 1980. How to Cut a Cake Fairly. The American Mathematical Monthly 87, 8
(1980), 640­644. [37] F. Su. 1999. Rental Harmony: Sperner's Lemma in Fair Division. The American Mathemat-
ical Monthly 106, 10 (1999), 930­942. [38] L-G. Svensson. 1983. Large Indivisibles: An Analysis with Respect to Price Equilibrium and
Fairness. Econometrica 51, 4 (1983), 939­954. [39] K. Tadenuma and W. Thomson. 1993. The fair allocation of an indivisible good when mone-
tary compensations are possible. Mathematical Social Sciences 25, 2 (1993), 117­132. [40] H. Varian. 1974. Equity, envy, and efficiency. Journal of Economic Theory 9, 1 (1974), 63 ­
91.
24

