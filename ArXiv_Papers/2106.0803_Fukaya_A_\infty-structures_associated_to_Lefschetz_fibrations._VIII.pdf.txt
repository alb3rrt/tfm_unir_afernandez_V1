arXiv:2106.00803v1 [math.SG] 1 Jun 2021

Fukaya A-structures associated to Lefschetz fibrations. VIII
Paul Seidel
Abstract. We use Lefschetz pencil methods to derive structural results about Fukaya categories of Calabi-Yau hypersurfaces; in particular, concerning their dependence on the Novikov parameter.
1. Introduction
Warning to the reader. The arguments in this paper cite two preprints [45, 46] which do not at present exist. Until that is remedied, the proofs cannot be considered complete, and this paper should be regarded as a preliminary research announcement.
(1a) Overview. Take a closed symplectic manifold of dimension (2n - 2), which is a symplectic Calabi-Yau. By this, we mean that it has zero first Chern class and integral symplectic class; for instance, it could come from a smooth projective Calabi-Yau variety and a choice of ample line bundle. The Fukaya categories of such manifolds are central objects in symplectic topology and mirror symmetry. By construction, the Fukaya category involves a formal parameter, the Novikov parameter q (one could call it a formal "family of categories" parametrized by q). Intuitively, - log(q) controls the scale of the symplectic form (hence, q  0 corresponds to the large volume limit). A priori, the Fukaya category can involve arbitrary series in q, but one would naturally like to constrain its structure on some deeper level.
Fundamental progress in this direction was achieved in Ganatra-Perutz-Sheridan's paper [11], where they characterize q intrinsically, among all its possible reparametrizations, in terms of the noncommutative Hodge theory associated to the Fukaya category (this is partly based on earlier ideas of Kontsevich and Barannikov, as well as the canonical coordinates in classical, meaning enumerative, mirror symmetry). When applying this characterization, one starts with an explicit algebraic model for the Fukaya category written in terms of an a priori unknown parameter t = f (q), a kind of result that can be obtained in many examples by showing that the Fukaya category is a versal deformation of its q = 0 limit (e.g. [37, 47]). The Ganatra-Perutz-Sheridan argument then determines the inverse map of f , thereby allowing one to recover the natural parametrization by q. As a highly desirable byproduct, this approach computes certain GromovWitten invariants, for instance providing a new proof of the classical formula for rational curves on the quintic threefold. The structural implications of this method for the Fukaya category depend on the nature of the algebraic model. In the simplest possible situation, if that model
1

2

PAUL SEIDEL

were polynomial in t, then the resulting picture of the Fukaya category is that it is polynomial in f (q). However, that kind of information has to be obtained on a case-by-case basis, typically being read off from the mirror geometry.

This paper pursues a different approach, which eschews noncommutative Hodge theory, relying instead on noncommutative counterparts of classical algebro-geometric notions (notably that of divisor). In a nutshell one could say that, while Ganatra-Perutz-Sheridan think of the Hodge theory of the mirror, and implement the resulting insights in terms that involve only the Fukaya category, we go through a philosophically parallel process concerning the geometry of the mirror. To be clear: mirror symmetry does not actually appear in our results, it only provides the motivation. Moreover, while the outcome of our considerations has some overlap with that of Ganatra-Perutz-Sheridan, the formalism itself is entirely different.

Concretely, we start with a monotone symplectic manifold (such as a Fano variety) carrying an anticanonical Lefschetz pencil, and take our Calabi-Yau to be a member of that pencil. That additional geometric structure will be crucial throughout. In the end, we prove that the qdependence in a subcategory of the Fukaya category is restricted to explicitly given finitely generated rings of functions of q. In the simplest version of our result, the dependence turns out to be polynomial in some t = f (q). The function f is given in terms of a Schwarzian differential equation involving Gromov-Witten invariants. Our argument does not compute those invariants (of course, there are other methods available for that). The q-dependence statement is part of a deeper description of the Fukaya category, which greatly constrains its structure.

(1b) Setup. Let's introduce notation for the various manifolds that are part of our setup (this follows the idiosyncratic conventions from [40]). Write C| = C  {} for the projective line. The graph of our Lefschetz pencil, which one can think as being obtained by blowing up the base locus of the pencil, is a Lefschetz fibration

(1.1)

p : E - C|.

We assume that the fibre at  is smooth, and call that M¯ . From the blowup, E inherits an exceptional divisor E|, whose intersection with M¯ we denote by M . It comes with a canonical isomorphism E| = C| × M . For ease of reference, here is a list of the manifolds we have
mentioned, and other related ones, arranged in increasing order of dimensions:

(1.2)

M
M¯ M = M¯ \ M E| E = E| \ M E
E¯ = E \ M¯
E = E¯ \ E

a closed (2n-4)-manifold, which represents the symplectic class in M¯ the symplectic Calabi-Yau, a closed (2n-2)-manifold, and
the fibre at  of (1.1) a noncompact exact symplectic (2n - 2)-manifold
the exceptional divisor, isomorphic to C| × M
where we think of M as lying over   C|
A closed 2n-manifold, and the total space of (1.1) which comes with the restriction of (1.1), a Lefschetz fibration p¯ : E¯  C containing E as a fibrewise symplectic hypersurface which comes with an exact Lefschetz fibration p : E  C.

LEFSCHETZ FIBRATIONS

3

Convention 1.1. We will always assume that M¯ , and therefore E¯, is connected. We will not always impose a connectedness assumption on E (or equivalently M ), even though later, one of our results will require it (Theorem 1.15).

The simplest starting point for our discussion is the last-mentioned structure, namely the exact

Lefschetz fibration p. Choose a basis of vanishing cycles, which is an ordered collection of La-

grangian spheres (V1, . . . , Vm) in M . Let B be the full A-subcategory of the Fukaya category of M formed by these objects. One can think of it as a single A-algebra,

(1.3)

m

B=

CF (Vi, Vj),

i,j=1

where CF  are the spaces of Floer cochains (more precisely, this is an A-algebra over the semisimple ring R = Qm). Let's pass from M to its compactification M¯ , and work relative to
M . That gives rise to a deformation of B (part of the relative Fukaya category). Concretely,

the deformation is given by operations

(1.4)

µdBq  Hom2-d(Bd, B)[[q]],

which reduce to the previous ones if we set q = 0. One can think of them as forming an Astructure on Bq = B[[q]] (generally speaking, relative Fukaya categories involve a µ0 curvature term, but in our case one can arrange that this is zero). The main question is, naively speaking: what series in q appear in this deformation? Of course, Floer-theoretic structures on the cochain level depend on many auxiliary choices, and are unique only up to quasi-isomorphism. Hence, a better way of phrasing the question is to ask whether one can find a model, within the quasiisomorphism class of Bq, such that only certain functions of q appear in it.

Remark 1.2. We use Fukaya categories with rational coefficients (Q for B, and Q[[q]] for Bq).

This is not necessary for the definition of those A-structures, where one can work integrally.

However, in the course of our construction, differential equations with respect to q play a crucial

role; to make their theory well-behaved, one has to be able to integrate formal power series. It

seems

possible

that

this

might

work

for

B

defined

over

Z,

and

Bq

defined

over

Z[[q,

1 2

q2

,

1 6

q3,

.

.

.

]];

but the benefits seemed too slim to bother.

(1c) Polynomiality. We begin with a form of our result which, while not the most general or precise one, is more easily accessible.

Theorem 1.3. Suppose that the assumptions (1.6) (topological) and (1.11) (on the GromovWitten theory of E ) hold. Then, that Gromov-Witten theory produces a function

(1.5)

f  Q[[q]], f (0) = 0, f (0) = 0,

such that: there is a quasi-isomorphic model for Bq, in which all operations (1.4) have coefficients which are polynomials in f .

The first assumption is (1.6)

H1(M¯ ; Z) = 0.

4

PAUL SEIDEL

This is technical and presumably unnecessary, but it simplifies our task by removing the need to
keep track of certain bounding cochains. Let's turn to the enumerative side. Take A  H2( E ; Z) which has intersection number k with M¯ . Let

(1.7)

zA  H4-2k( E ; Q)

be the genus zero once-pointed Gromov-Witten invariant for curves in class A (informally, this is the class of the cycle represented by A-curves). One can assemble these cohomology classes into formal series

(1.8)

z(k) =

qE|·AzA  H4-2k( E ; Q((q))).

A·[M¯ ]=k

Out of the three nontrivial cases k = 0, 1, 2, we will only need two:

(1.9)

z(1)  [E|]q-1 + H2( E ; Q[[q]]),

(1.10)

z(2)  H0( E ; Q[[q]]) = Q[[q]].

The leading term in (1.9) comes from trivial sections lying inside E| = C| × M . For (1.10), classes A which have negative intersection number with E| don't contribute, since no stable

maps representing them go through a generic point. The enumerative assumption is:

(1.11)

z(1) lies in the linear subspace of H2( E ; Q((q))) spanned by the classes of the fibre M¯ and exceptional divisor E|.

Because of (1.9), this assumption allows one to write

(1.12)

q-1[E|] = z(1) - [M¯ ] with   1 + qQ[[q]],   Q[[q]].

We use the power series ,  and z(2) to write down a Schwarzian equation

(1.13)

Sqf + 8z(2)2 +

 -


1

2

+ -

= 0.

2



The function f from (1.5) is a solution of this equation. Even though this characterizes f only up to a certain ambiguity (1.16), that is irrelevant, as the statement holds for any solution (Remark 2.19).

Scholium 1.4. We need to recall some elementary background. The Schwarzian differential (see e.g. [28, 29]) is

(1.14)

f Sqf = f

1f 2 f

3f 2

-

=-

.

2f

f 2f

where f = df /dq. Consider Schwarzian equations for a series f as in (1.5), of the form

(1.15)

Sqf + g = 0 with some given g  Q[[q]].

Any such equation has solutions, which can be found by recursively solving for the Taylor coefficients (starting with arbitrary initial values f (q) = a1q + a2q2 + · · · , a1  Q×, a2  Q). In complex geometry, the Schwarzian characterizes a function up to composition with conformal transformations on the left. In our formal situation, a solution of (1.15) in the class (1.5) is unique up to

(1.16)

f

f -

,

a + bf

a  Q×, b  Q.

LEFSCHETZ FIBRATIONS

5

Schwarzian equations appear in the following context. Consider the linear differential equation

(1.17)

s - (g/2)s = 0.

This has a basis of solutions

(1.18)

s0, s1  Q[[q]], with s0(0) = 0, s1(0) = 0, s1(0) = 0.

Then, f = s1/s0 is a solution of (1.15). This gives another proof of the existence of solutions, and also makes (1.16) more intuitive (one can rescale the sk, and also add a multiple of s1 to s0). Slightly more generally, given any equation

(1.19)

s + hs - (k/2)s = 0,

we can substitute exp(- h/2 dq)s instead of s, which reduces it to the form (1.17) with

(1.20)

g = k + h + h2/2.

Hence, quotients of solutions to (1.19) still satisfy (1.15) for that choice of g (one could also derive that directly, without the reduction step).

In our context, (1.13) arises from the linear second order equation

(1.21)

 s + -

s - 4z(2)2s = 0.



It was shown in [41] that this equation arises naturally in the symplectic cohomology of E¯. From there, through several intermediate stages, it makes its way to controlling the structure of Bq. What actually happens is that the quasi-isomorphism class of Bq is completely determined by the following information: the directed subalgebra of B (which is at least in principle amenable to computation in many situations, see e.g. [36]); a small amount of extra information (which can be read off if one knows Bq up to first order in q); and the function f , which is an "external" input from Gromov-Witten theory. We refer to Section 2 for further discussion. In particular, Theorem 1.3 will be derived in Section 2b, by combining two results stated there (Propositions 2.14 and 2.18).

Corollary 1.5. Suppose that assumptions (1.6) and (1.11) hold, and moreover, that the GromovWitten invariants z(1) and z(2) are locally convergent in q. Then there is an A-category quasiisomorphic to Bq, and which, for some > 0, is defined over the ring of q-series with (rational coefficients and) convergence radius  .

In that situation, the coefficients of (1.21) are locally convergent, hence so are its solutions and the function f . That makes Corollary 1.5 an immediate consequence of Theorem 1.3. (This kind of local convergence property of the Fukaya category has been known to hold in some instances, but those are based on homological mirror symmetry, which can't lead to a general statement of the kind made above.)
(1d) Examples. Take the pencil of cubics on CP 2. Since M¯ is a torus, (1.6) doesn't hold; but as we've mentioned, that is a technical condition, and we will explain how to work around it in this particular case (Remark 2.41). Assumption (1.12) holds by [40, Lemma 6.2]. Starting

6

PAUL SEIDEL

with the explicit expressions in [40, Section 6], which are derived from [3], one can write all the

functions in (1.13) in terms of the (quasimodular) Eisenstein series E2:

(1.22)

 = E2(q3) - 1 ,



2q

(1.23)

 =- ,


(1.24)

4z(2)2

= 2 - 

 + 2

,

where  = E2(q3) - 9E2(q9) .



8q

Using Ramajunam's formula 12qE2(q) = E2(q)2 - E4(q) and relations from [23, Table 1], this turns into a remarkably simple expression for (1.13):

(1.25)

Sq f

+

E4(q3) - 1 2q2

=

0.

A solution is (1.26)

f

=

1 ((q)/(q9))3

+

3

=

q

-

5q4

+

32q7

-

198q10

+

1214q13

+

···

The fact that this satisfies (1.25) can be derived from modular form computations. Namely, 1/f

is a hauptmodul for 0(9), and therefore S (f ) = S (1/f ) = 22E4(q3) by [22, Equation 7.2].

Note that what appeared here is the Schwarzian with respect to  = log(q)/2i. An elementary

change-of-variables

formula

says

that

S f

=

42

(

1 2

-

q2Sq

f

),

and

that

leads

to

(1.25).

The

reader

might want to look at [40, Section 7], which explains the relation to mirror symmetry; there, our

1/f appears as [40, Equation 7.13]. Conceptually, the outcome of this discussion is that the

modular q-dependence of the Fukaya category of the torus is directly related to the modularity

of Gromov-Witten invariants of the rational elliptic surface.

Remark 1.6. Suppose that we have a family Ct of elliptic curves. The Picard-Fuchs equation for their periods is a linear second order differential equation. The modulus  =  (Ct), which is the quotient of two periods, therefore satisfies a Schwarzian equation in t. Inverting the relationship,

one gets a Schwarzian equation for the parameter t as a function of  , or equivalently of q = e2i . One can apply this to the mirror of CP 2, meaning the (fibrewise compactified) family Ct = {x + y + x-1y-1 = t-1}, following e.g. [18, 48]. The outcome is the equation

(1.27)

(216t3 + 1) dt 2 1 Sqt + 2t2(27t3 - 1)2 dq - 2q2 = 0,

which is indeed satisfied by the function t = f from (1.26) (compare [48, Table 3]). Even though it arrives at the same solution, and also uses the Schwarzian, this method is substantially different from ours, even on a pedestrian computational level. Differential equations arising from periods, such as (1.27) and the underlying Picard-Fuchs equation, are self-contained in the sense that they only involve rational expressions in the unknown function and its derivatives. In constrast, both (1.21) and (1.13) contain an "external" transcendental term. A comparison of the two approaches yields additional relationships, whose meaning is not evident (for instance, by looking at (1.13) and (1.27), one sees that E4(q3)/q2 is a rational expression in f and f ).

For higher-dimensional Calabi-Yau manifolds, the Picard-Fuchs equations are of order > 2, but they can still give rise to Schwarzian equations for mirror maps under certain circumstances. For

LEFSCHETZ FIBRATIONS

7

one-parameter families of lattice-polarized K3 surfaces, one can write down equations similar to (1.27), see for instance [20, Equation 4.17]. In that case, the underlying phenomenon is that the Picard-Fuchs equation can be written as the symmetric square of a second order equation [5, Theorem 5]. A similar approach for one-parameter families of Calabi-Yau threefolds yields a more complicated result, where the Schwarzian equation has an extra term involving the Yukawa coupling, see [20, Equation 4.24] and more generally [5, Section 4]. The appearance of this term makes the equation superficially more similar to ours; however, there is still no simple relation between the two, as far as this author can see.

Our second example is the pencil of quintic hypersurfaces in CP 4. In that case, Y = E is a hypersurface of bidegree (1, 5) in X = CP 1 × CP 4. The Gromov-Witten invariants of such hypersurfaces can be computed using quantum Lefschetz [13, 19, 12]. We give a brief summary
of how that works out in this particular case (for the benefit of non-specialists, and also because
the computation raises a question, see Remark 1.7). Let x1, x2 be the standard generators of H2(X; Z); q1, q2 the corresponding quantum parameters; and -1 another formal parameter. We assign degrees |q1| = 2, |q2| = 0, | -1| = -2. On the side of Y , one looks at the (degree zero) expression

(1.28)

J =1+

q1d1 q2d2

-m-2zd1,d2,m,Y  H(Y ; Q[[q1, q2, -1]]),

d1 ,d2 0 (d1 ,d2 )=(0,0)

m0

where zd1,d2,m,Y is the one-pointed Gromov-Witten invariant for rational curves of degree (d1, d2), with an m-fold power of the gravitational descendant inserted. By definition, the functions , , z(2) from (1.13) can be read off from the coefficients of (1.28) with m = 0: specifically,

(1.29)

-1(25q-1x22 + 5x1x2) = !

q5d2-1z1,d2,0,Y ,

d2 0

z(2)(x1 + 5x2) = !

q5d2-2z2,d2,0,Y .

d2 >0

On the side of X, the corresponding expression comes with a twist involving the cohomology class [Y ] = x1 + 5x2, and can be computed explicitly (see e.g. [14]):

(1.30)

I = (x1 + 5x2) +

y1d1 y2d2

d1 ,d2 0 (d1 ,d2 )=(0,0)

d1 +5d2 i=0

(x1

+

5x2

+

i

)

m0 -m-2zd1,d2,m,X

= (x1 + 5x2)

(y1/ )d1 y2d2

d1 ,d2 0

d1 +5d2 i=1

((x1

+

d1 i1 =1

(x1

/

+ i1)2

5x2)/ +

d2 i2 =1

(x2

/

i) +

i2)5

.

Here, yi are parameters of the same degrees as the qi. The quantum Lefschetz theorem says that

(1.31)

e-g-(k+l1x1+l2x2)/ I = !J , qi=yieli

where  : Y  X is the inclusion. Generally speaking, g, k, l1, l2 are functions of (y1, y2), involving powers y1d1 y2d2 with d1, d2  0, (d1, d2) = (0, 0). They are constrained by preserving degrees in
(1.31), meaning that g, l1, l2 are functions of y2 only, while k is y1 times a function of y2. One

8

PAUL SEIDEL

can determine these functions completely in terms of I, by looking at specific terms in (1.31):

(1.32)

eg =

d

y2d

(5d)! (d!)5

,

egk =

d

y1y2d

(5d)! (d!)5

(5d

+

1),

egl1 =

d

y2d

(5d)! (d!)5

(1

+

1 2

+

···

+

1 5d

),

egl2 =

d

y2d

(5d)! (d!)5

5(

1 d+1

+

···

+

1 5d

),

which leads to

(1.33) (1.34)

y1 = q1(1 - 274q2 - 50747q22 - 56404664q23 + · · · ), y2 = q2 - 770q22 + 171525q23 - 8162300q24 + · · · .

Note that g2 and l2 agree with their counterparts for the quintic threefold. Hence, (1.34) is the mirror map for the quintic threefold, as it appears in enumerative (and, by [11], also in homological) mirror symmetry. The outcome of applying (1.31) and comparing that to (1.29) is that

 = 1 - 496q5 - 335007q10 - 365737016q15 + · · · ,

(1.35)

 = 940q4 + +856700q9 + 1097543500q14 + · · · ,

z(2) = 600q3 + 1508700q8 + 3364924200q13 + · · · .

Then, (1.13) has a solution

(1.36)

f = q - 154q6 - 13127q11 - 17106304q16 + · · ·

This is a version of the mirror map (1.34), at least as far we can say given the available numerical data (more precisely, it is obtained from (1.34) by substituting q2 = q5, and then considering f = y21/5).
Remark 1.7. The computation above has an unsatisfactory circular nature. We apply quantum Lefschetz to E  CP 1 × CP 5 in order to extract the coefficients for our Schwarzian equation, which then provides the function f (q). On the other hand, quantum Lefschetz already contains the expression q2 = y2el2 , whose inverse is the classical mirror map (1.34). As we have seen, that and f appear to be essentially the same. There should be a reason for this purely in terms of the quantum Lefschetz formalism, and which applies generally to Calabi-Yau hypersurfaces (inside manifolds with b2 = 1, because we're in a single-variable context). In other words, it should be true in general that Theorem 1.3 is compatible with classical mirror symmetry. However, this is beside the thrust of the present paper.

(1e) Consequences. Theorem 1.3 has implications whose statements do not involve vanishing
cycles or relative Fukaya categories. We don't want to engage into an extensive discussion, but we can show a little of what that means. Write FK(M¯ ) for the Fukaya category of M¯ in the ordinary sense [8], which is defined over the algebraically closed Novikov field

(1.37)

K = c = r crqr, : r  R, cr  C, and for any R  R, there are only finitely many cr = 0 with r  R.

LEFSCHETZ FIBRATIONS

9

Objects of FK(M¯ ) are Lagrangian submanifolds L  M¯ which are graded, Spin, and come with a bounding cochain (a solution of the curved Maurer-Cartan equation), as well as a flat complex line bundle.

Corollary 1.8. Assume that Theorem 1.3 applies, and let f be the function that appears there. Take the full A-subcategory of FK(M¯ ) consisting of those L  M such that H1(L) = 0. Then, that subcategory is quasi-isomorphic to one which is defined over the algebraic closure Q(f )  K.

Such L, when made into objects of the Fukaya category, have the property that their Floer cohomology

(1.38)

HF K(L, L) = H(homFK(M¯ )(L, L))

vanishes in degree 1 (in other words, they are rigid objects). Our basis of vanishing cycles gives rise to a full subcategory of FK(M¯ ) which is quasi-isomorphic to Bq Q[[q]] K, and which splitgenerates the entire Fukaya category. The split-generation statement is a consequence of the long

exact sequence in [27] and the grading argument from [36, Corollary 5.8]. With that in mind,

Corollary 1.8 follows from Theorem 1.3 and [40, Lemma A.14]. (It might be interesting to study

generalizations to non-rigid objects, where instead of a single object one would have to consider

a versal family; however, we will not pursue that here). As promised, let's consider some more

specific implications on the level of Floer cohomology.

Application 1.9. Take L as in Corollary 1.8. Suppose that HF K(L, L) is one-dimensional in some degrees i1, i2, i3 = i1 +i2. Choose generators x1 and x2 in the first two degrees, and assume that their Floer-theoretic product x1 · x2 is nonzero. If we write

(1.39)

(x2

·

x1)

=

g

(-1)i1i2 (x1

·

x2)



HF

i1+i2 (L,
K

L),

then g  K is independent of the choice of generators (and in general nonzero, due to the noncommutativity of the product). Corollary 1.8 implies that g  Q(f ).

Application 1.10. Take a symplectic automorphism  : M¯  M¯ (equipped with a grading).

Consider

the

fixed

point

Floer

cohomology

of

its

iterates,

denoted

by

HF

 K

(r

),

with

the

pair-of-

pants product. The degree zero part of these groups forms a graded algebra over K,

(1.40)

HF 0K(r).
r0

(See [1, 15] for appearances of specific instances of this algebra in mirror symmetry.) In the
situation of Theorem 1.3, it turns out that (1.40) is defined over Q(f ). To see why that is true, one uses the product M¯ 2 = M¯ × M¯ , where the sign of the symplectic form on the second factor is reversed. The graph  = {((x), x)} is a Lagrangian submanifold of M¯ 2. All graphs can be
made into objects of the Fukaya category in a preferred way (up to quasi-isomorphism), and

(1.41)

HF

 K

()

=

HF

 K

(

,

id

).

There are exact triangles in FK(M¯ 2) associated to Dehn twists along any Lagrangian sphere S,

(1.42)

(S) × S l canonical / 

/ S

[1]

10

PAUL SEIDEL

(The version of this statement for monotone symplectic manifolds is in [49, 24] and, as pointed
out in the latter reference, one can think of it as a mild generalization of the exact triangle for
Lagrangian surgery [7], hence prove it by cobordisms [2]; that approach generalizes to the Calabi-
Yau case.) By repeated use of that, for S = Vi, and the same grading trick as in [36, Corollary 5.8], one can show that FK(M¯ 2) is split-generated by products Vi ×Vj. In the situation of Theorem 1.3, all graphs are rigid objects, since we have assumed that H1(M¯ ) = 0. Hence, Corollary 1.8
implies that the full subcategory of all graphs is defined over Q(f ), which in particular yields the result we have stated.

(1f ) Structural properties. Underlying Theorem 1.3 is a more detailed statement. Let's first introduce the directed version of (1.3),

(1.43)

C~ = Qe~Vk  CF (Vi, Vj).

k

i<j

The second summand inherits an A-structure from that of B, and we then add the e~Vk artificially, as strict identity endomorphisms of each Vk. Next, consider a kind of double of C~,
namely

(1.44)

C~  C~[1 - n],

where C~ is the dual graded vector space, which appears in (1.44) with its grading shifted up by 1 - n. Let's give (1.44) an additional grading (called weight grading for lack of a better name; it has nothing to do with Hodge theory), where the first summand has weight 0, and the second weight -1.

Theorem 1.11. In the situation of Theorem 1.3, there is a quasi-isomorphic model for Bq which lives on the space (1.44), and which has the following properties. All A-operations are nondecreasing with respect to weights; the weight 0 part of those operations is the trivial extension algebra constructed from C~; and the part that increases weights by r has coefficients which are polynomials of degree  r in f . Moreover, in this context, knowledge of the weight  1 part
determines the entire A-structure, up to quasi-isomorphism.

The trivial extension algebra mentioned in the theorem is an A-structure one can put on (1.44), using the A-structure on C~ and the structure (derived from that) of of C~ as the dual diagonal A-bimodule over C. The trivial extension algebra structure has weight 0 (is homogeneous with respect to weights).
If one wants to use Theorem 1.11 as a concrete tool to compute Bq in examples, the first step is to determine (1.43). This A-structure is defined inside the exact symplectic manifold M , and because of directedness, it has only finitely many nonzero A-operations; nevertheless, computing it is quite cumbersome, because anticanonical Lefschetz pencils tend to have a large number of vanishing cycles. However, one can also apply this method to obtain information about more degenerate (and hence simpler) situations. It is hard to explain this without digging further into the details, but we can outline what it means in one instance.

LEFSCHETZ FIBRATIONS

11

Example 1.12. Consider the Lefschetz fibration (with (n + 1)n critical points)

(1.45)

E¯ = {(z, x)  C × CP n : xn0 +1 + · · · + xnn+1 = zx0 · · · xn}, p¯ : E¯ - C, p¯(x, z) = z, E = C × {x0 · · · xn = 0}  E¯.

As usual, we set E = E¯ \ E and p = p¯|E. Temporarily departing from our usual notation, write M¯ for some smooth fibre of p¯, and M = E  M¯ . Even though E, and therefore M , are not smooth (they have normal crossing singularities), one can still define B and its deformation Bq, see [47]. We will use C instead of our usual Q as a coefficient field in Floer cohomology, because that is more familiar from a mirror symmetry viewpoint. The directed subcategory (1.43) is particularly simple to understand: writing  for derived equivalence,

(1.46)

C~  DbCoh(CP n).

Here,  = (Z/n+1)n-1 acts on projective space by diagonal matrices whose entries are roots of unity, and which have determinant 1. One considers the corresponding category of equivariant coherent sheaves, and its bounded derived category as a dg category (which is the notation Db above). One can prove (1.46) by noticing that p : E  C is a fibrewise -cover of the standard mirror of projective space, and then apply [9]; this in fact yields an equivariant exceptional collection on CP n which explicitly corresponds to a basis of vanishing cycles for p. As one consequence of (1.46), one can use algebraic geometry to carry out certain computations in the category of C~-bimodules (we refer to Sections 2a and 3a for the notation):

(1.47)

H 0 (hom (C~ ,C~ ) (C~  [-n],

C~))

=

Hom

 CP

n

×CP

n (O



K,

O)

= H0(CP n, K-1) = C · y0n+1  C · y1n+1  · · ·  C · ynn+1 + C · (y0 · · · yn).

The computation takes place in the category of equivariant sheaves on CP n × CP n; O is the
structure sheaf of the diagonal; K is the canonical bundle; and y0, . . . , yn are the standard coordinates on Cn+1. In the same way,

(1.48)

H  (hom (C~ ,C~ ) ((C~  [-n])r ,

C~))

=

Ext

, CP n

×CP

n

(O



Kr ,

O)

=

0

for  < 0 and any r  1.

Think of (1.45) as coming from the pencil of degree (n + 1) hypersurfaces on CP n generated by

(1.49) (1.50)

xn0 +1 + · · · + xnn+1 = 0, x0 · · · xn = 0.

Because the latter hypersurface is singular, this is not an instance of our usual framework (as defined in Section 1b). However, one can slightly perturb (1.50) to obtain a Lefschetz pencil. For n > 2, that pencil satisfies (1.6) and (1.11) for simple topological reasons; and the n = 2 case is the first example from Section 1d. The perturbation gives rise to new vanishing cycles, but the old vanishing cycles remain, and their Floer-theoretic structures are unaffected up to quasi-isomorphism. More precisely, one can choose a basis of vanishing cycles for the Lefschetz fibration which consists of the old (n + 1)n ones plus others added on at the end; and then, the full subcategory formed by the old vanishing cycles, up to quasi-isomorphism, is the B (or Bq) we have been considering. This implies that all the statements in Theorem 1.11 hold for the situation

12

PAUL SEIDEL

of (1.45), except possibly for the last one; however, that last one can be proved by inspecting its origin (Corollary 3.10) and applying (1.48).

The outcome of this is that, in order to determine Bq, only one additional piece of information is
necessary, namely its weight 1 part. Moreover (see again Corollary 3.10), that part is determined by an element q  H0(hom(C~,C~)(C~[-n], C~))[[q]]. In terms of (1.47) we can write

(1.51)

q = s0 + f (q)s1,

where s0, s1  H0(CP n, K-1), and f is a solution (1.13). Suppose that one knew two additional facts:

(1.52) (1.53)

s0 is a nonzero multiple of y0 · · · yn; s1 = c k ykn+1+ (a multiple of )y0 · · · yn, with c = 0.

The first of these is not hard to derive, at least in principle. The map s0 can be read off by setting
q = 0, which means that it is part of the structure of B, hence inherits additional symmetries from 1(E) = Zn, which necessarily make it a multiple of y0 . . . yn; and then, one could argue indirectly, namely that a relation between the localisation of C~ along s0 and the wrapped Fukaya
category of E implies that s0 is nonzero. For (1.53), one could again use additional symmetries to argue that all ykn+1 must come with the same coefficient. The remaining part would amount to showing that Bq is not q-independent up to quasi-isomorphism (for which there are again possible
indirect approaches, which we will not attempt to discuss here).

Assuming (1.52), (1.53) hold, Theorem 1.11 together with the automatic split-generation result from [30, 10] and an easy algebro-geometric argument imply that

(1.54)

FK(M¯ )  DbCoh(Xq), Xq = y0n+1 + · · · + ynn+1 = w(y0 · · · yd), w = a/f (q) + b}  Pn(K)

for some a  C, b  C. Here,  stands for derived equivalence where the left side has been Karoubi-completed (perfect modules). The statement (1.54) is a form of homological mirror symmetry for Calabi-Yau hypersurfaces in projective space, which includes the determination of the mirror map up to two unknown constants a, b; this remaining ambiguity goes back to (1.16).

The outline of argument given here is incomplete, since our idea for (1.52) is based on results not readily available in the literature, and we have given no indication of how to approach (1.53); the only purpose of this discussion was to give the reader an idea of how the amount of computation

needed would compare to other approaches, such as the combination of [47] and [11].

(1g) Novikov rings. We'll now discuss what to do if assumption (1.11) fails. Take

(1.55)

H = H2( E ; Z)/torsion = Zr+2, r = b2( E ) - 2.

The intersection pairings with M¯ and E| give homomorphisms H  Z. We use them to define a graded Novikov ring :

(1.56)

i = x = A xAqA : A  H with 2(A · M¯ ) = i; xA  Q; and for any C  Z, there are only finitely many xA = 0 with A · E|  C.

LEFSCHETZ FIBRATIONS

13

One can use the same intersection numbers to collapse  back to a simpler graded ring:

(1.57)

K :  - Q[t, t-1]((q)), |t| = 2, K(qA) = tA·M¯ qA·E|,

Take a class z  H2( E ; j), which is an expression as in (1.56) but with coefficients zA  H2( E ; Q). One can associate to it a derivation of degree j,

(1.58)

z : i - i+j , z(qA2 ) = A1 (zA1 · A2)qA1+A2 .

We find it convenient to introduce more explicitly the filtration with respect to which  is complete. Namely, set

(1.59)

Hk = {A  H : A · E|  k},

(1.60)

Hk = {A  H : A · E| = k},

and consider the graded subspace k   consisting of series (1.56) where the sum is only over A  Hk. Clearly,

(1.61)

k/k+1 = Q[Hk], K(k)  qkQ[t, t-1][[q]].

From now on, we will assume (mostly for convenience) that

(1.62)

M is connected.

As a consequence, there is a distinguished homology class

(1.63)

A  H2( E ; Z), represented by the constant sections in E| = C| × M .

When regarded modulo torsion, this is an element A  H-1 of degree 2. Consider more specifically the derivations (1.58) associated to classes

(1.64)

z  [E|]qA + H2( E ; 20)  H2( E ; 2-1).

These satisfy z(i0)  i+02. That is a special case (k = 0) of the observation that

(1.65)

f  k = zf  kqA f + k.

An elementary argument shows:

Lemma 1.13. Any f0  Q[H0] has a unique extension f  f0 + 1 satisfying zf = 0. (And that extension operation preserves degrees.)

There is also an associated Schwarzian differential operator Sz, which is (1.14) with the derivative replaced by z. More precisely, this operator has the form

(1.66)

Sz : {f  i1 such that qA f  0 is invertible} - 40.

Applying the Schwarzian to such f makes sense because zf  qA f + 1 is invertible. Szf is unchanged under transformations

(1.67)

f



i1

-

a

f + bf

 i-1k

with a  k0 invertible, b  k-0i, za = zb = 0.

14

PAUL SEIDEL

Each orbit of the transformations (1.67) contains a unique f  q-A + -23. Moreover,

(1.68)

Sz(f + f~)  Szf - z3f~ + 4k-2 for f  q-A + -23 and f~  -2k, k  3.

Using that, one can solve Schwarzian equations order to order in k. The outcome is:

Lemma 1.14. Given g  40 and any even i, there is a solution of Szf = g with |f | = i. Moreover, any two such solutions are related by (1.67).

(1h) The general result. We use the same enumerative invariants as before, but in a version which separates out the contribution from different homology classes. To avoid confusion, we use the subscript  for the new version, which is

(1.69)

z(k) =

zAqA  H4-2k( E ; 2k).

A·M¯ =k

The analogues of (1.9), (1.10) say that

(1.70) (1.71)

z(1)  [E|]qA + H2( E ; 20), z(2)  H0( E ; 40) = 40.

We will use the first invariant to define a derivation (1.58), and the second one as the inhomogeneous term in the associated Schwarzian equation

(1.72)

Sz(1) f + 8z(2) = 0.

To make the outcome more explicit, choose A1, . . . , Ar  H, which form a basis for the subspace of classes A with A · M¯ = A · E| = 0. By Lemma 1.13, there are unique

(1.73)

g,k  qAk + 01  (00)×, z(1) g,k = 0.

Take those functions as well as a solution of (1.72) of degree 0, and write

(1.74) (1.75)

f = K(f)  Q[[q]], f (0) = 0, f (0) = 0, gk = K(g,k)  Q[[q]]×.

Theorem 1.15. Suppose that (1.62) and (1.6) hold. Then, there is a quasi-isomorphic model for Bq, which is defined over Q[f, g1±1, . . . , gr±1]  Q[[q]], where f and gk are from (1.74), (1.75).

Here, the notation Q[f, g1±1, . . . , gr±1] just stands for the subring of Q[[q]] which those functions generate; they are not algebraically independent in general, so the structure of the subring will vary from case to case. (There is a corresponding analogue of Theorem 1.11, which we will not state here.)

Remark 1.16. We will now explain how this is compatible with our previous Theorem 1.3. Suppose that Assumption (1.11) holds. In that case, our derivation fits into a commutative diagram

(1.76)

i0

K

/ ti/2Q[[q]]

 z(1) i+02

q,t
 / ti/2+1Q[[q]],
K

LEFSCHETZ FIBRATIONS

15

where, with the same functions as in (1.12),

(1.77)

q,t = t-1(q + (i/2)).

As a consequence, we have qgk = 0, which because of gk(0) = 1 implies that these functions are constant equal to 1. Moreover, f is a solution of

(1.78)

Sq,tf + 8z(2)t2 = 0,

where Sq,t is the Schwarzian operator on Q[t, t-1][[q]] associated to q,t; concretely,

(1.79)

Sq,tf = t2-2

Sqf + q

 -


+

1 2

 -


2

for f  Q[[q]]×.

Hence, (1.78) is exactly our original (1.13) (thereby providing a more conceptual reformulation of that equation).

It may be helpful to think in algebro-geometric terms. T0 = Spec(Q[H0]) is an algebraic torus over Q. It carries an action of the multiplicative group Gm, corresponding to the grading of that ring. Moreover, the torus has a distinguished origin, and one can consider the Gm-orbit O0 through the origin. Then, T0 = Spf (0) is a formal thickening of that torus, still carrying the group action. Inside it, (1.57) describes a formal thickening of the previously considered orbit, which we'll denote by O0  T0. The operators z correspond to vector fields on T0 which are transverse to T0 (and contracted by the Gm-action); that explains the structure of the functions annihilated by z (Lemma 1.13). In the situation from Remark 1.16, the vector field is tangent to O0, allowing us to restrict all computations to that subspace.
(1i) Structure of the paper. For the vast majority of the paper, we focus on Theorem 1.3. Section 2 describes its proof, which draws heavily on earlier papers in the series. After that, two ingredients in the proof are examined in more detail. One is the purely algebraic part, which is not new, but receives a streamlined presentation in Sections 3­4 (in the first of those sections, the exposition goes beyond the minimum required for our applications). The second ingredient is Hamiltonian Floer cohomology relative to a symplectic divisor, which we gradually build towards in Sections 5­7. Here, the aim is to lift certain results from [41] to the relative context. Finally, Section 8 introduces B-fields, and uses them to adapt the previous argument to the more general situation of Theorem 1.15.
Acknowledgments. I'd like to thank the audiences that gracefully endured me droning on about this project for a decade and a half. Financial support was received by: the Simons Foundation, through a Simons Investigator award and the Simons Collaboration for Homological Mirror Symmetry; and the NSF, through award DMS-1904997.

2. The argument
The aim of this section is to make the statement from Theorem 1.3 more precise, and then describe its proof, in particular explaining where the differential equation (1.21) comes in. Rather than proceeding in logical order, we'll start with the Floer-theoretic structures which are superficially

16

PAUL SEIDEL

closest to the original statement, and then excavate the underlying strata, in a sense going backwards.

(2a) Warm-up exercises. Let's start by revisiting (1.3), which is defined using Floer theory in the fibre M . One can arrange (by a suitable choice of perturbation) that

(2.1)

CF (Vk, Vk) = QeVk  QtVk ,

where eVk has degree 0 and tVk has degree (n - 1). Set

(2.2)

C = QeVk  CF (Vi, Vj)  B.

k

i<j

Lemma 2.1. C is an A-subalgebra of B.

Proof. All we have to check is that µdB(eVk , . . . , eVk ) is zero for d = 2, and a multiple of eVk for d = 2. This is true for degree reasons except for one special case (d = 1 and n - 1 = 1). In that
remaining case, Vk is a simple closed curve with Maslov class zero on a punctured torus, and the desired property follows from the fact that HF (Vk, Vk) is nonzero.

In (1.43) we considered a slightly different algebra C~, obtained from the second summand in (2.2) by adjoining strict units. A priori, it may appear that C~ has fewer nontrivial A-operations than C, but in fact:
Lemma 2.2. C~ is isomorphic to C.

Proof. For general reasons [36, Lemma 2.1], there is a strictly unital C(1), living on the same graded space as C, and an A-isomorphism

(2.3)

C(1) - C.

(Readers are hereby alerted to a mistake in the statement of [36, Lemma 2.1]: the result requires

the additional assumption that the identity elements are nonzero in cohomology, used in the first

step in the proof; see also Lemma 8.5 later on. That assumption is clearly satisfied here.) Take

the inverse of (2.3), restrict it to the second summand in (2.2), and then extend it again (in the

unique way) to a strictly unital A-isomorphism

(2.4)

C~ - C(1).

The composition of (2.3) and (2.4) yields the desired statement.

As a consequence of Lemma 2.1, one can regard B and its quotient P = (B/C)[-1] (we have applied an upwards shift in the grading, for consistency with the notation used in the rest of the paper) as C-bimodules. It is helpful to introduce a bit of terminology, which applies to any context where one has an A-subalgebra. Namely, let's introduce the weight filtration and its associated graded space:

(2.5)

W -1B = B, W 0B = C, W 1B = 0, GrW B = W 0B  (B/W 0B) = C  P[1].

LEFSCHETZ FIBRATIONS

17

The graded space inherits operations

W 0(Bd) = Cd - W 0B = C[2 - d],

(2.6) W -1(Bd)/W 0(Bd)[-1] =

Cs  P  Cr - (B/W 0B)[1 - d] = P[2 - d].

r+s+1=d

These describe the structure of C as an A-algebra, together with that of P as a C-bimodule. Of course, B contains more information than its graded space. For instance, from the definition of P as a quotient, we get an exact triangle of C-bimodules

(2.7)

projection [1]

Pt

/C

/B

inclusion

As background, we'd like to remind the reader that A-bimodules over C form a differential graded category, which we will denote by (C, C) (see Section 3a for a more precise account of our conventions). In (2.7) we are talking about chain homotopy classes of bimodule homomorphisms, which means about morphisms in the associated cohomology level (triangulated) category.

Lemma 2.3. There is an exact triangle of C-bimodules, involving the dual diagonal bimodule C,

(2.8)

C[-n] s

[1]

/C

/B

inclusion

Unlike the previous algebraic observations, this is specific to Floer theory, and in particular, the map has a geometric origin. Further discussion is postponed to Section 2c. By comparing (2.8) and (2.7), one sees that P is quasi-isomorphic to C[-n]; and moreover, that quasi-isomorphism relates to the corresponding map in (2.7), which was defined as the connecting homomorphism of the short exact sequence involving those bimodules.
Remark 2.4. Readers looking ahead to Section 2c may wonder why we involve Fukaya categories of Lefschetz fibrations in the proof of Lemma 2.3, given that there is a more self-contained approach based on the (weak) Calabi-Yau nature of F(M ). The immediate answer is that the Lefschetz fibrations approach provides additional information about , which is crucial for our argument. From a wider perspective the two approaches should be linked, by a relation between the structure of a noncommutative anticanonical divisor on the Fukaya category of the Lefschetz fibration, and the Calabi-Yau structure on the Fukaya category of its fibre. However, that is beyond the scope of the theory developed here.

For r  1, denote by (C[-n])Cr the r-th tensor power of the bimodule C[-n]. The following result is proved in [45]. The argument there combines general properties of Fukaya categories of Lefschetz fibrations (injectivity of twisted open-closed string maps) with the more specific geometry of Lefschetz pencils (which we use here for the first time in our discussion).

Proposition 2.5. Up to homotopy, there are no nontrivial bimodule homomorphisms from (C[-n])Cr  C of negative degree. In formulae,

(2.9)

H hom(C,C)((C[-n])Cr, C) = 0 for all r  1 and  < 0.

18

PAUL SEIDEL

Because C is proper, and homologically smooth (this is slightly easier to see for C~, which is a directed A-algebra in the terminology from [36], but the two statements are equivalent), the dual diagonal bimodule is invertible with respect to tensor product. As a consequence, tensoring with C[-n] is a cohomologically full and faithful operation on the category (C, C). In view of that, (2.9) implies

(2.10)

H hom(C,C)((C[-n])Cr, C[-n]) = 0 for all r  2 and  < 0.

Using that and purely algebraic arguments, specifically Corollary 3.4 (applied to the inclusion C  B), one gets the following immediate consequence:

Proposition 2.6. B is determined, up to quasi-isomorphism, by C and the bimodule homomorphism from (2.8). More precisely, what matters is the homotopy class [ ], up to composition with automorphisms of C on the right.

(2b) The q-deformation. The relative Fukaya category Fq(M¯ ) is an A-deformation of F(M ). We use the definition of that category from [47, 31, 44]. Very briefly, the construction is achieved by letting the almost complex structures and inhomogeneous terms for perturbed pseudo-holomorphic discs u : S  M¯ depend on the position of the points u-1(M )  S. Re-
stricting to our basis of vanishing cycles gives an A-deformation Bq of B; we use this definition except in the lowest dimension n - 1 = 1, which has a specific caveat.

Our concern in that dimension is with the way in which the vanishing cycles become objects of
the relative Fukaya category. To put this in a larger context, let's start with a formally enlarged version of the relative Fukaya category, denoted by Fq(M¯ )(0). Objects are pairs (L, ), where L is an object of F(M ) and   qCF 1(L, L)[[q]] can be arbitrary. One uses those  to deform all
the A-operations. In particular, the curvature term for (L, ) is

(2.11)

µ0
Fq (M¯ )(0)

=

µ0Fq(M¯ )

+

µ1Fq(M¯ )()

+

µ2Fq(M¯ )(, )

+

···



qCF 2(L, L)[[q]].

To get an A-subcategory without curvature, one uses (L, ) where  is a Maurer-Cartan element
(also called bounding cochain), which means that (2.11) is zero. For L = Vk, our convention (2.1)
means that (2.11) vanishes for any . While it may seem natural to take  = 0, which means to define Bq as a subcategory of Fq(M¯ ) (as we've done in higher dimensions), the outcome is not
invariant under changing the auxiliary choices (almost complex structures, inhomogeneous terms) involved. Different choices give rise to A-categories Fq(M¯ ) related by curved A-functors; and the induced A-functor between categories Fq(M¯ )(0) does not preserve the sub-class of objects with  = 0. Instead, we will define Bq as a subcategory of Fq(M¯ )(0) with respect to
a particular choice of (1, . . . , m) for the vanishing cycles (V1, . . . , Vm), which will be specified
later on (see the proof of Lemma 2.21). In higher dimensions the issue does not arise, since there, CF 1(Vk, Vk) = 0.

Remark 2.7. There is a classical definition of Fq(M¯ ) in this dimension (n-1 = 1), still counting perturbed pseudo-holomorphic discs u with powers qu·M , but where the Cauchy-Riemann equation is independent of u-1(M )  S. It yields a category, here denoted by Fq(M¯ )(1), with no curvature term. One could use that to define Bq, but then that the entire subsequent discussion would have
to lay down a parallel track specifically for that dimension.

LEFSCHETZ FIBRATIONS

19

There is also an algebraic trick that relies on that alternative construction to single out a class
of Maurer-Cartan elements in our original definition of the relative Fukaya category. Namely, one can define an A-bimodule on which Fq(M¯ )(0) acts on one side, and Fq(M¯ )(1) on the other. For concreteness, let's write L(0) = (L, ) for a Lagrangian submanifold viewed as an object of Fq(M¯ )(0), and L(1) for the same submanifold as an object of Fq(M¯ )(1). Part of the bimodule structure are chain complexes CF (L(0), L(1))[[q]] (note that here, we use a single underlying
Lagrangian). By asking that the resulting cohomology should not be q-torsion, we can single out
a particular equivalence class of  for each L. It is in principle possible to show that this is the
class which arises in our considerations. However, as before, this would require building at least parts of a parallel theory for Fq(M¯ )(1).

The next higher dimension also seems potentially problematic, since it is the only one in which the curvature term for Vk could be nonzero. However, that is not actually an issue:
Lemma 2.8. Take n - 1 = 2. Then, Vk as an object of Fq(M¯ ) has vanishing curvature term.

Proof. First, we show that the desired property is independent of the choices made in constructing Fq(M¯ ), assuming that these satisfy (2.1). Suppose that we have two different versions, denoted by Fq(M¯ )(+) and Fq(M¯ )(-). They are related by a curved A-functor Gq, which is the identity
on objects and is a filtered quasi-isomorphism. For any object L, this means we have

(2.12)

G0q  qCF 1(L, L)(-)[[q]], G1q : CF (L, L)(+) - CF (L, L)(-)[[q]], ...

and the first A-functor equation is

(2.13)

µ0
Fq (M¯ )(-)

+

µ1Fq(M¯ )(-) (G0q )

+

µ2Fq(M¯ )(-) (G0q , G0q )

+

·

··

= G1q(µ0Fq(M¯ )(+) )  qCF 2(L, L)(-)[[q]].

Setting L = Vk, we find that G0q must be zero (for degree reasons), and that G1q defines an isomorphism between the endomorphism groups in both categories (because it's a filtered quasiisomorphism and the differentials are zero). Hence, (2.13) implies that if the curvature term vanishes for one choice, it also does for the other one.

Fix some almost complex structure J which makes M into an almost complex submanifold,
and for which there are no holomorphic discs bounding Vk (in this dimension, that is a generic property). When defining the curved A-structure for Vk as an object of Fq(M¯ ), we may keep our perturbed equations close to the classical J-holomorphic curve equation (this includes choosing
a small Hamiltonian when forming the Floer complex). Then, a Gromov compactness argument shows that µ0 has only terms of order qN and higher, for some N (which can be made arbitrarily large, but depends on the choice of perturbation). Now, let's consider two versions of Fq(M¯ ). The same algebraic argument as before shows that if for one choice, the curvature term is of order qN , then the same holds for the other choice. Since that argument can be carried out for
arbitrary N , the curvature term must be zero.

20

PAUL SEIDEL

Remark 2.9. One can avoid the Gromov compactness argument by a workaround in the spirit of
Remark 2.7. Namely, there is a version of the relative Fukaya category in this dimension, defined in [37], which has a priori vanishing curvature terms. Let's denote that by Fq(M¯ )(1), and write L(1) for L considered as an object of that category. One can also define a bimodule on which Fq(M¯ ) acts on one side, and Fq(M¯ )(1) on the other. Part of the bimodule structure is a map

(2.14)

CF 0(L, L(1))  CF 2(L, L) - CF 2(L, L(1))[[q]].

Set L = Vk, and arrange that all Floer groups that appear above satisfy (2.1). Then, the constant
term of (2.14) is nonzero; this is just part of the fact that for q = 0, we are considering two equivalent versions of F(M ). Moreover, given that the differential on CF 2(L, L(1)) is zero, and that Fq(M¯ )(1) has vanishing curvature term, the A-bimodule equations imply that inserting µ0F¯q(M)  qCF 2(L, L)[[q]] into (2.14) yields zero. That of course implies that this element must itself be zero.

Take the same subspace C  B as before, but now restrict the operations of Bq to it. We denote the outcome by Cq. The generalization of Lemma 2.1 is:
Lemma 2.10. Cq is an A-subalgebra of Bq.

Proof. As before, this mostly follows from degree reasons. The additional ingredients are Lemma 2.8 and the following fact:

(2.15)

µ1Bq (eVk ) = 0 for n - 1 = 1.

This is the case where Vk  M¯ is a simple closed curve on a torus, which has Maslov index zero

and therefore represents a primitive homology class, and we have chosen some k to make it into

an

object

of

F(M¯ )(0).

Denote

cohomology

level

morphisms

in

that

category

by

HF

 q

(·,

·),

for

the

sake of brevity. If we take another such curve L which intersects Vk transversally in a point, then HF q((Vk, k), L) = Q[[q]]. Because of the ring structure, this means that HF ((Vk, k), (Vk, k))

can't be q-torsion, and in view of (2.1), that implies (2.15)

Let C~q be the A-deformation of C~ obtained by taking the restriction of the operations on Bq to the second summand in (2.2), and again adjoining strict units.
Lemma 2.11. C~q is isomorphic to Cq.

Proof. This is an extension of the proof of Lemma 2.2. We again start by constructing (2.3). Given a strictly unital A-algebra, the deformation theory to a curved A-structure over Q[[q]] remains the same (in the sense of a bijection of equivalence classes of deformations) if we require that strict unitality be retained. This follows from the quasi-isomorphism between the full and reduced Hochschild complex, by general obstruction theory methods. Hence, in our case one can deform C(1) to some C(q1), and (2.3) to some

(2.16)

C(q1) - Cq.

LEFSCHETZ FIBRATIONS

21

For degree reasons, C(q1) has zero curvature term, and so does (2.16). Consider its inverse,
which also has zero curvature. By restricting and then adding strict units, one can obtain an isomorphism C~q  C(q1), which one combines with (2.16) as before.

Lemma 2.12. There is an exact triangle of Cq-bimodules

(2.17)

Cq [-n] s

[1]

q

/ Cq inclusion / Bq

This is a stronger version of Lemma 2.3. As before, it implies that Pq = (Bq/Cq)[1] is quasiisomorphic to Cq , in a way that relates q to the connecting homomorphism in the obvious bimodule short exact sequence. Further discussion is again postponed to Section 2c (see Lemma
2.23).

By applying a q-filtration argument to (2.9) and (2.10), one sees that

(2.18)

H hom(Cq,Cq)((Cq [-n])Cq r, Cq) = 0, r  1, H hom(Cq,Cq)((Cq [-n])Cq r, Cq [-n]) = 0, r  2

for  < 0.

In view of Corollary 3.10, this implies the following analogue of Proposition 2.6:

Proposition 2.13. Bq is determined, up to quasi-isomorphism, by Cq and the bimodule homo-
morphism q from (2.8). More precisely, what matters is the homotopy class [ q], up to composition with automorphisms of Cq on the right.

The statement of Proposition 2.13 is somewhat qualitative in nature. We now turn to a more explicit, but less general, version. Namely, suppose that Cq is a trivial A-deformation of C. This means that there is an A-homomorphism q : C[[q]]  Cq which is the identity modulo q. Concretely, such a trivialization consists of maps

(2.19)

dq : Cd - Cq[1 - d]

for d  1, and with dq q=0 =

id 0

d = 1, otherwise,

which relate the two A-structures (in the general theory of A-deformations, such a trivialization would have an additional curvature term, but in our case that's zero for degree reasons). One
can carry q across this trivialization, and accordingly think of it as a family of bimodule maps C[-n]  C depending on the parameter q. In formulas, the trivialization yields an isomorphism

(2.20)

Hn hom(Cq,Cq)(Cq , Cq) = Hn hom(C,C)(C, C) [[q]].

To exploit the consequences of this, it is convenient to replace the given Bq by a quasi-isomorphic A-algebra, which has both the triviality of Cq and the quasi-isomorphism Bq/Cq Cq [1 - n] built in more directly. That algebra will live on the space

(2.21)

B~ q = C[[q]]  (C[[q]])[1 - n]).

As in our previous discussion of (1.44), this comes with an additional grading, where the first summand has weight 0 and the second weight -1.

22

PAUL SEIDEL

Proposition 2.14. Assume that the deformation Cq is trivial. Pick a trivialization, and correspondingly think of q as living on the right hand side of (2.20), and suppose that it lies in

(2.22) Hn(hom(C,C)(C, C))  V  Hn(hom(C,C)(C, C))[[q]] for a Q-subspace V  Q[[q]].

Then there is is an A-structure on (2.21), such that:
(2.23) C[[q]]  B~ q is an A-subalgebra (just to reiterate, C[[q]] carries the q-linear extension of the A-structure on C). Moreover, the induced bimodule structure on B~ q/C[[q]] = (C[[q]])[1 - n]) is exactly that of the dual diagonal bimodule.
(2.24) For any r  0, the part of the A-structure of B~ q of weight r has coefficients which are homogeneous polynomials of degree r in V (thanks to (2.23), we already knew this for r = 0).
(2.25) There is a filtered quasi-isomorphism B~ q  Bq, which extends the given trivialization C[[q]]  Cq.

Remark 2.15. Readers who find this level of detail overwhelming may be satisfied with a less
precise version (which is sufficient in order to obtain Theorem 1.3). Namely, there is an Aalgebra B~ q over Q[[q]] whose underlying space is explicitly given as B~ [[q]] for some graded Q-vector space B~ , such that

(2.26)

µdB~ q  Hom2-d(B~ d, B~ )  Symd(V )  Hom2-d(B~ d, B~ )[[q]],

and which is filtered quasi-isomorphic to Bq (the property (2.26) follows from our original statement, because that operation has only nonzero pieces of weight 0, . . . , d).

Proof of Proposition 2.14. This has several steps. Take the maps (2.19) and extend them to
dq : Bd  Bq[1 - d], still having the same q = 0 reduction property as in (2.19) (where of course id is now the identity on B). Having done that, there is a unique A-deformation of
B, which is trivial on C, and which turns these maps into an A-isomorphism to the given Bq. Denote that structure by B~ (q1). By construction, it contains C[[q]] as an A-subalgebra. From q and the corresponding property of Bq, the B~ (q1)-bimodule P~(q1) = (B~ (q1)/C[[q]])[-1] inherits a quasi-isomorphism q(1) : (C[[q]])[-n]  P~(q1).

Next, apply Lemma 3.14 to C[[q]]  B~ (q1) and the map q(1). The outcome is another A-algebra B~ (q2) containing C[[q]], such that B~ (q2)/C[[q]] is exactly equal to (C[[q]])[1 - n]. This comes with a quasi-isomorphism B~ (q2)  B~ (q1) which is the identity on C[[q]], and which induces q(1) on the associated bimodules. As usual, to the inclusion C[[q]]  B~ (q2) is associated a map of bimodules,
of the form

(2.27)

~(q2) : (C[[q]])[-n] - C[[q]].

Tracing through the construction, one sees that this is precisely q, when thought of as lying in the right hand side of (2.20), hence its homotopy class lies in (2.22).

Now we start working from the other end. Using Lemma 3.15, one can find an A-structure on the space B~ q which satisfies (2.23) and (2.24), and such that the associated bimodule map
is homotopic to ~(q2). Finally, applying the classification result from Lemma 3.13, one can find

LEFSCHETZ FIBRATIONS

23

an A-isomorphism B~ q  B~ (q2) which is the identity on C[[q]], and induces the identity on the quotient bimodule (C[[q]])[1 - n]. Note that both of the last-mentioned Lemmas depended on (2.9), (2.10). Together with the previous steps, this gives a sequence of quasi-isomorphisms which
establishes (2.25):

(2.28)

B~ q - B~ (q2) - B~ (q1) - Bq.

Remark 2.16. Throughout Proposition 2.14, one can replace C by the quasi-isomorphic C~ from
(1.43). One can think of this as an application of Lemma 3.16; or alternatively, we could have used C~ throughout the argument, at the price of a slight increase in complexity (because the functor C~  B is not an inclusion).

Scholium 2.17. We need a bit more algebraic background. For an A-deformation Aq, let HH (Aq, Aq) be the Hochschild cohomology. (One can think of it as the endomorphisms of the diagonal bimodule, even though that's not particularly helpful here.) The q-dependence of the
A-structure is measured by the Kaledin class (the terminology is from [40], but the notion itself goes back to [17, 21])

(2.29)

q  HH 2(Aq, Aq).

Suppose that the Kaledin class vanishes, and that we choose a bounding cochain for the underlying
Hochschild cocycle. More intrinsically, one can consider this as the choice of an A-connection V¯q, which is a kind of q-differentiation operation with additional A-terms. Homotopy classes of A-connections form an affine space over HH 1(Aq, Aq), meaning that the choice of bounding cochain matters only modulo coboundaries. Moreover, a filtered quasi-isomorphism of curved
A-algebras induces a bijection between homotopy classes of connections. As explained in [46], an A-connection V¯q induces connections, in the ordinary sense of q-differentiation operations, on Hochschild cohomology and related groups. These depend only on the homotopy class of V¯q. The one of interest to us is

(2.30)

2q : H(hom(Aq,Aq)(Aq , Aq)) - H(hom(Aq,Aq)(Aq , Aq)).

Since we are working over Q, we can obtain stronger results by, roughly speaking, integrating A-
connections. Namely, as shown in [17, 21], the Kaledin class is zero if and only Aq is a trivial A-deformation (of its q = 0 part, denoted by A). More precisely, for every A-connection V¯q there is a unique trivialization A[[q]] = Aq under which V¯q corresponds to the trivial connection
(meaning d/dq) on A[[q]]. We will give an exposition of this theory in Section 4.

Let's return to the specific A-algebra Cq arising in our geometric situation.

Proposition 2.18. Assume that (1.6) and (1.11) hold. Then the Kaledin class of Cq is zero. Moreover, there is a choice of A-connection such that for the associated operation (2.30), the element q from (2.17) satisfies

(2.31)

2q 2q q +

 -


2q q - 4z(2)2 q = 0.

24

PAUL SEIDEL

This is the main course on our menu, and will be extensively discussed later. By combining it with the previous material, one can quickly complete the proof of the result stated in the Introduction.

Proof of Theorem 1.11. Take the A-connection from Proposition 2.18, and use that to trivialize the deformation Cq (see Scholium 2.17). This induces a commutative diagram, with the vertical arrows as in (2.20),

(2.32)

H(hom(Cq,Cq)(Cq , Cq))

2q

/ H(hom(Cq,Cq)(Cq , Cq))

=
 H(hom(C,C)(C, C))[[q]]

=

d/dq

 / H(hom(C,C)(C, C))[[q]]

Let's combine that with Proposition 2.18. The outcome is that, if we think of q as lying in Hn(hom(C,C)(C, C))[[q]], it satisfies

(2.33)



q+

- 

q - 4z(2)2 q = 0,

Let s0, s1 be a basis of solutions of (1.21), as in (1.18). Then, (2.33) implies that there are bimodule maps 0, 1 : C[-n]  C such that

(2.34)

q = 0s0 + 1s1.

In other words, q lies in (2.22) for V = Qs0  Qs1  Q[[q]]. Proposition 2.14 then yields an A-structure on B~ q quasi-isomorphic to Bq, and so that the weight r part has coefficients which are homogeneous polynomials of degree r in (s0, s1). We can rescale the operations on B~ q by pulling them back by the automorphism which is the identity on C[[q]], and s-0 1 times the identity on (C[[q]])[1 - n]). This rescales the weight r part by s-0 r. Hence, for the pullback structure,
the weight r part has coefficients which are degree  r polynomials in f = s1/s0. We know that
f is of the form (1.5) and a solution of (1.13). Finally, note that Theorem 1.11 was formulated using C~ instead of C, but that is irrelevant, see Remark 2.16.

Remark 2.19. In the proof above, we could have used any pair (s0, s1) of solutions satisfying (1.18). Correspondingly, for our statement to hold, f is not constrained to be a specific solution of (1.13); any solution of the form (1.5) will do.

(2c) The Fukaya category of the Lefschetz fibration. The main role in our argument
is actually played by the Fukaya category F(p) of the Lefschetz fibration p : E  C, and its deformation Fq(p¯) associated to the fibrewise compactification p¯ : E¯  C, with its symplectic divisor E. This comes with a restriction functor [44]

(2.35)

Fq(p¯) - Fq(M¯ ).

To understand that, it is useful to think of M not as being located at infinity, but as the fibre of p over some finite (but large) point of C; of course, up to isomorphism there is no difference between the two. The construction of the restriction functor involves suitably adapted choices of almost complex structures and Hamiltonian terms. Having done that, it is simply a projection map on the spaces of Floer cochains, retaining only those Lagrangian chords (the perturbed version of

LEFSCHETZ FIBRATIONS

25

intersection points) which lie in M . Algebraically, the restriction functor is the simplest kind of A-homomorphism, with no terms other than the linear one, and constant in q.

Each vanishing cycle Vk  M in our chosen basis comes from a Lefschetz thimble k  E. Let A  F(p) be the resulting full A-category, and Aq  Fq(p¯) the corresponding part of the relative Fukaya category. We want to set up things in a very specific way, which is compatible with our previous (2.1) via (2.35). One can arrange that the endomorphisms of each Lefschetz thimble have the form

(2.36)

CF (k, k) = Qek  Qtk  Quk ,

where the degrees of the generators (in that order) are 0, (n - 1), n. Geometrically, these generators are given by points of ~ k  k for a suitably chosen Hamiltonian perturbation ~ k.
The first two generators correspond to intersection points lying in M , while the third one is
outside. Hence, restriction takes ek and tk to their counterparts in (2.1), while it kills uk . Along similar lines, one can arrange that for i < j, all of CF (i, j) is generated by intersection points in M , hence maps isomorphically to CF (Vi, Vj). Finally, by the definition of a basis of vanishing cycles, the differential µ1A is acyclic on CF (i, j) for i > j.

Lemma 2.20. The A-deformation Aq satisfies

(2.37) (2.38) (2.39)

µ0Aq = 0 except possibly if n = 2, µ1Aq (ek ) = 0, µ1Aq (tk ) = (some Q[[q]]× multiple of ) uk .

Proof. We know (see Lemma 2.8 for the only nontrivial case) that Vk as an object of Fq(M¯ ) has vanishing curvature term. Because of the structure of the restriction functor, this means that µ0Aq would need to consist of multiples of the uk , which implies (2.37) for degree reasons. Similarly, (2.38) is true for degree reasons except possibly if n = 2, and in that case it follows from Lemma 2.10. If we set q = 0, then µ1A(tk ) must be a Q×-multiple of uk , simply because the Floer cohomology of k  E is isomorphic to its ordinary cohomology, and that yields (2.39).
Lemma 2.21. The restriction functor yields an A-homomorphism Rq : Aq  Bq. Moreover, there is a filtered quasi-isomorphism Aq  Cq, where Cq  Bq is the A-subalgebra structure on the subspace (2.2), which fits into a homotopy commutative diagram

(2.40)

Aq

Rq

/ BO q

& ? Cq

Proof. Assume first that n > 2. One defines Rq to be (2.35) applied to the objects k. Take

(2.41)

A~ = Qek  CF (i, j)  A.

k

i<j

26

PAUL SEIDEL

From (2.37) and (2.38), it follows that this gives an A-subalgebra A~q  Aq. From (2.39) and the acyclicity of CF (i, j) for i > j, one sees that the inclusion of that subalgebra is a filtered
quasi-isomorphism. By looking at the restriction of Rq, we get a commutative diagram

(2.42)

AO q

Rq

/ BO q

? A~q

= Rq |A~q

/

? Cq .

Up to homotopy, one can fill this in with a diagonal map and obtain (2.40).

The remaining case n = 2 brings up the previously mentioned issue with defining Bq in that dimension. Let's consider the larger categories Fq(p¯)(0) and Fq(M¯ )(0) whose objects are Lagrangians together with a degree 1 Floer cochain whose q = 0 term is zero. This is a purely
algebraic construction, so the restriction functor extends (in a somewhat obvious way) to

(2.43)

Fq(p¯)(0) - Fq(M¯ )(0).

Thanks to (2.39), one can find, for each 1  k  m, some k  qCF 1(k, k)[[q]] which solves the Maurer-Cartan equation, meaning that the analogue of (2.11) is zero. Let A(q0)  Fq(p¯)(0) be the full subcategory formed by (k, k). As the definition of Bq, we use the full subcategory of Fq(p¯) formed by the Vk with the restrictions of the k. By construction, neither of these has curvature, and the restriction functor yields

(2.44)

R(q0) : A(q0) - Bq.

Moreover, there is an obvious (curved) A-homomorphism

(2.45)

Tq : A(q0)  Aq,

whose curvature term is given by the k; with the identity as linear term; and all higher order terms equal to zero. One defines Rq by composing (2.44) with the inverse of (2.45) (note that this will cause Rq to have a curvature term). The rest of the argument is as before: one defines a quasi-isomorphic subalgebra A~(q0)  A(q0) as in (2.41), and then R(q0)|A~(q0) is an isomorphism from that subalgebra to Cq. The relation with Aq is again provided by combining this with the inverse of (2.45).

Remark 2.22. The proof of Lemma 2.21 may strike the reader as clunky. In fact, what is contrived is our use of Cq, while Aq is the natural geometric object. In principle, one could remove Cq from our argument entirely, and take (2.35) as the starting point (in which case, the specific choices made in defining Aq would be unnecessary, since their only purpose is to facilitate the relation with Cq). However, that seemed unwise from an expository perspective, since the definition of Cq is much easier to grasp at first sight.

Lemma 2.23. There is an exact triangle of Aq-bimodules

(2.46)

Aq [-n] s

[1]
/ Aq
q

Rq

/ Bq

where the last term is an Aq-bimodule by pullback along Rq.

LEFSCHETZ FIBRATIONS

27

A form of this result was proved in [44] for the entire relative Fukaya categories, and the functor (2.35). For n > 2, one immediately obtains it in the form stated above, by considering only our basis of Lefschetz thimbles. For n = 2, one needs a minor workaround involving formal enlargements, exactly as in the proof of Lemma 2.21. At this point, we can check off one of the tasks left open earlier:

Proof of Lemma 2.12. Let's pull back (2.46) via the filtered quasi-isomorphism from Lemma 2.21 (we do so without changing the notation). The outcome is a diagram of Cq-bimodules

(2.47)

Aq [-O n]

q

/ AO q

Rq

/ Bq

Cq [-n]

/ Cq  

/ Bq

The dotted arrow, which is by definition the map q in (2.17), is obtained by filling in the diagram. Since the top row admits a third morphism making it into an exact triangle, so does the bottom one.

(2d) Hamiltonian Floer cohomology. We will use the formalism from [42] for Hamiltonian Floer groups associated to p¯, with slightly different notation. The Floer-theoretic invariants are finite-dimensional graded Q((q))-vector spaces

(2.48)

HF

 q,q-1

(p¯,

r),

r  R.

For r / Z, they are constructed from Hamiltonians that rotate the base at infinity by an angle 2r. The groups with r = 1, 2, . . . use different Hamiltonians, and have a fundamentally closer relationship with the Fukaya category. The groups for different values of r are related by continuation maps

(2.49)

C r1,r2
q,q-1

:

HF

 q,q-1

(p¯,

r1

)

-

HF

 q,q-1

(p¯,

r2

),

r1 < r2.

There are also PSS (Piunikhin-Salamon-Schwarz [32]) maps

(2.50)

PSS

r q,q-1

:

H(E¯; Q)((q))

-

HF

 q,q-1

(p¯,

r

),

r > 0.

The PSS maps for different r are related by composition with continuation maps. The following two statements are basic Floer theory results:

(2.51) (2.52)

PSS

r q,q-1

is

an

isomorphism

for

r



(0, 1),

C r1,r2
q,q-1

is

an

isomorphism

if

r1, r2



(k, k

+ 1)

for

some

k



Z.

One can partially describe (2.48) in topological terms, along the lines of [25]. Rather than encapsulating that into a spectral sequence, we break up the statement into pieces (the proofs of which will be described in Section 5b; we emphasize that this follows known ideas):

Lemma 2.24. For r2  Z and r1  (r2 - 1, r2), the continuation map fits into a long exact sequence

(2.53)

·

·

·



HF

 q,q-1

(p¯,

r1)

-C-qr-,1q,--r21

HF

 q,q-1

(p¯,

r2)

-

H-1(M¯ ;

Q)((q))



·

·

·

28

PAUL SEIDEL

Lemma 2.25. For r2  Z and r3  (r2, r2 + 1), the continuation map fits into a long exact sequence

(2.54)

·

·

·



HF

 q,q-1

(p¯,

r2)

-C-qr-,2q,--r31

HF

 q,q-1

(p¯,

r3)

-

H  (M¯

;

Q)((q))



·

·

·

Write

(2.55)

kqr,q-1

=

PSS

r q,q-1

(q

-1

[E

])



HF

2 q,q-1

(p¯,

r),

r > 0.

Suppose that kq1,q-1 is zero, and choose a bounding cochain for the underlying Floer cocycle. This

bounding cochain matters only up to coboundaries, so the space of choices is an affine space over

HF

1 q,q-1

(p¯,

1).

Such

a

choice

gives

rise

to

connections,

constructed

in

[42],

(2.56)

rq,q-1

:

HF

 q,q-1

(p¯,

r)

-

HF

 q,q-1

(p¯,

r),

r = 1, 2, . . . ,

rq,q-1 (f (q)x) = f (q) rq,q-1 x + f (q)x for f  Q((q)).

The corresponding theory for non-integral r, which is the subject of [41], is more complicated.

Suppose

that

kr0
q,q-1

=

0

for

some

r0



(0, ) \ Z.

As

usual,

we

need

to

pick

a

bounding

cochain,

with

the

space

of

effective

choices

being

an

affine

space

over

HF

1 q,q-1

(p¯,

r0

).

This gives rise to

operations

(2.57)

w,r1 ,r2
q,q-1

:

HF

 q,q-1

(p¯,

r1

)

-

HF

 q,q-1

(p¯,

r2

),

w,r1 ,r2
q,q-1

(f

(q)x)

=

f (q)qw,,qr-11,r2 (x) + f

(q)Cqr,1q,-r21 (x),

for any w  Z, and r1, r2  (0, ) \ Z with r0 + r1  r2.

Note that here w is independent of the rk. A partial compatibility statement between the integral and non-integral cases is given by [42, Proposition 7.13]. We will only need a special case:

Proposition 2.26. Suppose that kq1,q-1 = 0. Choose a bounding cochain, and use that to define the connection 2q,q-1 from (2.56). Fix

(2.58)

r0 > 1, r1  (1, 2), r2  (2, 3), such that r0 + r1  r2.

Under

the

continuation

map,

our

bounding

cochain

gives

rise

to

one

for

kr0
q,q-1

.

If

we

use

that

to

define

the

connection

2,r1 ,r2
q,q-1

from

(2.57),

the

following

diagram

commutes:

(2.59)

HF

 q,q-1

(p¯,

r1

)

/ Cqr,1q,-2 1

HF

 q,q-1

(p¯,

2)

/ 2q,q-1

HF

 q,q-1

(p¯,

2)

/1 Cq2,,qr- 2 1

HF

 q,q-1

(p¯,

r2

).

2q,,rq1-,1r2

Remark 2.27. We need to clarify some notational discrepancies. In [41] the connections (2.57) are denoted by c, where c = r - 1; and in [42] the connections (2.56) are written just as .

Lemma 2.28. Take the Gromov-Witten invariant (1.9) and restrict it to E¯. Then, the image

of

that

element

under

PSS

r q,q-1

,

r

>

1,

is

zero.

This is [41, Lemma 8.4]. As an immediate consequence, if (1.11) holds, then kqr,q-1 = 0 for r > 1. Our next result involves two specific elements of Floer cohomology. The first is

(2.60)

erq,q-1

=

PSS

r q,q-1

(1)



HF

0 q,q-1

(p¯,

r),

r > 0;

LEFSCHETZ FIBRATIONS

29

the second is the Borman-Sheridan class, defined in [41, Section 8], and denoted here by

(2.61)

srq,q-1



HF

0 q,q-1

(p¯,

r),

r  (1, ) \ Z.

In both cases, the classes for different r are related by continuation maps.

Theorem

2.29.

Take

(2.58),

and

suppose

that

(1.11)

holds,

making

2,r1 ,r2
q,q-1

defined

(by

Lemma

2.28). For a suitable choice of bounding cochain in the construction of that connection, we have

the

following

equalities

in

HF

0 q,q-1

(p¯,

r2

):

(2.62) (2.63)

 e 2,r1,r2 r1
q,q-1 q,q-1

=

-

sr2
q,q-1

,

 s 2,r1,r2 r1
q,q-1 q,q-1

=

-

sr2
q,q-1

-

4z(2)

er2
q,q-1

.

This is a form of the main result of [41]. More specifically, (2.62) is essentially the c = 1 case of

[41, Equation (2.32)]. The statement there is given in terms of symplectic cohomology, which is

the

r





limit

of

the

groups

HF

 q,q-1

(p¯,

r).

However,

the

proof

via

[41,

Proposition

9.5]

actually

proves the result stated here; and the distinction is in any case irrelevant for our application,

since (as a consequence of Lemmas 2.24 and 2.25) all continuation maps are injective in degree

zero. The other part (2.63) is [41, Equation (2.35)], with the same remarks applying.

Finally, we need to explain the relation between these considerations and the Fukaya category of the Lefschetz fibration. Unsurprisingly, these go via closed-open string maps. Since we have worked over Q((q)) on the Hamiltonian Floer cohomology side, we will do the same for the Fukaya category, passing to

(2.64)

Aq,q-1 = Aq Q[[q]] Q((q)).

Then, the closed-open string maps which are relevant to us have the form

(2.65) (2.66)

CO

1 q,q-1

:

HF

 q,q-1

(p¯,

1)

-

HH (Aq,q-1 , Aq,q-1 ),

CO

2 q,q-1

:

HF

 q,q-1

(p¯,

2)

-

H +n(hom (Aq,q-1 ,Aq,q-1 )(Aq,q-1 , Aq,q-1 )).

The elementary theory of connections from Scholium 2.17 has a straightforward analogue for (2.64). Namely, if the Kaledin class q,q-1  HH 2(Aq,q-1 , Aq,q-1 ) vanishes, one can equip Aq,q-1 with an A-connection, and that in turn gives rise to an analogue 2q,q-1 of (2.30). The following is proved in [46]:

Proposition 2.30. The Kaledin class q,q-1 is the image of (2.55) under (2.65). Suppose that kq1,q-1 = 0; choose a bounding cochain; and use the chain level map underlying (2.65) to associate to that a bounding cochain for q,q-1 . Then, for the connections defined by those bounding
cochains, we have a commutative diagram

(2.67)

HF

 q,q-1

(p¯,

r

)

2q,q-1

/

HF

 q,q-1

(p¯,

r)

CO

2 q,q-1

CO

2 q,q-1

 H +n(hom (Aq,q-1 ,Aq,q-1 )(Aq,q-1 , Aq,q-1 ))

/ 2q,q-1

 H +n(hom (Aq,q-1 ,Aq,q-1 )(Aq,q-1 , Aq,q-1 )).

30

PAUL SEIDEL

The bimodule homomorphism q from (2.46) induces one in the target space of (2.66), which we denote by q,q-1 . Another result from [46] says that:
Proposition 2.31. q,q-1 is the image of (2.60) under (2.66).

Essentially all we have done so far was to collect results from the literature. Let's see how these results are brought to bear.

Corollary 2.32. Suppose that (1.6) holds.

Then

HF

1 q,q-1

(p¯,

r)

=

0

for

1



r

<

2;

and

the

continuation

map

HF

2 q,q-1

(p¯,

1)



HF

2 q,q-1

(p¯,

r)

is

injective.

Proof. Let's look first at Lemma 2.25, with r1 = 1 and r2 = r  (1, 2):

(2.68)

·

·

·



HF

1 q,q-1

(p¯,

1)

-

HF

1 q,q-1

(p¯,

r)

-

0

=

H 1 (M¯

;

Q)((q))

-c-o-nn-e-c-ti-ng--m-ap

HF

2 q,q-1

(p¯,

1)

-c-o-nt-in-u-a-ti-on--m-ap

HF

2 q,q-1

(p¯,

r)



·

·

·

This shows the desired injectivity statement. Next, we combine (2.51) and Lemma 2.24, with
r1  (0, 1) and r2 = 1. Since E¯ is obtained from M¯ by attaching n-cells, (1.6) implies that H1(E¯) = 0. The outcome is

(2.69)

0

=

H 1 (E¯ ;

Q)((q))

-

HF

1 q,q-1

(p¯,

1)

-

H 0 (M¯

;

Q)((q))

=

Q((q))

-c-o-nn-e-c-ti-ng--m-ap

H 2 (E¯ ;

Q)((q))

-P-S-S-m--ap

HF

2 q,q-1

(p¯,

1)



·

·

·

The Gromov-Witten invariant from Lemma 2.28 is nonzero, z(1)|E¯ = q-1[E] + · · · , but the PSS

map

takes

it

to

the

zero

element

in

HF

2 q,q-1

(p¯,

r),

and

therefore

by

(2.68)

also

in

HF

2 q,q-1

(p¯,

1).

This implies that the PSS map in (2.69) is not injective, hence the connecting map is nonzero, and

therefore

HF

1 q,q-1

(p¯,

1)

=

0.

The

corresponding

statement

for

1

<

r

<

2

follows

from

(2.68).

Corollary 2.33. Suppose that (1.6) and (1.11) hold. Then kq1,q-1 = 0.

Proof. This follows from Lemma 2.28 and Corollary 2.32.

Corollary 2.34. Suppose that assumptions (1.6) and (1.11) hold. Then, for any choice of bound-

ing

cochain

underlying

the

construction

of

2q,q-1

,

we

have

the

following

equality

in

HF

0 q,q-1

(E¯,

2):

(2.70)

2q,q-1 2q,q-1 eq,q-1 +

 -


2q,q-1 eq,q-1 - 4z(2)2eq,q-1 = 0.

Proof. In this context, the connections appearing in Proposition 2.30 exist (Corollary 2.33) and are unique (Corollary 2.32). Hence, we can apply both Proposition 2.26 and Theorem 2.29, without worrying about choices of bounding cochains. With that in mind, the formulae (2.62), (2.63) can be written as

(2.71) (2.72)

Cq2,,qr-2 1

2q,q-1

C

r1

,2

er1
q,q-1

=

Cq2,,qr-2 1

(-

Cqr,1q,-2 1

sr1
q,q-1

),

Cq2,,qr-2 1

2q,q-1

C

r1

,2

sr1
q,q-1

=

Cq2,,qr-2 1

(-

Cqr,1q,-2 1

sr1
q,q-1

-

4z(2)

Cqr,1q,-2 1

er1
q,q-1

).

(We apologize for the proliferation of subscripts and superscripts; it seemed worth while keeping

track

of

the

distinction

between

related

but

different

objects.)

Applying

Cqr,1q,-2 1

to

the

class

er1
q,q-1

LEFSCHETZ FIBRATIONS

31

yields its counterpart e2q,q-1 .

As for

sr1
q,q-1

,

we

denote

its

image

in

HF

 q,q-1

(p¯,

2)

by

s2q,q-1 .

The

map Cq2,,qr-2 1 is injective in degree zero, because of Lemma 2.25. It follows that

(2.73) (2.74)

2q,q-1 e2q,q-1 = - s2q,q-1 , 2q,q-1 s2q,q-1 = - s2q,q-1 - 4z(2) e2q,q-1 .

Combining those two equations yields (2.70).

Corollary 2.35. Suppose that assumptions (1.6) and (1.11) hold. Then the Kaledin class

of Aq,q-1 is zero, and for a suitable choice of bounding cochain, the induced connection on H (hom (Aq,q-1 ,Aq,q-1 )(Aq,q-1 , Aq,q-1 )) satisfies

(2.75)

2q,q-1 2q,q-1 q,q-1 +

 -


2q,q-1 q,q-1 - 4z(2)2 q,q-1 = 0.

Proof. This follows from Corollary 2.34 by using Propositions 2.30 and 2.31.

(2e) Relative Floer cohomology. The reader may have noticed a discrepancy between the closed and open string theories: the first one was defined over Q((q)), whereas our relative Fukaya categories live over Q[[q]], and we had to forget that fact by passing to (2.64). We will now remedy that, by introducing suitable relative Hamiltonian Floer cohomology groups which are defined over Q[[q]]. This is a rather finicky construction (carried out in Sections 6­7), leading us to state and use only a minimal amount of its properties. The notation for the relative groups will be

(2.76)

HF q(p¯, r), 1  r < 2,

and the relation with the previously defined ones is that

(2.77)

HF

 q,q-1

(p¯,

r)

=

HF

 q

(p¯,

r)

Q[[q]]

Q((q))

canonically. The continuation maps (2.49) have relative lifts, denoted by Cqr1,r2 (and the analogue of (2.52) holds, so effectively only two different groups appear). We will also need the relative

version of a specific case of Lemma 2.25:

Lemma 2.36. For r  (1, 2), the continuation map fits into a long exact sequence

(2.78)

·

·

·



HF

 q

(p¯,

1)

-C-q1-,r

HF

 q

(p¯,

r)

-

H  (M¯

;

Q)[[q]]



·

·

·

The relative lift of the PSS map is of the form

(2.79)

PSS

r q

:

q-1 H  (E¯ ,

E; Q)



H(E¯; Q)[[q]]

-

HF

 q

(p¯,

r),

1  r < 2,

where multiplication by q maps the first summand to the second. The class q-1[E] lies in the

domain of (2.79), and that allows us to lift (2.55) to relative Floer cohomology. We denote the outcome by kqr. Similarly, if we take z(1) as in (1.9), then z(1)|E lies in the domain of (2.79). A relative version of Lemma 2.28 holds:

Lemma

2.37.

The

image

of

z(1)|E

under

PSS

r q

,

r

> 1,

is

zero.

Corollary 2.38. Suppose that (1.6) and (1.11) hold. Then kq1 = 0.

32

PAUL SEIDEL

Proof. This is the relative version of Corollary 2.33, proved in the same way but with the ingre-

dients replaced with their relative lifts. Lemma 2.37 and (1.11) imply that kqr = 0 for r > 1.

To get the desired result from that, one uses (1.6) and Lemma 2.36 to show injectivity of the

continuation

map

HF

2 q

(p¯,

1)



HF 2q(p¯, r).

There is a relative lift of the closed-open string map (2.65),

(2.80)

CO

1 q

:

HF q (p¯,

1)

-

HH

 (Aq ,

Aq ),

and part of Proposition 2.30 carries over, meaning:

Proposition 2.39. The Kaledin class q is the image of kq1 under (2.80).

The proof follows exactly the non-relative version from [46], and we won't discuss it further. The other properties of relative Hamiltonian Floer cohomology used above (Lemmas 2.36 and 2.37) will be proved in Section 7.

Corollary 2.40. Suppose that assumptions (1.6) and (1.11) hold. Then the Kaledin class of Aq is zero, and for a suitable choice of bounding cochain, the induced connection (2.30) satisfies

(2.81)

2q 2q q +

 -


2q q - 4z(2)2 q = 0.

Proof. Vanishing of the Kaledin class follows from Corollary 2.38 and Proposition 2.39. As a consequence, Aq is a trivial A-deformation (see Scholium 2.17). Therefore, both HH (Aq, Aq) and H(hom(Aq,Aq)(Aq , Aq)) are torsion-free Q[[q]]-modules, so one has

(2.82) (2.83)

HH (Aq, Aq)  HH (Aq, Aq) Q[[q]] Q((q)) = HH (Aq,q-1 , Aq,q-1 ), H(hom(Aq,Aq)(Aq , Aq))  H(hom(Aq,Aq)(Aq , Aq)) Q[[q]] Q((q))
= H (hom (Aq,q-1 ,Aq,q-1 )(Aq,q-1 , Aq,q-1 )).

The isomorphisms above require a bit of explanation. In general, Hochschild cohomology does

not commute with base change, because of the nature of the underlying chain complex as an

infinite product. However, A is cohomologically smooth, as one can see clearly from its quasiisomorphism with the directed algebra C~q (see Lemmas 2.11 and 2.21); and for such algebras, the
base change formula holds. The same applies to (2.83).

We need to return for a moment to the argument underlying Corollary 2.35. The bounding cochain which appears there is one inherited from a bounding cochain for kq1,q-1 via the chain level closed-open map. In our situation, one can start by first choosing a bounding cochain for kq1; then, the outcome is that the connection 2q on H(hom(Aq,Aq)(Aq , Aq)) is compatible with that from (2.75). Moreover, q maps to q,q-1 under (2.83), by definition of the latter element. Therefore, (2.75) just says that the desired equation holds after tensoring with Q((q)). Because
of the injectivity of (2.83), it must hold on the nose.

This completes our account of the overall argument: all the steps leading up to Theorem 1.3 have now been introduced. It remains to make a note concerning the topological assumption (1.6).

LEFSCHETZ FIBRATIONS

33

Remark 2.41. Suppose that we have a finite group  acting on E , which preserves E|. We also require that in a neighbourhood of , that group should map each fibre of p to itself. One then has induced actions on all the Hamiltonian Floer cohomology groups we have discussed. In particular, one can consider -equivariant connections, which have the advantage that the space of choices is an affine space over the -invariant part of HF 1 (in its various versions, depending on which connection we are talking about). The connection which appears in Theorem 2.29 is automatically -invariant, because the entire argument is geometric, hence compatible with additional symmetries. As a consequence, the argument above goes through under the weaker assumption that

(2.84)

H1(M¯ ; Q) = 0.

For instance, suppose that we start with the Hesse pencil of elliptic curves on CP 2 and blow up its base locus, which yields the rational elliptic surface

(2.85)

E = {y0(x30 + x31 + x32) + y1x0x1x2 = 0}  CP 1 × CP 2.

The pencil has an action of Sym3 permuting the x variables. If one looks at a smooth fibre M¯ , say that at [y0 : y1] = [1 : 1], the action has four orbits with isotropy subgroups Z/2, namely those of [x0 : x1 : x2] = [1 :  : ] for 23 + 2 + 1 = ( + 1)(22 -  + 1) = 0, as well as [x0 : x1 : x2] = [0 : 1 : -1]. From Euler characteristic considerations alone, it follows that M¯ / is a rational curve, hence (2.84) holds. (One could object that the projection E  CP 1 is not
exactly a Lefschetz fibration in the ordinary sense, since each of the four singular fibres has three

nodal singularities; however, that is not a problem for the argument leading up to Proposition

2.40, which is the only part of our overall approach where (1.6) was used.) This allows Theorem

1.3 to be applied to the elliptic surface, justifying the discussion of that example in Section 1d.

3. A relative classification theorem for A-structures
The theory developed in this section is purely algebraic, and in a sense elementary. For a given A-algebra A, it seeks to classify pairs consisting of another such algebra B and a homomorphism F : A  B. We will also describe a modified version for A-deformations, meaning that it includes a formal parameter q, and possible curvature terms. Part of this material has appeared elsewhere [35, 39, 40], but the account here places it in a more organic framework (which can also be considered more natural from a geometric viewpoint, compare Remark 2.22).
(3a) Introduction to the problem. We work with A-algebras over Q. All A-algebras and related structures will be graded and cohomologically unital. As already mentioned before, the A-category (actually dg category) of bimodules over an A-algebra A will be denoted by (A, A). Sign conventions are as in [36] for A-algebras, and [39] for bimodules; as in those references, we use | · | for the degree of an element, and · = | · | - 1 for the reduced degree. (Those sign conventions do not agree with those in the classical world of dg algebras; when passing between the two, additional signs appear.)
Remark 3.1. Actually, our applications are to A-categories with finitely many objects, or equivalently A-algebras over the semisimple ground ring R = Qm. This has been implicit in

34

PAUL SEIDEL

our discussion, starting back in Section 2a. The necessary adaptations are straighforward, so we prefer to stick to the simpler language of working over Q.

Fix an A-algebra A. We consider pairs consisting of an A-algebra B and an A-homomorphism F : A  B. Two such pairs (B, F) and (B~ , F~) are called quasi-isomorphic if there is a homotopy
commutative diagram (with G a quasi-isomorphism of A-algebras, denoted here by )

(3.1)

8B

F

G



A

/ B~ .

F~

Any A-algebra is a bimodule over itself (the diagonal bimodule; the bimodule operations are the A-algebra operations, with certain added signs [39, Equation 2.3]). In our context, pulling back the diagonal B-bimodule by F (on both sides) yields a A-bimodule, which we denote by FB. This comes with a bimodule map A  FB, which we denote by F as well. We consider the mapping cone bimodule, and its projection map

(3.2)

P = A -F FB [-1],  : P - A.

(The notation {· · · } will be used for mapping cones throughout our discussion.) The datum
(P, ) is an invariant of our situation. This means that if we have quasi-isomorphic pairs as in (3.1), with associated bimodule data (P, ) and (P~, ~), there is a homotopy commutative diagram of A-bimodules

(3.3)

P





 P~

&/ A.

~

Lemma 3.2. In the situation of (3.2), one always has

(3.4)

id A   A id : P A P - P.

Let's decrypt the statement a little. Writing T (A[1]) = d0 A[1]d, the bimodule tensor product is Q A R = Q  T (A[1])  R, with suitable operations [39, Equation (2.12)]. For any A-bimodule Q, one has canonical (up to homotopy) quasi-isomorphisms A A Q Q and Q A A Q. Explicit representatives left and right are given in [35, Equations (2.21) and (2.26)]. Using those quasi-isomorphisms, and given any bimodule map Q  A, one can form two
bimodule maps Q A Q  Q, as in the two sides of (3.4). If the two are homotopic, the original bimodule map is called ambidextrous (in the terminology from [35]). Lemma 3.2 asserts that 
always has this property.

LEFSCHETZ FIBRATIONS

35

Proof. The A-algebra structure on B, and the functor F, produce a bimodule homomorphism  : FB A FB  FB. Concretely, the linear component is
0,1,0 : B  T (A[1])  B - B,

(3.5)

0,1,0(b  at  · · ·  a1  b) =

(-1)|b |µrB+2(b , Fdr (at, . . . , at-dr+1), . . . ,

r0 d1+···+dr =t

Fd1 (ad1 , . . . , a1), b).

and the higher order ones make use of additional elements of A on the left and right in the same

way. This fits into a commutative diagram

(3.6)

A A FB

left

FA id

 FB OA FB



/5) FB

id A F

right

FB A A

The difference between the two sides in (3.4) is the following bimodule map (grading shifts have been omitted for simplicity):

(3.7)

P A P =

A

A

A

id A F
FAid/

(A

A

FB)



(FB

A

(FA id ,
A)

-id

A

F)
/ F

B

A

FB

P = {A

( left ,- right )
 / FB}
F

In view of (3.6), one can use  to give a nullhomotopy for this map.

To summarize the discussion so far in a more down-to-earth way, let's fix a bimodule P. Write Aut (P) = H0(hom(A,A)(P, P))× for its automorphism group; and Ambi (P)  H0(hom(A,A)(P, A)) for the subspace of ambidextrous bimodule maps, meaning that they satisfy the analogue of (3.4).
Then, we have a canonical map

(3.8)

pairs (B, F) whose associated bimodule is quasi-isomorphic to P, up to (3.1)

- Ambi (P)/Aut(P).

Theorem 3.3. Take some (B, F), with associated bimodule P. Assume that the tensor powers

of P satisfy

(3.9)

H2-2r(hom(A,A)(PAr, A)) = 0 H3-2r(hom(A,A)(PAr, P)) = 0

for all r  2.

In this situation, the bimodule data determine (B, F) in the following sense. Suppose we have another pair (B~ , F~), such that associated bimodule data satisfy (3.3) for some . Then, there is
a diagram (3.1) such that the bimodule map induced by G is homotopic to .

One can rephrase the main implication of Theorem 3.3 as follows: Corollary 3.4. If (3.9) holds, (3.8) is injective.

36

PAUL SEIDEL

It is easy to impose additional conditions that make (3.8) a bijection (namely, those in (3.43) below).

Example 3.5. (A silly example, but one that provides a check on why the degrees in (3.9) are

the relevant ones.) Suppose that B is a strictly unital A-algebra, and not zero, so that the unit map Q  B is injective. Then, setting A = Q, the unit map is an A-homomorphism, with P = (B/Q)[-1]. The cohomology groups that appear in (3.9) are

(3.10)

Hom2-r((B/Q)r, Q), Hom2-r((B/Q)r, B/Q) for r  2,

which together add up to Hom2-r((B/Q)r, B). If one thinks of B just as a chain complex containing a distinguished unit element, then these groups parametrize the choices of potential
A-operations on B for which our distinguished element is the strict unit ("potential" because that does not take the associativity constraints into account). As a more concrete (and trivial)
example, take B = Q  Q[1], a rare case in which (3.10) vanish, and where the unitality condition determines µdB, d  2, uniquely. The remaining operation µ1B corresponds exactly to the choice of .

(3b) Simplifying the homomorphism. The proof of Theorem 3.3 will be broken down into
several steps. The first stage is turning A-homomorphisms into inclusions.
Lemma 3.6. Let F~ : A  B~ be an A-homomorphism. Suppose that we have a chain complex B, containing A as a subcomplex, together with a quasi-isomorphism G1 : B  B~ such that G1|A = F~1. Then there is an A-algebra structure on B (with the differential as before) and an A-homomorphism G : B  B~ (with the linear part G1 as before), such that A  B is an A-subalgebra, and G|A = F~. In other words, there is a diagram (3.1) where F is an inclusion,
and which is strictly commutative.

Proof. Since this is the first of several similar arguments, we'll give ourselves some expository

leeway. The space Hom(T (B[1]), B[1]) comes with a graded bracket [·, ·], which is natural if

one thinks of it as the space of coderivations of the tensor coalgebra. (Our sign conventions are such that a graded Lie algebra is a special case of an L-structure.) Write T >r(B[1]) = T (B[1])/ dr T (B[1])d. The A-associativity equations can be written as

(3.11)

1 2

[µB,

µB]

=

0

for µB = (µdB)d1  Hom1(T >0B[1], B[1])  Hom1(T (B[1]), B[1]).

To adapt this picture to our situation, where we have an existing differential on B and an existing A-structure on A  B, we proceed as follows. For d  2, choose µgBiven,d to be some extension of µdA to a map Bd  B[2 - d]. We are looking for an A-algebra with the given µ1B, and with

(3.12)

µdB = µgBiven,d + µnBew,d for d > 1,

where the new term vanishes on Ad. Thus, µnBew is an element of

(3.13)

b = Hom(T >1B[1]/T >1A[1], B[1]).

This space comes with the structure of a curved dg Lie algebra (which we think of as a curved L-structure with operations db that vanish for d > 2). To define that structure, we start with

LEFSCHETZ FIBRATIONS

37

the previously used bracket and set

(3.14)

0b 

=

1 2

[µgBiven

,

µgBiven

],



1b = [µgBiven , ·] = [·, µgBiven ],

 2b = [·, ·].

The A-associativity equation for (3.12) can be written as a curved Maurer-Cartan equation

(3.15)

0b

+

1b(µnBew )

+

1 2

2b(µnBew

,

µnBew

)

=

0.

We have a complete decreasing filtration of b, whose pieces F rb, r  1, consist of those multilinear

maps which vanish on dr Bd. Our curved dg Lie structure is compatible with that filtration. That makes it possible to analyze (3.15) through order-by-order obstruction theory, by which we

mean looking at the cohomology of the associated graded spaces. Ignoring shifts in the grading,

for the sake of brevity, these are

(3.16)

H(F r-1b/F rb) = Hom H(B)r/H(A)r, H(B) .

Let's take a look at the other piece of our problem, A-homomorphisms, by itself. Namely, suppose that we are given A-algebras B and B~ , and want to construct an A-homomorphism G : B  B~ . The A-homomorphism property can be written as an extended Maurer-Cartan
equation,

(3.17)

1(G)

+

1 2

2(G,

G)

+

1 6

3(G,

G, G)

+

··

·

=

0,

where the d are L-operations on Hom(T >0(B[1]), B~ ). As before, we can introduce a relative version, in which we start with a given F~ : A  B~ defined on an A-subalgebra A  B, as well as an extension G1 : B  B~ of F~1 as a chain map. One proceeds as before: first, pick arbitrary
extensions Ggiven,d of the F~d, for d  2; then, look for a solution Gd = Ggiven,d + Gnew,d, d  2,

where Gnew,d vanishes on Ad. This means that Gnew lies in

(3.18)

g = Hom(T >1B[1]/T >1A[1], B~ ).

That space has the structure of a curved L-algebra, defined in terms of the previous one as

0g

=

1(Ggiven )

+

1 2

2(Ggiven

,

Ggiven

)

+

1 6

3(Ggiven

,

Ggiven

,

Ggiven

)

+

···

,

(3.19)

1g

=

1(·)

+

2(Ggiven , ·)

+

1 2

3

(Ggiven

,

Ggiven

,

·)

+

1 6

4(Ggiven

,

Ggiven

,

Ggiven

,

·)

+

···

,

...

Then, the equation for Gnew is a version of (3.17) with curvature term:

(3.20)

0g

+

1g(Gnew )

+

1 2

2g

(Gnew

,

Gnew

)

+

1 6

3g(Gnew

,

Gnew

,

Gnew

)

+

···

=

0.

The analogue of (3.16), for the same kind of filtration by tensor length of inputs as before, is

(3.21)

H(F r-1g/F rg) = Hom H(B)r/H(A)r, H(B~ ) .

Finally, one can combine the two theories into one which covers the construction of the pair

(B, G). We will directly proceed to the version which works relatively to A. One can write this

as an equation (3.20) for the pair (µnBew , Gnew ), in a curved L-algebra

(3.22)

c = Hom(T >1B[1]/T >1A[1], B[1]  B~ ).

38

PAUL SEIDEL

As a graded vector space, this is the direct sum of (3.13) and (3.18), but the curved L-operations have cross-terms, which is natural since the property of G being an A-homomorphism depends on our choice of µB. What's relevant for us is the analogue of (3.16) and (3.21), namely

(3.23)

H(F r-1c/F rc) = Hom H(B)r/H(A)r, H({B G1 B~ }) .

In the situation we are considering, the cone in (3.23) is acyclic, so the cohomology is zero. It then follows by a standard obstruction theory argument that a solution (B, G) always exists.

Remark 3.7. Since we have ultimately just worked order-by-order with respect to the filtration, L-structures are not really necessary, and one could rewrite the argument without appealing to that formalism (that removes all denominators from the argument, hence makes it available in arbitrary characteristic). However, one would then need to check by hand that the obstruction terms which occur are cocycles in F r-1c/F rc. Fitting our problem into an L-framework provides a more conceptual explanation.

(3c) A-subalgebras. With Lemma 3.6 in mind, we simplify the problem under discussion, considering only inclusions of A-subalgebras C  B. In this case, it is convenient to replace (3.2) by the equivalent

(3.24)

P = (B/C)[-1], as an A-bimodule over C,  = the boundary map of the short exact sequence 0  C  B  P[1]  0.

We consider the weight filtration on B as in (2.5). Suppose that C and P (or equivalently, GrW B) are given. The construction of the rest of the A-structure can be thought of as solving a Maurer-Cartan equation in a dg Lie algebra

(3.25)

w = W 1Hom(T (B[1]), B[1]),

whose complete decreasing filtration by weight satisfies

(3.26)

W rw/W r+1w = hom(C,C)(P[2]Cr, C) - hom(C,C)(P[2]Cr+1, P[2]) .

This means that there is a long exact sequence

(3.27)

· · ·  H-2r(hom(C,C)(PCr+1, P)) - H(W rw/W r+1w) - H+1-2r(hom(C,C)(PCr, C))  · · · ,

see [39, Equation (2.61)]. As discussed there, the connecting homomorphism is   id C  -  C id .

Lemma 3.8. (A minor generalization of [39, Lemma 2.12]) Fix C and a bimodule P, such that (3.9) holds. Consider A-structures on B = C  P[1] which extend the given structure on A, and induce the given bimodule structure on P. If two such structures give rise to the same class []  H0(hom(C,C)(P, C)), they must be related by an A-homomorphism which restricts to the identity on C, and which induces the identity on P.

Proof. In view of (3.27), the assumption (3.9) means that H1(W rw/W r+1w) = 0 for all r  2, and that

(3.28)

H1(w/W 2w) - H0(hom(C,C)(P, C))

LEFSCHETZ FIBRATIONS

39

is injective. A solution of the Maurer-Cartan equation yields, at first order, a cocycle in w/W 2w. It is not hard to see that the image of that cohomology class under (3.28) is exactly []. Given that, it is a standard fact from obstruction theory that this class determines the Maurer-Cartan solution up to equivalence. In our context, equivalence in w is precisely given by the relation described in the statement of this Lemma.

There is one final part to our construction, which is a transfer result allowing one to replace the bimodule by a quasi-isomorphic one:
Lemma 3.9. Let C  B~ be an A-subalgebra, with associated bimodule P~. Suppose that we are given a bimodule P and quasi-isomorphism  : P  P~. Then there is another A-algebra B containing C, with associated bimodule P, and an A-homomorphism G : B  B~ such that G|C = id , and where the induced map of A-bimodules equals .

Proof. Let's set B = CP[1]. The task of constructing the A-algebra B and A-homomorphism G, with the prescribed properties, can be formalized as a solution of an extended Maurer-Cartan

equation in a curved L-algebra

(3.29)

t = W 1Hom(T (B[1]), B[1]  B~ ).

The situation is as in (3.22), but we use the weight filtration rather than the length filtration. The associated graded space W rt/W r+1t can be written as in (3.26), except that this time the pieces are

(3.30)

hom(C,C)(P[2]Cr, {C -id C}[-1]) and hom(C,C)(P[2]Cr+1, {P - P~}[1] .

By assumption, these are both acyclic.

We can now bring all the pieces together:

Proof of Theorem 3.3. Take some (B~ , F~). As a chain complex, form

(3.31)

B = Cone A -(---id-,-in-c-lu-s-io-n) A  B~ .

We have an inclusion A  B, which takes a to (a, 0) in the second term of (3.31). We also have a chain map G1 : B  B~ , which is zero on the first term in (3.31), and (a, ~b)  a + ~b on the second term. This is clearly a quasi-isomorphism, and G1|A is the inclusion A  B~ . Using
Lemma 3.6, we can equip B with an A-algebra structure compatible with A  B, and so that (B, inclusion) is quasi-isomorphic to (B~ , F~).

With that in mind, it is sufficient to focus on the case of A-algebras containing A as a subalgebra. Suppose we have two such algebras, such that the associated bimodule data are quasi-isomorphic, in the sense of (3.3). Then, by applying Lemma 3.9, we can replace these by quasi-isomorphic ones where the two bimodules that occur are actually the same, and their maps to A are homotopic. After that, Lemma 3.8 completes the argument.

40

PAUL SEIDEL

(3d) Curvature and A-deformations. Let A be an A-algebra. A (curved) A-deformation consists of operations

(3.32)

µ0Aq  (A[[q]])2,  µ1Aq : A - (A[1])[[q]],
µ2Aq : A2 - A[[q]],   ...

which reduce to those of A if we set q = 0, meaning in particular that the curvature µ0Aq has no q-constant term; and which satisfy the A-associativity equations extended by including that curvature term. An equivalent point of view is to take Aq = A[[q]], and to consider the operations as multilinear ones living on that space. When we adopt that viewpoint, we refer to Aq as a curved A-algebra. There are corresponding q-notions of A-homomorphisms, homotopies between such homomorphisms, and bimodules (see e.g. [8, Sections 3.2, 3.7, 4.2]). Recall that
the structure of an A-bimodule does not have its own curvature term; instead, the bimodule equations involve the curvature of the underlying A-algebra. For instance, given a bimodule Pq over Aq, the failure of the differential on Pq to square to zero is measured by the formula

(3.33)

µP0,q1,0(µ0P,q1,0(·)) + (-1)|·|µ1P,q1,0(µ0Aq , · ) + µ0P,q1,1( · µ0Aq ) = 0.

Similarly, when we have a homomorphism Fq : Aq  Bq, its curvature term Fq0  B1q enters into the pullback of bimodules. Specifically, for Pq = FqQq, the differential is given by

(3.34)

s

r

µP0,q1,0(·) =

µsQ,q1,r(Fq0, . . . , Fq0, · , Fq0, . . . , Fq0).

s,r0

As before, we fix Aq, and consider pairs consisting of some Bq and a curved A-homomorphism Fq : Aq  Bq. More precisely, we consider them up to an equivalence relation as in (3.1), where Gq : Bq  B~ q is a filtered quasi-isomorphism (meaning, it is a curved A-homomorphism which reduces to a quasi-isomorphism if we set q = 0). To such a pair one associates an Aq-bimodule
and bimodule map, as in (3.2):

(3.35)

 Pq = Aq -F-q FqBq [-1], q : Pq - Aq.

These are again considered up to filtered quasi-isomorphism. The map q will always be ambidextrous, as in Lemma 3.2. Hence, as in (3.8), we have a map

(3.36)

pairs (Bq, Fq) whose associated bimodule





is filtered quasi-isomorphic to Pq, up to - Ambi (Pq)/Aut(Pq).

(3.1)



There is an analogue of Theorem 3.3, which we skip and proceed directly to the more concrete analogue of Corollary 3.4:

LEFSCHETZ FIBRATIONS

41

Corollary 3.10. If Pq satisfies

(3.37)

H 2-2r(hom (Aq,Aq)(Pq Aq

r,

Aq ))

=

 0

H 3-2r(hom(Aq,Aq)(Pq Aq r, Pq)) = 0 

for

all

r

 2.

then (3.36) is injective.

Note that, if we take (A, P) to be the q = 0 specializations of (Aq, Pq), then our original vanishing assumption (3.9) implies (3.37), by a q-filtration argument.

Example 3.11. Suppose that

(3.38)

Ambi (P) = Q[[q]].

Since Q[[q]]×  Aut(P), and since the order of vanishing of an element of (3.38) is invariant under the Aut(P), then we have Ambi (P)/Aut(P) = {0, 1, 2, · · · , }.

The proof of Corollary 3.10 follows the spirit of our earlier arguments, with certain departures in
the details. We lean on our previous Lemma 3.6, and extend that to higher orders in q as follows:
Lemma 3.12. Take A-algebras C  B, and a quasi-isomorphism G : B  B~ . Set F~ = G|C. Suppose that (C, B~ , F~) come with curved A-deformations F~q : Cq  B~ q. Then there are curved A-deformations Bq and Gq : Bq  B~ q, such that Cq  Bq is a curved A-subalgebra, and Gq|Cq = F~q.

Proof. Consider

(3.39)

cq = Hom(T (B[1])/T (C[1]), B[1]  B~ )[[q]],

which carries a curved L-algebra structure. The definition follows the same idea as in (3.22). More explicitly, fix operations µgBivqen,d (including d = 0) which restrict to those of Cq, and which are q-deformations of those on B. Similarly, fix some Ggqiven,d which restrict to F~q, and which are q-deformations of G. These determine the curved L-structure: for instance, the curvature term 0cq is the failure of the "given" data to satisfy the requirements (A-associativity and Ahomomorphism equations). Repairing this failure amounts to solving an extended Maurer-Cartan
equation for an element

(3.40)

(µnBeqw , Gnq ew )  qc1q.

If we set q = 0, the resulting cq/qcq is a version of (3.22) without the > 1 restriction. As a chain complex, one can filter it by tensor length, and the quotients are acyclic, as in (3.23). It follows

that cq/qcq is acyclic, or in a different terminology, that cq is filtered acyclic. The rest is once more standard obstruction theory: filtered acyclicity ensures that we can always find a solution

to the extended Maurer-Cartan equation.

Lemma 3.13. (A generalization of [40, Lemma 2.6]) Fix Cq and a bimodule Pq, such that (3.37) holds. Consider curved A-structures on Bq = Cq Pq[1] which extend the given structure on Cq, and induce the given bimodule structure on Pq. If two such structures give rise to the same class [q]  H0(hom(Cq,Cq)(Pq, Cq)), they must be related by an A-homomorphism which restricts to the identity on Cq (hence has no curvature term), and which induces the identity on Pq.

42

PAUL SEIDEL

This is the analogue of Lemma 3.8, and uses the same method of proof: one uses Cq and Pq to define a dg Lie algebra

(3.41)

wq = W 1Hom(T (Bq[1]), Bq[1]),

which comes with its complete decreasing filtration W rwq. The assumption (3.37) provides the necessary information about the groups H1(W rwq/W r+1wq). Similar considerations appear in
the analogue of Lemma 3.9:

Lemma 3.14. Let Cq  B~ q be a curved A-subalgebra, with associated bimodule P~q. Suppose that we are given a bimodule Pq and quasi-isomorphism q : Pq  P~q. Then there is another
curved A-algebra Bq containing Cq, with associated bimodule Pq, and an A-homomorphism Gq : Bq  B~ q such that Gq|Cq = id , and where the induced map of A-bimodules equals q.

Finally, these ingredients combine to yield Corollary 3.10 in the same way as before; we omit the details.

We also want to consider a more specific situation, following [38, 40]. Namely, suppose that Cq = C[[q]] is the trivial q-linear extension of some A-structure on C, and similarly for Pq = P[[q]]. Given some curved A-structure on Bq = Cq  Pq[1] which extends those data (in the sense of Lemma 3.13), one can write

(3.42)

[q]  H0(hom(C,C)(P, C))[[q]].

Lemma 3.15. (A mild generalization of [40, Lemma 2.7]; see also [40, Lemma A.12] for a discussion in more general terms.) Assume that

(3.43)

H3-2r(hom(C,C)(PCr, C)) = 0 for r  2, H4-2r(hom(C,C)(PCr, P)) = 0 for r  3.

Take a Q-linear subspace V  Q[[q]], and an element [q]  Ambi (P)V . Then, there is some Bq
whose associated bimodule map is [q], and such that for each r  1, the part of the A-structure on Bq which has weight r has coefficients which lie in Symr(V )  Q[[q]].

Proof. Because the weight filtration on B = C  P[1] comes with a preferred splitting, the dg Lie algebra (3.25) is bigraded. More precisely, one can write w = r1 W =rw, where W =r stands for the part that increases weights exactly by r. We use that to define another dg Lie algebra,

(3.44)

wV = W =rw  SymrV  w[[q]].
r

By (3.27), we can lift our class [q] to H0(W =1w)V = H0(W 1w/W 2w)V , and then represent
it by an element of W =1w  V  wV . We then extend that to a Maurer-Cartan element in wV , order by order in r. At each step, the obstruction lies in H2(W =rwV ) = H2(W rw/W r+1w)  Symr(V ). From (3.27), one sees that (3.43) implies the vanishing of those cohomology groups.

It will occasionally be useful to be able to transfer this result across quasi-isomorphisms, in the following sense.

LEFSCHETZ FIBRATIONS

43

Lemma 3.16. Take a pair (C, P) consisting of an A-algebra a bimodule over it, as well as another such pair (C~, P~), together with a quasi-isomorphism of pairs between them. Suppose that
we have an A-structure on (C  P[1])[[q]] which is nondecreasing with respect to weights, and such that the weight r part has coefficients in Symr(V )  Q[[q]]. Then there is an A-structure
on

(3.45)

(C~  P~[1])[[q]]

with the same property, as well as a filtered quasi-isomorphism between the two; and the filtered quasi-isomorphism also has the same properties with respect to weights.

Proof. This is fairly straightforward. There is a curved L-algebra similar to (3.44) which governs, simultaneously, the construction of the A-structure on (3.45) and that of the quasiisomorphism. With respect to the filtration by weights, that L-algebra is filtered acyclic, allowing us to solve the construction problem order by order.

4. Differentiation operations in the A-context

The aim of this section is to provide the context on A-connections needed in Section 2b. This is entirely elementary material, and we will explain the basic features while keeping the discussion relatively narrow. For some related aspects, notably the process by which an A-connection gives rise to connections such as (2.30) on Hochschild-type groups, we refer to [46].

(4a) Definitions. Let A be an A-algebra over Q, and Aq a (curved) deformation. To define Hochschild cohomology HH (Aq, Aq), we use the standard chain complex

CC (Aq, Aq) = Hom(T (Aq[1]), Aq),

(4.1)

(q)d(ad, . . . , a1) = ij (-1) q + a1 +···+ ai qd-j+1(ad, . . . , µjAq (ai+j , . . . , ai+1), . . . , a1)
- ij (-1) q ( a1 +···+ ai )µdA-qj+1(ad, . . . , qj (ai+j , . . . , ai+1), . . . , a1).

An A-pre-connection V¯q on Aq consists of

(4.2)

V¯q0  A1q,   V¯q1 : Aq - Aq,
V¯q2 : Aq 2 - Aq[-1],   ···

such that each V¯qd, k = 1, is q-linear, while

(4.3)

V¯q1(ga) = gV¯q1a + g a for g  Q[[q]], a  Aq.

Equivalently, a pre-connection is of the form V¯q = q + q, where the first term is ordinary differentiation as a linear endomorphism, and q  CC 1(Aq, Aq). Even though the pre-connection

44

PAUL SEIDEL

itself is not a Hochschild cochain, one can apply the Hochschild differential to it, which yields an element (V¯q)  CC 2(Aq, Aq). Clearly, its cohomology class

(4.4)

q = [V¯q]  HH 2(Aq, Aq)

is independent of all choices. This is what we call the Kaledin class. If one takes V¯q = q, the corresponding representative of the Kaledin class is just the ordinary q-derivative qµAq of the A-structure. An A-connection is one such that (V¯q) = 0. Two such connections are homotopic if their difference is a Hochschild coboundary. Clearly, an A-connection exists if and only if the Kaledin class is zero; and in that case, the homotopy classes of connections form an affine space over HH 1(Aq, Aq).

Lemma 4.1. Consider an isomorphism Fq : Aq  A~q of curved A-algebras (this means that if we specialize to q = 0, F1 : A  A~ is an isomorphism). Then, there is an induced bijection between pre-connections on both sides; and the associated representatives for the Kaledin class also correspond to each other, under the induced isomorphism of Hochschild complexes. In particular, we get a bijection between actual connections on both sides, and that is compatible with the notion of homotopy.

Proof. Alongside the standard Hochschild complexes of the two algebras, there is a mixed version
(the Hochschild complex of A with coefficients in the pullback via F of the diagonal bimodule of A~):

CC (Aq, FqA~q) = Hom(T (Aq[1]), A~),

(q)d(ad, . . . , a1) =

(4.5)

ij (-1) q + a1 +···+ ai qd-j+1(ad, . . . , µjAq (ai+j , . . . , ai+1), . . . , a1)

- k, i1+···+ik=d, l(-1) q ( a1 +···+ ai1+···+il-1 )µdA~-qi1-···-ik+k(Fqik (ad, . . . , ad-ik+1), . . . , iql (ai1+···+il , . . . , ai1+···+il-1+1), . . . , Fqi1 (ai1 , . . . , a1)).

It comes with isomorphisms

(4.6)

CC (Aq, Aq) - CC (Aq, FqA~q) - CC (A~q, A~q).

Explicitly, the image of   CC (Aq, Aq) under the map on the left is

(4.7) (ad, . . . , a1) - ij (-1) q ( a1 +···+ ai )Fqd-j+1(ad, . . . , q(ai+j , . . . , ai+1), . . . , a1);

and the map on the right in (4.6) sends ~ to

(4.8)

k, i1+···+ik=d ~qk(Fqik (ad, . . . , ad-ik+1), . . . , Fqi1 (ai1 , . . . , a1)).

Arguing order-by-order in q, and then with respect to the number of inputs, shows that both maps are indeed isomorphisms.

One can introduce a notion of connection over Fq, which is a sequence of maps

(4.9)

V¯qd : Aq d - A~q[1 - d], V¯qd(ad, . . . , gaj, . . . , a1) = gV¯qd(ad, . . . , a1) + g Fqd(ad, . . . , a1).

LEFSCHETZ FIBRATIONS

45

The formulae from (4.7) and (4.8) produce, starting with a pre-connection on Aq or A~q, such a relative connection. Again, these are bijective correspondences. With that at hand, the desired properties are easy to see.

Lemma 4.2. Suppose that Fq : Aq  A~q is a filtered quasi-isomorphism. Then, the associated isomorphism HH (Aq, Aq) = HH (A~q, A~q) takes one Kaledin class to the other. If those classes
vanish, there is a preferred bijection between homotopy classes of A-connections on both sides.

Proof. We can use exactly the same strategy as in Lemma 4.1. The only difference is that the maps in (4.6) are now only filtered quasi-isomorphisms, which explains the weaker outcome.

(4b) Gauge equivalence classes. Everything we have said previously would work over an arbitrary coefficient field. At this point, we start using the fact that we are working over Q. The starting point is [21, Proposition 7.3(b)]:
Lemma 4.3. The Kaledin class is zero if and only if Aq is a trivial A-deformation.
This, together with Lemmas 4.1, means that we can always restrict to Aq = A[[q]]. In that case, a connection has the form V¯q = q + q, where q  CC 1(A, A)[[q]] is a cocycle.
Lemma 4.4. Any two A-connections on Aq are related by an automorphism of Aq which is the identity modulo q. Moreover, that automorphism is unique.

Proof. Without loss of generality, take Aq = A[[q]]. Suppose that q is of order qm (meaning, all terms of lower order are zero). Let Fq be an automorphism of A[[q]] which is equal to the identity up to (and including) order qm. By going through the formulae in Lemma 4.1, one sees
that this transforms our connection into a new one with

(4.10)

~q = q - (qFq) + O(qm+1).

Recall that Hochschild cocycles can be regarded as infinitesimal automorphisms. If such a cocycle has order qm+1 for some m  0, one can exponentiate it, which yields an automorphism that is equal the identity, plus our cocycle, plus terms of order q2m+2. By applying this to qq/(m + 1) and inserting that into (4.10), one obtains a new connection with ~q of order qm+1. One can iterate that process, and the composition of the resulting infinite sequence of automorphisms makes sense, yielding an overall automorphism that transforms any given connection to the trivial one q.
The last step is to show that there are no nontrivial automorphisms of the kind appearing in the Lemma, which preserve the trivial connection. But that's obvious, since such an automorphism must be q-constant.

46

PAUL SEIDEL

5. Hamiltonian Floer cohomology for Lefschetz fibrations

This

section

reviews

the

groups

HF

 q,q-1

(p¯,

r)

from

(2.48),

following

[42],

and

adds

more

concrete

computational material along the lines of [25]. We only deal with fibrations which have triv-

ial monodromy at infinity, which makes both the technical arguments and the outcome of the

computations particularly simple. None of this material is substantially new, but it serves as a

reminder, and sets up our later discussion of the relative version of those Floer groups.

(5a) A topological barrier trick. We start with elementary technical ingredients. Fix some r  R and  > 0. Consider maps

(5.1)

 u


:

R

×

S1

-

C,





lims± u(s, t) = x±(t), where x± are loops disjoint from {|w| = }  C.

 su

+

i(t

-

2ir)u

=

0

in

a

neighbourhood

of

u-1({|w|

=

}).

Lemma 5.1. Suppose u intersects {|w| = } transversally, and set  = u-1({|w|  }). Then we have the winding number inequality

(5.2)

wind(u|)  r wind(), with equality only if  = .

The notation requires some explanation. By assumption,  = u-1({|w| = }) is the union of finitely many oriented loops C1, . . . , Ck  R × S1. On the left hand side of (5.2), we consider the
winding number (or degree) of u|Cj, and add up all those numbers. On the right hand side, we similarly add up the winding numbers (degrees) of the projections Cj  S1.

Proof. Take

(5.3)

u~(s, t) = exp(-2irt)u(s, t) : R2 = C - C.

This is holomorphic in a neighbourhood of  = u~-1({|w| = }). Therefore, u~| moves along
the circle {|w| = } clockwise with nonzero speed (here, the choice of orientation is important). Take any component C  , parametrize it by c = c() : S1  C, and lift that to a map c~ : [0, 1]  R2. Since u~(c~()) moves clockwise, we see from (5.3) that

(5.4) As a consequence,

d dim(c~)

u(c~()) =  exp(2i()) with < r

.

d

d

(5.5)

wind(u|C) = (1) - (0) < r im(c~(1)) - im(c~(0)) = r wind(C).

Lemma 5.2. (i) If both x± lie inside {|w| < }, then all of u lies in that subset.
(ii) If both x± lie outside {|w|  }, then wind(x-)  wind(x+); moreover, if those two winding numbers are equal, then all of u lies outside {|w|  }.
(iii) If x+ lies in {|w|  } and x- lies outside it, then wind(x-) < r.

LEFSCHETZ FIBRATIONS

47

Proof. (i) We can perturb , making it slightly smaller, and thereby achieve the transversality condition required to apply Lemma 5.1. Because of the limit assumptions,  is compact, and as a consequence, wind(u|) and wind() are both zero. This implies  =  by (5.2), and therefore  = .

(ii) In this case, we make  slightly larger to achieve transversality. By assumption,  contains all points (s, t) where ±s 0, and can therefore be compactificed by adding circles {±} × S1. As a consequence, wind(u|) = wind(x-) - wind(x+), while wind() = 0 as before. Hence, (5.2) implies that wind(x-)  wind(x+), with equality only if  = , in which case we must have  = R × S1.
(iii) Here, we can compactify  just by adding {-} × S1. Therefore, wind(u|) = wind(x-), whereas wind() = 1. One again ends by applying (5.2).

(5b) Symplectic geometry of the hyperbolic disc. Let's assemble some basic terminology concerning the hyperbolic disc (see [42, Sections 3,4, and 8] or [43, Section 3] for closely related expositions). Take the Lie group

(5.6)

G = PU (1, 1) = g =

ab ¯b a¯

: a, b  C, |a|2 - |b|2 = 1 / ±id ,

which is isomorphic to PSL2(R). We denote its universal cover by G~. Any g~  G~ has a rotation

number rot(g~)  R, which satisfies

(5.7)

rot(g~)  R \ Z if g (the image of g~ in G) is elliptic,

Z

otherwise.

The Lie algebra of G is

(5.8)

g = u(1, 1) =  =

i  ¯ -i

:   R,   C .

The nonnegative cone g0  g consists of those  such that   || (the "square root" of the condition det()  0). A path (gt) in G is called nonnegative if (dgt/dt)gt-1  g0 for all t.

Suppose that we are given a loop (t)tS1 in g. By integrating the differential equation

(5.9)

(dgt/dt)gt-1 = t, g0 = id ,

one gets an element g = g1  G, called the monodromy of (t). Any two loops with conjugate monodromies are gauge equivalent, meaning that they are related by a transformation

(5.10)

t - h-t 1tht - h-t 1(tht), for (ht) a loop in G.

The monodromy element also comes with a preferred lift g~ to G~. Two loops (t) with conjugate g~ are G~-gauge equivalent, which means they are related by a transformation (5.10) in which (ht)
is a contractible loop.

Let W be the open unit disc in C. We denote its closure by W . For future use, we also want to introduce the notation

(5.11)

W = {w  W : |w|  }, W = {w  W : |w|  }.

48

PAUL SEIDEL

The group G acts on W by

(5.12)

aw + b g(w) = ¯bw + a¯ .

The action preserves the complex structure and the symplectic form

(5.13)

dre(w)  dim(w) W = (1 - |w|2)2 .

The action extends smoothly to W . On the infinitesimal level, one gets a homomorphism from g to the Lie algebra C(W, R) with the Poisson bracket, and from there to Hamiltonian vector

fields:

(5.14)

1 H = 1 - |w|2

1 2

(1

+

|w|2)

-

im(w)

,

(5.15)

X = (¯ + 2iw - w2) w.

The nonnegative elements are precisely those for which X is a nonnegative vector field on the boundary of W (meaning, X is either zero or anticlockwise-pointing at each boundary point). Equivalently, they are those which satisfy H  0.

We pick two sample elements of g with different behaviour (elliptic and hyperbolic):

(5.16) (5.17)

rot = diag(, -),

H rot

= Hrot

=

 2

1+|w|2 1-|w|2

,

hyp =

0 i -i 0

,

H hyp

=

Hhyp

=

re(w) 1-|w|2

.

Here, (5.16) has been normalized so that its Hamiltonian vector field is the rotational vector field with one-periodic flow, meaning 2iww; and we have matched the same constant in (5.17), in order to achieve that

(5.18)

-Hrot < Hhyp < Hrot .

Lemma 5.3. Fix some 1  (0, 1). Then there are 2  (1, 1), H2  C(W, R), such that:
(5.19) H2  -Hrot everywhere, with equality on W1 ; (5.20) H2 = Hhyp on W2 ;
(5.21) H2 is a Morse function with exactly two critical points: a local maximum (at the origin, inherited from -Hrot ), and a saddle point w2 (in the annulus 1 < |w2| < 2, where neither of the previous equalities applies).

Proof. This is done by a simple interpolation:

(5.22)

H2 = -Hrot + 2(|w|)(Hhyp + Hrot ), 2() = 0 for   1, 0 < 2() < 1 for 1 <  < 2, 2() = 1 for   2.

If w is a critical point of H2 and |w| > 1, then (Hhyp)w must point in radial direction, so as to be in linear dependence from the other terms in (H2)w; and this means that w  (-1, 1). It is elementary to find a 2 (for 2 close to 1) such that H2|(-1, 1) has exactly one critical point w2 other than the origin; that point satisfies 1 < w2 < 2 and is a nondegenerate local minimum of H2|(-1, 1) (see Figure 1). By differentiating (5.22) along the circle of radius |w2|, one sees that

LEFSCHETZ FIBRATIONS

49

H hyp H2

-H rot

Figure 1. The function from (5.22), restricted to real values of w.

the Hessian at w2 in imaginary direction is negative. As a consequence, w2 is a nondegenerate saddle point of H2.

Lemma 5.4. (The notation continues from the previous Lemma.) There are 3  (2, 1), H3  C(W, R), such that:
(5.23) H3  H2 everywhere, with equality on W2 ; (5.24) H3 = Hrot on W3 ; (5.25) H3 is a Morse function with exactly three critical points. Two are inherited from H2.
The third one, called w3, is a local minimum (and satisfies 2 < |w3| < 3).

Proof. We use the same approach as in (5.22),

(5.26)

H3 = H2 + 3(|w|)(Hrot - H2), 3() = 0 for   2, 0 < 3() < 1 for 2 <  < 3, 3() = 1 for   3.

This time, one can choose 3 so that H3|(-1, 1) has a nondegenerate local minimum at some point w3  (-3, -2). Because of the difference in the sign of w3, the Hessian in imaginary direction is now positive, so what we get is a local minimum of H3.

(5c) Hamiltonian Floer groups. With those preliminaries at hand, we summarize the definition of the Floer cohomology groups, and prove Lemmas 2.24 and 2.25.
Convention 5.5. Throughout the discussion of Hamiltonian Floer cohomology, we will consider only those one-periodic orbits x which are nullhomologous. This means that there is an oriented compact surface S with S = S1, and a map v from that surface to our symplectic manifold, with v|S = x; which allows us to define many quantities, such as the Conley-Zehnder index of x, in terms of such v. (This assumption is not absolutely necessary, but simplifies some arguments.)

As in [42], we consider symplectic manifolds that map to the hyperbolic disc, rather than to the complex plane. From a purely symplectic geometry viewpoint this distinction is irrelevant, since the two spaces are symplectically isomorphic; but it affects the class of almost complex structures that will be used.

50

PAUL SEIDEL

Setup 5.6. Take a symplectic manifold E¯ with integral symplectic class [E¯] and vanishing first Chern class, together with a proper map

(5.27)

p¯ : E¯ - W,

which is a trivial symplectic fibration over W1/2, with respect to (5.13). This means that if we set M¯ = E¯1/2 = p¯-1(1/2), there is a (unique) symplectic isomorphism extending the inclusion M¯  E¯, which fits into a commutative diagram

(5.28)

W1/2 × M¯

=

/ E¯|W1/2

&y W1/2.
We will usually treat this isomorphism as an inclusion, writing W1/2 × M¯  E¯. As one consequence of this structure, there is an obvious compactification E  W . We make another topological assumption:
(5.29) The constant lift of a loop in W1/2 to a loop in E¯|W1/2 (constant being understood with respect to our trivialization) must be nullhomologous in E¯. Note that if x is such a lift, then xT E¯ has a preferred trivialization (coming from the triviality of T W and the constancy in fibre direction). Then, for a bounding surface v as in Convention 5.5, we require that the relative degree (integral of the relative first Chern class) of vT E¯ should be -1 times the winding number of the loop in W1/2.
We consider compatible almost complex structures on E¯ which, outside a compact subset, are the product of the complex structure on W and an almost complex structure on M¯ . Similarly, we consider Hamiltonians H on E¯ such that outside a compact subset,

(5.30)

H = H + HM¯ .

Here,   g (and we say that H is of type ), HM¯ is a function on the fibre, and we have used (5.28).

Remark 5.7. We would like to mention an equivalent formulation of (5.28). Let's introduce
this terminology:
(5.31) p¯ is symplectically locally trivial at x  E¯ if: x is a regular point; T E¯xv = ker (Dp¯x) is a symplectic subspace, hence has a symplectic orthogonal complement T E¯xh which maps isomorphically to T Wp¯(x); and finally, (E¯ - p¯W ) | T E¯xh = 0.
Then, (5.28) is equivalent to saying that, first, p¯ is locally trivial at any point of E¯|W1/2 (which makes it a trivial symplectic fibration over any simply-connected open subset of W1/2); and secondly, that the monodromy around the "hole" in W1/2 is the identity.

The time-dependent Hamiltonians that enter the definition of Floer cohomology are as follows.

(5.32)

Given a rotation number r, choose a loop (t) in g such that: the monodromy has rotation number r, and is hyperbolic if r  Z (in the remaining cases, it is automatically elliptic). Next, choose (Ht) so that each Ht is of type t, and which has nondegenerate one-periodic orbits.

LEFSCHETZ FIBRATIONS

51

Note that a hyperbolic element of G acts fixed-point freely on W , and an elliptic element of G
has a unique fixed point. Hence, the one-periodic orbits of (Ht) must be contained in a compact subset of E¯. Take a codimension two submanifold (not necessarily symplectic)   E¯ which
represents [E¯], and which is disjoint from the one-periodic orbits of (Ht). Additionally, make a generic choice of almost complex structure (Jt), obviously within the class from Setup 5.6. One then defines the Floer complex as usual:

(5.33)

CF

 q,q-1

(Ht

,

Jt)

=

Q((q))x .

x

The degree of each x is its Conley-Zehnder index i(x)  Z, and we have also fixed a trivialization of its orientation space (the determinant line of a suitable Cauchy-Riemann operator on a thimble).

The differential dq,q-1 counts solutions u of Floer's equation which are isolated up to translation, and with limits x±, like this:

(5.34)

(x-)-coefficient of dq,q-1 x+ = ±qu· .
u

Here, the sign involves the previously considered trivialization of the orientation spaces.

Remark 5.8. As part of the construction, one shows that the Floer complex is independent of  up to canonical isomorphism. Given two choices  and ~ , and (x, v) as in Convention 5.5, the intersection number v · (~ - ) is independent of v. Multilying each generator x by qv·(~-)
relates the differentials defined using those two submanifolds.

The

cohomology

HF

 q,q-1

(Ht,

Jt)

of

the

Floer

complex

only

depends

on

r,

up

to

canonical

isomor-

phism,

and

that

justifies

our

notation

HF

 q,q-1

(p¯,

r).

We

refer

to

[42]

for

details.

The

main

tool

in this and other arguments are continuation maps, whose geometric basics we will now recall

quickly. Continuation map equations are of the form

(5.35)

(su - Ws,t) + Js,t(u)(tu - Xs,t) = 0.

Here, (Js,t) is a family of almost complex structures, and (Ws,t, Xs,t) families of Hamiltonian vector fields associated to functions (Fs,t, Hs,t). They must satisfy

(5.36)

(Fs,t, Hs,t, Js,t) - (0, H±,t, J±,t) as ±s  , exponentially fast.

Remark 5.9. Classically, one often considers only the special case Fs,t = 0; there is no substantial loss involved in imposing that restriction, since any equation (5.35) can be reduced to that case. Still, the general framework fits more naturally into a discussion of G-connections [42], which is suitable for addressing issues such as the uniqueness (well-definedness) of continuation and PSS maps. Hence, we have adopted it in our exposition, even though the examples arising in concrete computations will still have Fs,t = 0.

The analysis of (5.35) runs parallel to Floer's equation, except for slight complications (whose study goes back at least to [26]) involving energy. The topological version of the energy is

(5.37)

Etop (u) =

uE¯ - d(uFs,tds + uHs,tdt )

R×S1

=

E¯ (su - Ws,t, tu - Xs,t)ds dt +

uRs,t ds dt ,

R×S1

R×S1

52

PAUL SEIDEL

where

(5.38)

Rs,t = -sHs,t + tFs,t - {Fs,t, Hs,t}.

In the last line of (5.37), the first term is the actual geometric energy for a solution of (5.35), and so the important point is the sign of the curvature term (5.38). In our situation, the continuation map will be well-defined if:

(5.39) Rs,t is of type s,t, with s,t  g0 for all (s, t).

(5d) Computational aspects. We now turn to the proofs of Lemma 2.24 and 2.25, which

depend on specifically chosen Hamiltonians. Fix r2  Z. The ingredients are:

(5.40) On M¯ , take a time-dependent Hamiltonian (HM¯ ,t), and a corresponding family (JM¯ ,t), with the transversality properties necessary to define Floer cohomology.

(5.41) (5.42)

Take H2, H3 provided by Lemmas 5.3 and 5.4, and a small > 0 such that: every

-periodic orbit of H2 or H3 is constant, and the linearized Hamiltonian flow at such

points is nondegenerate for all times in (0, ].

Set r1 = r2 - . Let (Hr1,t) be a time-dependent Hamiltonian on E¯ such that, on W1/2 × M¯ , Hr1,t = r1Hrot + HM¯ ,t. We also assume that all one-periodic orbits

of Hr1,t are nondegenerate. Correspondingly, we choose (Jt) whose restriction to

W1/2

× M¯

is

i × JM¯ ,t,

and

which

can

be

used

to

define

HF

 q,q-1

(Hr1

,t

,

Jt

).

All one-periodic orbits of (Hr1,t) are disjoint from W1/2 × M¯ ; and all Floer trajectories are contained in E¯|W1/2. For the orbits, that follows from the fact that the Hamiltonian vector
field projects to 2ir1ww on W1/2 (and r1 is not an integer); for Floer trajectories u, one uses
Lemma 5.2(i) applied to the projection p¯  u, with  slightly larger than 1/2, and then takes the

limit   1/2 (a maximum principle argument also works, if you prefer). These observations also

explain why, in spite of the strong restrictions we have placed on the behaviour of (Hr1,t) and (Jt) on W1/2 × M¯ , nondegeneracy of one-periodic orbits, and regularity of Floer trajectories,
can be easily achieved.

We

now

define

another

Floer

cohomology

group

HF

 q,q-1

(Hr2

,t

,

Jt

).

The

almost

complex

struc-

tures are the same as before, and the Hamiltonian is

(5.43)

Hr2,t =

Hr1,t (H2  r-ort2t) + r2H rot + HM¯ ,t

on E¯|W1/2, on W1/2 × M¯ .

Here, (rtot ) is the one-periodic rotational circle action on W , generated by Hrot . The two parts of (5.43) match up since

(5.44)

(H2  r-ort2t) + r2Hrot = - Hrot + r2Hrot = r1Hrot on W1 .

By looking at the behaviour on E¯|W2 , one sees that Hr2,t is of type

(5.45)

exp(r2trot )( hyp + r2rot ) exp(-r2trot )  g.

The loop (5.45) in g generates the path exp(r2trot ) exp( thyp) in G. The endpoint of that path

is exp( hyp), but its canonical lift to G~ has rotation number r2. Hence, the Hamiltonian (5.43)

has

the

behaviour

at

infinity

required

in

the

definition

of

HF

 q,q-1

(p¯,

r2).

LEFSCHETZ FIBRATIONS

53

Lemma 5.10. The one-periodic orbits of (Hr2,t) are of two kinds.

(5.46) The first kind are disjoint from W1/2 × M¯ , and agree with the orbits of (Hr1,t). They

form

a

subcomplex

of

CF

 q,q-1

(Hr2

,t

,

Jt)

which

can

be

identified

with

CF

 q,q-1

(Hr1

,t

,

Jt).

(5.47) The second kind of orbits are of the form (rro2tt(w2), x(t)), where w2 is the critical point
from Lemma 5.3, and x is a one-periodic orbit of (HM¯ ,t). They form a quotient complex, whose cohomology is H-1(M¯ ; Q)((q)).

Proof. Since the Hamiltonian isotopy generated by (Hr2,t) preserves E¯|W1/2, any one-periodic orbit is either contained or disjoint from that subset. The orbits in E¯|W1/2 obviously agree
with those of (Hr1,t). Next, observe that we have the following relation between the Hamiltonian isotopies associated to (Hr2,t) (on E¯), H2 (on W ), and HM¯ ,t (on M¯ ):

(5.48)

Hr2 ,t(w, x) = (rro2tt(H2, t(w)), HM¯ ,t (x)) for (w, x)  W1/2 × M¯ ;

in view of (5.41), this implies that the one-periodic orbits lying in W1/2 × M¯ are precisely those

described in (5.47). A topological clarification is necessary: as usual, we are considering only

orbits which are nullhomologous. For an orbit as in (5.47), we have a (free) homotopy

(5.49)

(rro2tt(w2), x(t)) (rro2tt(w2), x(0)) composed with (w2, x(t)).

On the right hand side, the first loop is nullhomologous in E¯ by (5.40). If the second loop is nullhomologous in M¯ , the left hand side is nullhomologous in E¯. On the other hand, there could be x(t) which are not nullhomologous in M¯ , but such that (rrott (w2), x(t)) is nullhomologous in E¯; these would contribute to the Floer complex of (Hr2,t), but turn out to be ultimately irrelevant,
since orbits which are not nullhomologous (or nullhomotopic) give trivial summands of the Floer

cohomology of (HM¯ ,t).

Lemma 5.2(i), again applied to the projections of Floer trajectories to W , shows that a trajectory whose limits are both in the class (5.46) remains inside p¯-1(W1/2). The orbits of type (5.47) project to loops with winding number r2 in W1/2, while the projection of the vector field of (Hr2,t) rotates with speed r1 < r2 in {1/2  |w|  1}. Hence, Lemma 5.2(iii) shows that there can't be Floer trajectories whose limit x+ is of type (5.46), and x- of type (5.47). This completes the verification of the properties stated in (5.46).

Let's look at orbits of type (5.47). Lemma 5.2(ii) shows that a Floer trajectory connecting two
such orbits must remain inside p¯-1(W1/2). One can therefore decouple the Floer equation into its W and M¯ components. The W -component has the same limits at both ends, and
since the symplectic form on W is exact, it must necessarily be stationary at the one-periodic orbits. The M¯ component just satisfies the Floer equation for (HM¯ ,t, JM¯ ,t), and from that, one
easily shows that the quotient complex computes the Floer cohomology of (HM¯ ,t), meaning the ordinary cohomology of M¯ . The only piece of (5.47) that needs a bit of extra attention concerns the grading. From a choice of bounding surface in E¯, we get a preferred homotopy class of trivializations of the T E¯ along our orbit, meaning the vector bundle

(5.50)

T E¯(rro2tt(w2),x(t)) = T Wrro2tt(w2)  T M¯ x(t)

over the circle. The Conley-Zehnder index is defined by using that trivialization to write the

linearization of our Hamiltonian isotopy as a path in the linear symplectic group. Assume that

54

PAUL SEIDEL

x is nullhomologous already in M¯ (which is unproblematic since, as mentioned before, the other
homology classes of orbits contribute trivially to Floer cohomology); choose a bounding surface in M¯ , and the resulting trivialization of xT M¯ . For T Wrro2tt(w2) = C, choose a trivialization which rotates r2 times as t goes around the circle. This agrees with the trivialization coming from a bounding surface in T E¯: to check that, one goes through the homotopy (5.49), and then
uses assumption (5.40) for the first loop on the right hand side. The consequence is that the
Conley-Zehnder of our periodic orbit is 2r2 higher than it would be if we considered the orbit naively as lying in the product W × M¯ . Now, the last-mentioned naive index is 1 - 2r2 (W component) plus the Conley-Zehnder index in M¯ . Altogether, this yields the shift in the grading
which appears in (5.47).

Lemma 5.10 provides an exact sequence with the same terms as (2.53), but where the map

HF

 q,q-1

(p¯,

r1

)



HF

 q,q-1

(p¯,

r2

)

is

induced

by

the

inclusion

of

the

subcomplex

from

(5.46).

To

complete the proof of Lemma 2.24, we have to show that this coincides with the continuation

map:

Lemma 5.11. For suitable choices made in its construction, the chain level continuation map

C r1,r2
q,q-1

realizes

the

inclusion

of

complexes

from

Lemma

5.10.

Proof. When defining (5.35), let's use the Hamiltonians

(5.51)

Hr1,r2,s,t = Hr1,t + (s)(Hr2,t - Hr1,t), (s) = 1 for s 0, (s) = 0 for s 0,  (s)  0 everywhere,

(with trivial Fs,t term), and the same (Jt) as before. The functions (5.51) are of class

(5.52)

r1,r2,s,t = -rot + (s) exp(r2trot )(hyp + rot ) exp(-r2trot ),

Since hyp + rot  g0 by (5.18), the curvature condition (5.39) is satified.

Over the annulus {1/2  |w|  1} we have Hr1,r2,s,t = Hr1,t = Hr2,t, hence Lemma 5.2 applies to projections to W of solutions of the continuation map equation, with the following outcome. Since all solutions necessarily have a limit x+ lying in p¯-1(W1/2), they must be entirely contained in that subset (parts (i) and (iii) of the Lemma). Hence, they are really solutions of Floer's equation
for Hr1,t, and the only isolated ones are stationary at one-periodic orbits.

Next we tackle Lemma 2.25, which is similar if a little more complicated. Set r3 = r2 + , and

(5.53)

Hr3,t =

Hr1,t (H3  r-ort2t) + r2H rot + HM¯ ,t

on E¯|W1/2, on W1/2 × M¯ .

This agrees with Hr2,t on E¯|W2 . It is of type r3rot , hence has monodromy exp( rot ) and rotation number r3. The analogue of Lemma 5.10 reads as follows:

Lemma 5.12. The one-periodic orbits of (Hr3,t) are of three kinds.

(5.54) The first kind are disjoint from W1/2 × M¯ , and agree with the orbits of (Hr1,t). They

form

a

Floer

subcomplex,

which

can

be

identified

with

CF

 q,q-1

(Hr1

,t

,

Jt

).

LEFSCHETZ FIBRATIONS

55

(5.55) The second kind of orbits are as in (5.47). Together with (5.54), they form a larger

subcomplex,

which

can

be

identified

with

CF

 q,q-1

(Hr2

,t

,

Jt

).

(5.56) Finally, we have orbits (rro2tt(w3), x(t)), which are as in (5.55) but instead use the crit-
ical point w3 of H3 from Lemma 5.4. The resulting quotient complex has cohomology H(M¯ ; Q)((q)). (The grading shift between this and the corresponding statement in

(5.47) comes from the difference in Morse indices of the critical points.)

Proof. Most of the argument repeats the previous material, and we'll omit it. The only new issue concerns Floer trajectories both of whose limits x± lie in W1/2 ×M¯ . Lemma 5.2(ii) (the winding numbers being always equal to r2) implies that each such trajectory remains in W1/2 ×M¯ , hence
projects to a Floer trajectory in W1/2. The actions of the one-periodic orbits in W satisfy

(5.57)

A(t  rro2tt(w2)) - A(t  rro2tt(w3)) = H3(w2) - H3(w3).

Consider the Morse complex of H3, but restricted to W1/2. This computes the cohomology of W1/2 (because H3 points outwards along W1/2, and the function grows to + as |w|  1), and the cap product action of cycles on that Morse complex computes the ring structure. From
the latter observation, one can see that there must be gradient trajectories flowing upwards from
w3 to w2, so (5.57) must be positive (or course, one could get the same result by close inspection of the definition of those functions). Hence, a Floer trajectory in W1/2 is either stationary at one of the two orbits (rro2tt(w2)), (rro2tt(w3)); or otherwise, it must have (rro2tt(w2)) as its negative limit, and (rro2tt(w3)) as its positive limit. This implies the subcomplex property from (5.55) and, by the same argument as for (5.47), the comohology computation in (5.56).

As before, to complete the proof of Lemma 2.25, we have to show:

Lemma

5.13.

For

suitable

choices,

the

continuation

map

C r2,r3
q,q-1

agrees

with

the

inclusion

of

the

subcomplex from (5.55).

Proof. This is parallel to Lemma 5.11, again with an added wrinkle. From (5.23) and the definitions (5.43), (5.53), we see that Hr2,t  Hr3,t everywhere. Hence, if we interpolate between these functions, as in (5.51), then that produce a family of functions which is everywhere non-increasing in the parameter s. This allows one to restrict the behaviour of solutions of the continuation map equation by action arguments, exactly as in the proof of Lemma 5.12.

6. Relative Floer cohomology
This section concerns Hamiltonian Floer cohomology in a relative sense, meaning for symplectic manifolds with a fixed symplectic divisor (a codimension two symplectic submanifold) which is preserved by the Hamiltonian vector fields under consideration. The issues one encounters have to do with one-periodic orbits, and Floer trajectories, contained in the divisor. These would be serious problems in general; for us, they will be made tractable by additional constraints imposed on the symplectic manifold and (maybe more surprisingly) on the Hamiltonians.

56

PAUL SEIDEL

(6a) Floer trajectories. Take a closed symplectic manifold. For consistency with the notation
elsewhere in the paper, we write this as M¯ , and its dimension as 2n - 2. We assume that
c1(M¯ ) = 0, and that [M¯ ] is integral. Let M  M¯ be a symplectic divisor which represents [M¯ ]; we write M = M¯ \ M .

Setup 6.1. Take the normal bundle N = N (M )  M , as defined by the symplectic orthogonal splitting

(6.1)

T M¯ | M = T (M ) N.

Fix a complex structure JN on N compatible with its orientation (or equivalently, with the symplectic structure). For almost complex structures J on M¯ compatible with M¯ , we require that M is an almost complex submanifold, and that J|N = JN . For a Hamiltonian H  C(M¯ , R),
we require its vector field X to be tangent to M . Then, LX necessarily preserves the splitting
(6.1). We additionally require that the N part of that operation should preserve JN , meaning LX (JN Y ) = JN (LX Y ) for Y  C(M, N ).

Near a point of M , the situation is isomorphic (by a form of the symplectic tubular neighbourhood theorem) to a neighbourhood of (0, 0) in the following local model:

(6.2)

M¯ local 

=

R2n-4

× C,

with its standard symplectic form,





M local = R2n-4 × {0},

 JNlocal = i.

In such local coordinates (y1, y2)  R2n-4 × C, the Hamiltonians and almost complex structures from Setup 6.1 have the form

(6.3)

H 

local

(y1

,

y2)

=

f (y1)

+

1 2

g(y1)|y2|2

+

O(|y2|3),



J(lyoc1a,yl 2) =

 O(|y2|)

O(|y2|) i + O(|y2|)

.

Suppose that we have a time-dependent Hamiltonian (Ht)tS1=R/Z as in Setup 6.1, its vector field (Xt), and the resulting Hamiltonian isotopy  = (t)tR. Let x = x(t) be a one-periodic orbit, contained in M . The linearization of the flow in normal direction gives maps

(6.4)

Dt|Nx(0) : Nx(0) - Nx(t),

which are unitary with respect to JN and the symplectic form. In particular, the monodromy is a rotation of Nx(0),

(6.5)

D1|Nx(0) = exp(N (x)JN ), N (x)  [0, 2).

This gives rise to a preferred class of nowhere zero sections of xN , namely

(6.6)

x(t) = exp(-tN (x)JN )Dt(some nonzero vector in Nx(0)).

One can think of (6.4) as parallel transport maps for a unitary connection N on xN . Associated to that connection is the selfadjoint operator QN (x) = JN N , whose spectrum is N (x) + 2Z. The sections (6.6) form the N -eigenspace.

LEFSCHETZ FIBRATIONS

57

Our first relevant notion is a kind of action, for one-periodic orbits x contained in M (as usual, assumed to be nullhomologous).

(6.7)

Write x as the boundary value of v : S  M¯ , as in Convention 5.5. More precisely,

we require that v should intersect M transversally along S, and that the resulting

nowhere zero section of xN should be in the same homotopy class as (6.6). Then,

we define

AN (x) = - vM¯ + Ht(x(t)) dt + (v|(S \ S) · M ).

S

S1

The intersection number in the last term makes sense because the points of v-1(M ) cannot accumulate along S, by the transversality condition on v. Because M represents [M¯ ], (6.7) is independent of the choice of bounding surface.

Example 6.2. Suppose that x(t) = x is a constant one-periodic orbit at some point of M . As we go from t = 0 to t = 1, Dt|Nx rotates by N (x) + 2wN (x), for some wN (x)  Z. One can choose v to be contained in a small neighbourhood of x, and a local computation leads to the formula

(6.8)

AN (x) = Ht(x) dt + wN (x).
S1

Let u : R × S1 - M¯ be a map such that, for s  ±, u(s, t) is asymptotic to orbits x±(t). Recall the classical definition of energy,

(6.9)

E(u) =

uM¯ - dHt(su)ds dt =

M¯ (su, tu - Xt)ds dt .

R×S1

R×S1

Suppose now that u lies in M .

(6.10)

Choose a section u of uN which, as s  ±, is asymptotic to nonzero sections of x±N in the homotopy classes (6.6). Then
E(u) = AN (x-) - AN (x+) + (u · zero-section),
where the last term is the algebraic count of zeros of u.

From this point onwards, we will assume that all one-periodic orbits are nondegenerate. For
orbits in M , this implies that N (x)  (0, 2). To any map u as before, one can associate a class of Cauchy-Riemann operators Du on uT M , which become Fredholm in suitable Sobolev completions (for simplicity, let's say from W 1,2 to L2), and whose index we denote by I(u). If u
is contained in M , the operator Du can be chosen so that it fits into a short exact sequence

(6.11)

0

/ W 1,2(uT (M ))

/ W 1,2(uT M¯ )

/ W 1,2(uN )

/0

DM,u



0

/ L2(uT (M ))

Du
 / L2(uT M¯ )

DN,u



/ L2(uN )

/ 0.

The indices IM (u) = index(DM,u) and IN (u) = index(DN,u) therefore satisfy

(6.12)

I(u) = IM (u) + IN (u).

58

PAUL SEIDEL

Take the operator DN,u which appears in (6.11). Asymptotically as s  ±, that operator becomes equal to s + QN (x±), where the QN are the previously mentioned selfadjoint operators. The index can therefore be computed as

(6.13)

1 2

IN

(u)

=

u

·

zero-section,

where the right hand side is as in (6.10). Combining the two equations yields

(6.14)

E(u)

=

AN (x-)

-

AN (x+)

+

1 2

IN

(u).

Lemma 6.3. If IN (u)  0, then DN,u is surjective.

Sketch of proof. This is a form of automatic regularity. Let  be a nontrivial solution of DN,u() = 0, which decays as s  ±. More precisely, the decay will always be exponential, with rates -N (x±)  2m±() for some integers

(6.15)

m-()  1, m+()  0.

The set -1(0) is finite. Each point in it has a multiplicity mz() > 0. By comparing the behaviour of  with that of a section u as in (6.10), one sees that

(6.16)

0 < m() d=ef m+() + m-() + mz() = u · zero-section.
z

By (6.13) it follows that if IN (u)  0, then DN,u is injective. The statement we have made is obtained by applying that same idea to the dual operator.

Definition 6.4. We say that (Ht) is Floer-admissible if

(6.17)

|AN (x-) - AN (x+)| < 1

for all one-periodic orbits x± contained in M .

Take some (Ht) with nondegenerate one-periodic orbits, as well as a family (Jt) of almost complex structures as in Setup 6.1, and consider the resulting Floer equation. Any Floer trajectory u has an associated linearized operator, which is a specific Du within the class described previously. If u is contained in M , one also has distinguished operators DM,u and DN,u as in (6.11).
Lemma 6.5. Suppose that (Ht) is Floer-admissible. Then, any Floer trajectory u contained in M has surjective operator DN,u.

Proof. We know that E(u)  0. By (6.14) the index satisfies IN (u) > -2, hence is actually nonnnegative. Lemma 6.3 does the rest.

Here is the appropriate version of the standard transversality result, following [6, 16]:
Lemma 6.6. Suppose that (Ht) is Floer-admissible, and choose a generic (Jt) within the class from Setup 6.1. Then all solutions of Floer's equation will be regular (Du is onto). Moreover, for solutions u which are contained in M and have I(u)  2, DN,u will be invertible. Finally, if v : CP 1  M¯ is a non-constant Jt-holomorphic sphere, then x(t) / v(CP 1) for any one-periodic orbit, and u(s, t) / v(CP 1) for any solution u of Floer's equation with I(u)  2.

LEFSCHETZ FIBRATIONS

59

Proof. The case where u is not contained in M is standard. For u contained in M , Lemma 6.3 says that DN,u is always surjective. On the other hand, standard transversality inside M says that DM,u is onto for generic (Jt), and by (6.11) that implies the surjectivity of Du. The kernel of DM,u is at least one-dimensional, and that of DN,u has even dimension, so if I(u)  2, then DN,u must be invertible. The only other point that needs to be mentioned concerns pseudoholomorphic spheres contained in M . For each such (nonconstant) sphere v,

(6.18)

vc1(M ) = - vc1(N ) = - vM¯ < 0.

Hence, those spheres fill out a subspace of M of dimension  (2n - 4) - 6, which is more than sufficient for our purposes.

We need to impose another, more technical, condition on the almost complex structures and

Hamiltonians. For that, let's return to the local model in (6.3). Consider the subclass of Hamiltonians and almost complex structure of the following kind:

(6.19)

H local 

(y1,

y2)

=

H1local (y1)

+

H2local (y2),





  

with

H1

=

0

at

y1

=

0,

and

H2local (y2)

=

a 2

|y2|2

+

O(|y2|3)

for

some

a



R,

J local 

=

J1local

 J2local ,





 

with Jklocal depending only on yk, and J2local = i at y2 = 0.

Suppose that we have (Htlocal , Jtlocal ) in this form. By definition, xlocal (t) = (0, 0) is a oneperiodic orbit. As usual, let's assume that this is nondegenerate. The Floer equation separates
into two components (in y1 and y2 directions). One can apply the analysis from [33] to the second component, and get a precise description of how Floer trajectories approach xlocal in

normal direction.

Definition 6.7. We say that (Ht, Jt) is locally split if, near each one-periodic x  M , there are t-dependent local coordinates centered at x(t), in which (t) reduces to the Hamiltonian isotopy induced by a t-dependent function as in (6.19); and similarly Jt corresponds to a t-dependent almost complex structure as in (6.19).

This allows us to apply the previously mentioned analysis to the way in which Floer trajectories converge to one-periodic orbits in M . We omit the details, and only state the outcome.
Lemma 6.8. Suppose (Ht, Jt) is locally split. Let x be a one-periodic orbit contained in M , and u a Floer trajectory not contained in M , such that lims u(s, ·) = x. Then the component of u in normal direction to M decays as exp(-N (x) - 2m+(u)) for some integer m+(u)  0. Moreover, it approaches zero from the direction of an eigenvector of QN (x) for the eigenvalue N (x) + 2m+(u).
In the corresponding situation for lims-, the decay is as exp(-N (x) + 2m-(u)) for some m-(u)  1, and the relevant eigenvector is that for the eigenvalue N (x) - 2m-(u).

Let's extend m±(u) to the case where the limit is outside M , by setting it to zero. Let u be a Floer trajectory not contained in M , and with limits x± which may or may not lie in M . One

60

PAUL SEIDEL

of the consequences of the previous two Lemmas is that u-1(M ) is compact; by holomorphic curve theory, it must therefore be finite. Any point z  u-1(M ) has a positive local intersection multiplicity mz(u) > 0. Following what we've done in the linearized case (6.16), write

(6.20)

m(u) = m+(u) + m-(u) + mz(u)  1 x- lies in M ,

z

0 otherwise.

At this point we make a further geometric choice, which is not absolutely essential but makes it easier to formulate the rest of the argument.
Setup 6.9. Given (Ht), take a section N of N which is transverse to the zero-section, and whose zeros are disjoint from the one-periodic orbits x contained in M . Morever, fix a tubular neighbourhood of M . Using that neighbourhood, the multiples of N give rise to a family (M ) of symplectic divisors in M¯ , parametrized by sufficiently small   C. For  = 0 this is just M , while for  = 0 it intersects M transversally in BN = N-1(0).

With respect to that trivialization, the preferred nonzero sections (6.6) at any x  M have a winding number wN (x)  Z. We spell out the definition for the sake of clarity:
(6.21) define a(t) by exp(-tN (x)JN )Dt(N,x(0))  R>0 · e2ia(t)N,x(t). Then wN (x) = a(1) - a(0).
Again, we extend that to orbits lying outside M , by setting it to zero. Many of our previous formulae can be restated in terms of those winding numbers. For instance, (6.7) becomes

(6.22) AN (x) = - vM¯ + Ht(x(t))dt +v·(M ) +wN (x) for any v : S  M¯ , v|S = x.

S

S1

Here, unlike (6.7), there is no other condition on how v approaches the boundary; and the

intersection is with (M ) for any sufficiently small  = 0. The index formula (6.13) can similarly

be written as

(6.23)

1 2

IN

(u)

=

wN

(x+)

-

wN

(x-)

+

u

·

(M

) .

Finally, if u is a Floer trajectory not contained in M , and the local splitting condition is satisfied, then Lemma 6.8 implies that

(6.24)

u · (M ) = m(u) + wN (x-) - wN (x+).

We are now ready to assemble the elements introduced above into the definition of relative Floer cohomology. Take (Ht, Jt) as in Lemma 6.6, with nondegenerate one-periodic orbits, and which additionally satisfy Definition 6.7. Choose N as in Setup 6.9. The associated relative Floer complex is

(6.25)

CF q (Ht, Jt) = qwN (x)Q[[q]]x ,
x

with the usual grading. The differential is defined as in (5.34), but now specifically using the

divisors (M ), for sufficiently small  = 0.

(6.26)

(x-)-coefficient of dqx+ = ±qu·(M) .
u

LEFSCHETZ FIBRATIONS

61

The cohomology of (6.25) is denoted by HF q(Ht, Jt). The advantage of writing the powers of q as in (6.26) is that after inverting q, one obviously gets the standard definition of Floer cohomology over Q((q)). The flipside is that it's not obvious that (6.26) actually defines an endomorphism of (6.25). To see that, one rewrites the intersection number as

(6.27)

m(u) if u is not contained in M ,

u · (M ) + wN (x+) = wN (x-) +

1 2

IN

(u)

if u is contained in M .

The first case is (6.24), and the second case is (6.23). One has m(u)  0 by definition, and IN (u)  0 by Lemma 6.5, which yields the desired property. The chain complex (6.25) is independent of the choice of N up to canonical isomorphism (the transitions between different choices are given by multiplying the generators by suitable powers of q, compare Remark 5.8).

Remark 6.10. Consider a Floer trajectory u which is contained in M and appears in the definition of the Floer differential. Then Lemma 6.6 applies, which in view of (6.27) shows that

(6.28)

wN (x+) + u · (M ) = wN (x-).

In words, this means that all such trajectories come with the lowest possible power of q. One can put this observation into a more algebraic framework, as follows: take the Q[[q]]-submodule

(6.29)

qwN (x)+1Q[[q]]x 

qwN (x)Q[[q]]x  CF q (Ht, Jt).

xM

xM

Because of (6.20) and (6.27), this is preserved by dq. The quotient can be thought of as xM Qx, and the differential on that quotient only counts Floer trajectories u contained inside M , and which additionally satisfy (6.28) (in particular, it is not necessarily equal to the Floer complex for M in the standard sense).

Example 6.11. Take a Morse function H and almost complex structure J (as in Setup 6.1 and Definition 6.7). We ask that at any critical point x  M , the Hessian of H in normal direction to M should be negative. Finally, we require that the gradient flow should be Morse-Smale. This kind of situation is familiar from the Morse-theoretic construction of relative homology (see e.g. [34, Section 4.2]). Its salient features are:

(6.30) If x+ is a critical point of H contained in M , then any gradient trajectory whose low-H limit is x+ must be entirely contained in M .
(6.31) Take the Morse complex of H. From (6.30) it follows that the critical points contained in M form a subcomplex. On the Morse cohomology level, the inclusion of that subcomplex computes H(M¯ , M )  H(M¯ ).

The only one-periodic orbits of H, for small > 0, will be constant ones. Critical points contained in M have wN (x) = -1 (see Example 6.2), and therefore

(6.32)

AN (x) = H(x) - 1.

It particular, H is Floer-admissible if is small. The relative Floer cohomology is fairly easy to compute: there are arbitrarily small > 0 such that

(6.33)

HF

 q

(

H, J)

=

q-1H(M¯ , M ; Q)



H(M¯ ; Q)[[q]].

62

PAUL SEIDEL

To see this, start with a Morse-theoretic model:

(6.34)

CM q (H) =

q-1Q[[q]]x 

Q[[q]]x,

xM

x/M

with the usual Morse differential. In view of (6.31), it is clear that the cohomology of (6.34) is

the right hand side of (6.33). These statements are obviously unchanged if we replace H by H.

To derive (6.33), one follows the argument from [16, Proposition 7.4] to show that isolated Floer

trajectories correspond bijectively to Morse trajectories; for such trajectories, the intersection

number with (M ) will be 0, for dimension reasons.

Example 6.12. Consider a situation similar to the previous one, but where the Hessian in normal direction at any critical point x  M is positive definite. Hence, as one-periodic orbit of H this satisfies wN (x) = 0 and

(6.35)

AN (x) = H(x),

which again guarantees admissibility for small > 0. Tracing through the same argument as before, one finds that this time,

(6.36)

HF

 q

(

H, J)

=

H(M¯ ; Q)[[q]].

(6b) Continuation maps. We need to reconsider (5.35) in our setup (meaning the target space is M¯ , and the Hamiltonian functions and almost complex structures must be chosen as in Setup 6.1). Only the behaviour of the Hamiltonians on M is relevant here. Take the curvature 5.38 and set

(6.37)

Kmin (Fs,t, Hs,t) =

min Rs,t(x) : x  M ,

R×S1

(6.38) (6.39)

Kmax (Fs,t, Hs,t) =

max Rs,t(x) : x  M ,

R×S1

K(Fs,t, Hs,t) = Kmax (Fs,t, Hs,t) - Kmin (Fs,t, Hs,t)  0.

For solutions of the continuation map equation remaining inside M , (5.37) yields

(6.40)

Etop (u)  Kmin (Fs,t, Hs,t).

Energy, action and the normal index satisfy the same relation (6.14) as before. In order to deduce surjectivity of DN,u from that, we need to know that Etop(u) - AN (x-) + AN (x+) > -1. In view of (6.40), this holds if the following condition is satisfied.

Definition 6.13. We say that (Fs,t, Hs,t) is continuation-admissible if each of the limiting Hamiltonians (H±,t) is Floer-admissible, and the following additional property holds. Whenever x- is a one-periodic orbit of (H-,t) contained in M , and x+ correspondingly for (H+,t),

(6.41)

AN (x-) - AN (x+) < 1 + Kmin (Fs,t, Hs,t).

There is also an analogue of Definition 6.7:
Definition 6.14. We say that (Fs,t, Hs,t, Js,t) is locally split if the limiting Hamiltonians (H±,t) are locally split, and the following additional property holds. Let x be a one-periodic orbit contained in M . Then, for ±s 0, we have (Fs,t, Hs,t, Js,t) = (0, H±,t, J±,t) in a neighbourhood of x(t).

LEFSCHETZ FIBRATIONS

63

To define the continuation map, one starts with data that satisfy Definitions 6.13 and 6.14. To achieve transversality, one may not only have to perturb the almost complex structure, but also the Hamiltonians, which is unproblematic since (6.41) is an open condition. After that, one can use (5.35) in the same way as in (6.26), to define a chain map

(6.42)

Cont q(Fs,t, Hs,t, Js,t) : CF q (H+,t, J+,t) - CF q (H-,t, J-,t).

Lemma 6.15. Suppose that

-1 - Kmax (Fs,t, Hs,t) < AN (x-) - AN (x+) < 1 + Kmin (Fs,t, Hs,t) for x- a (6.43)
one-periodic orbit of (H-,t), and x+ a one-periodic orbit of (H+,t), both in M ;

and |AN (x+) - AN (x-)| < 1 - K(Fs,t, Hs,t) where both x± are one-periodic orbits
(6.44) of (H+,t) in M ; and the same for two orbits of (H-,t).
Then HF (H+,t, J+,t) and HF (H-,t, J-,t) are isomorphic via continuation maps.

Proof. For the reverse family (F-s,t, H-s,t), we have Kmin (F-s,t, H-s,t) = -Kmax (Fs,t, Hs,t). Hence, if we want to define a map in reverse direction to (6.42), the necessary condition is AN (x+) - AN (x-) < 1 + Kmax (Fs,t, Hs,t). This explains (6.43). To show that the continuation maps in both directions are homotopy inverses, one considers the composite continuation map equation (from H- to H+ and then back, or vice versa), and deforms that back to Floer's equation. The conditions (6.41) required by those equations yield (6.44).

A trivial special case is when Fs,t = 0 and Hs,t = Ht. This shows that our Floer cohomology groups are independent of the choice of almost complex structure, which we will therefore often omit from the notation.
Take (Ht), with possibly degenerate one-periodic periodic orbits, but such that each orbit contained in M is nondegenerate in normal direction (N (x) = 0), and which is Floer-admissible. Consider HF (H~t), where H~t is a small perturbation which makes the one-periodic orbits nondegenerate, and additionally is locally split; one can use Lemma 6.15 to see that this is independent of the perturbation up to canonical isomorphism. (Strictly speaking, we should spell out "small" to show that there is a contractible space of such choices, but we will omit the details; the condition N (x) = 0 is crucial here, since it prevents discontinuous jumps in AN (x) when perturbing the Hamiltonian). Those Floer cohomology groups form a locally trivial bundle over the space of all (Ht). As a consequence, one has the following:
Lemma 6.16. Let (Hs,t), (s, t)  [0, 1] × S1, be a family of functions as in Setup 6.1. For s = 0, 1, these should have nondegenerate one-periodic orbits and be locally split; and for any value of the parameter s, (Hs,t) must be Floer-admissible, and its one-periodic orbits in M must be nondegenerate in normal direction. Then HF q(H0,t) = HF q(H1,t). More precisely, there is a distinguished such isomorphism, which is invariant under deforming (Hs,t) rel endpoints, as long as all the conditions remain true within that deformation.

64

PAUL SEIDEL

(6c) Piunikhin-Salamon-Schwarz in the relative setting. The following discussion concerns Cauchy-Riemann equations on C. To stay close to the previous terminology, we think of that Riemann surface as a thimble

(6.45)

T = (R × S1)  {+}.

The relevant equations (5.35) have domain T , and instead of (5.36) we have

(6.46)

(Fs,t, Hs,t, Js,t) - (0, Ht, Jt) for s  -, Fs,tds + Hs,tdt and Js,t extend smoothly over +.

Write x for the limit of solutions u as s  -. If u lies in M , the linearized operator Du fits in a short exact sequence like (6.11). The analogues of (6.13), (6.23) and (6.14) are

(6.47) (6.48)

1 2

IN

(u)

=

u

·

zero-section

=

-wN

(x)

+

u

·

(M

)

,

Etop (u)

=

AN (x)

+

1 2

IN

(u).

An automatic regularity argument as in Lemma 6.3, which we will not spell out here, yields:

Lemma 6.17. If IN (u)  0, DN,u is onto; and if IN (u) > 0, evaluation at + yields a surjective map ker (DN,u)  Nu(+).

Definition 6.18. We say that an (Fs,t, Hs,t) as in (6.46) is PSS-admissible if (Ht) is Floeradmissible, and the following additional property holds. Whenever x is a one-periodic orbit of

(Ht) contained in M ,

(6.49)

AN (x) < Kmin (Fs,t, Hs,t).

There is also a corresponding notion of locally split (Fs,t, Hs,t, Js,t), as in Definition 6.14. Fix a manifold C and a map  : C  M¯ . Given (Fs,t, Hs,t, Js,t) as in (6.46) and a one-periodic orbit

x of (Ht), we consider the space of pairs (c, u), where

(6.50)

u : T  M¯ is a solution of (5.35), with limit x as s  -, c  C, (c) = u(+).

Lemma 6.19. Suppose that (Fs,t, Hs,t) is PSS-admissible. Then, for a generic small perturbation supported in a compact subset of R × S1, and a generic (Js,t) (as always, these choices remain
within the classes from Setup 6.1), each moduli space (6.50) is regular.

Proof. As usual, the only issue is with solutions entirely contained in M . For such a solution u, the PSS-admissibility condition, (6.40) and (6.47) tell us that

(6.51)

1 2

IN

(u)



K min

(Fs,t,

Hs,t)

-

AN

(x)

>

0.

Hence, Lemma 6.17 applies. Look at the universal linearized operator Duuniv , which includes deformations of (Fs,t, Hs,t, Js,t). Standard regularity theory inside M tells us that the piece DuMni,vu responsible for deformations inside M is onto, and has surjective evaluation map ker (DuMni,vu) 
T (M )u(+). Together with the previously obtained information about the normal direction, this implies the corresponding result for Duuniv : it is surjective, and ker (Duuniv )  T M¯ u(+) is
onto. Therefore the fibre product of the universal moduli space with  is smooth; a standard

application of the Sard-Smale theorem to that leads to the desired result

LEFSCHETZ FIBRATIONS

65

Note that Lemma 6.19 does not require any assumptions on how  intersects M . To complete the transversality argument for compactified moduli spaces, one has to include bubbling, in a way which is similar to, but more complicated than, the situation for Lemma 6.6. The issue here are broken solutions which include simple pseudo-holomorphic chains: this means a solution u : T  M¯ of (5.35) together with non-multiply-covered J-holomorphic maps v1, . . . , vr : CP 1  M¯ , which have pairwise different images, and a c  C such that

(6.52)

u(+) = v1(0), v1() = v2(0), . . . , vr-1() = vr(0), vr() = (c).

If vk is contained in M , we have vkc1(N ) > 0, compare (6.18). Therefore, the linearized operator in normal direction, which we denote by DN,vk , is onto, and the evaluation map at  on ker (DN,vk ) is also surjective. That is enough to establish transversality results for chains (6.52). (These are the same kinds of arguments that arise when defining Gromov-Witten invariants via
symplectic divisors [4].)

Suppose that  is a pseudo-cycle. We assume (Fs,t, Hs,t, Js,t) is PSS-admissible, locally split, and that the necessary regularity properties of the moduli spaces are satisfied. One can then use the zero-dimensional spaces (6.50) to define a Floer cocycle

(6.53)

PSS q(Fs,t,

Hs,t,

Js,t,

)



CF

codim( q

)(Ht

,

Jt),

where the notation is codim() = dim(M¯ ) - dim(C). This involves counting solutions with ±qu·(M) exactly as in (6.26). For a solution u not contained in M , a topological argument similar to that in the definition of the differential shows that u · (M )  wN (x). For a solution u contained in M , we use (6.47) and (6.51) to get

(6.54)

u

·

(M )

=

u

·

B

=

wN (x)

+

1 2

IN

(u)



wN (x)

+

1.

This shows that (6.53) actually lies in the subcomplex (6.29).

Remark 6.20. For u contained in M , regularity of the moduli space (6.50) means that Du is onto, and that the evaluation map ker (Du)  T M¯u(+) must be transverse to the image of Dc.
This implies that the index of the M component satisfies

(6.55) IM (u)  rank ker (DM,u)  T (M )u(+)  dim(M ) - dim(C) = codim() - 2. Since we are looking at moduli spaces of dimension  1 in the definition of (6.53), we have

(6.56)

I(u) = IM (u) + IN (u)  codim() + 1.

Taken together with (6.51), these inequalities imply that IN (u) = 2, so equality holds in (6.54). This is parallel to what we observed in Remark 6.10.

Suppose that one takes a pseudo-cycle contained in M , which we will accordingly denote by M . In that case, every solution of (6.50) whose limit x is not contained in M must intersect that submanifold with positive multiplicity at , which means that in the analogue of (6.27) one has m(u) > 0. This, together with our previous observation (6.54), shows that

(6.57)

PSS

q (Fs,t ,

Hs,t,

Js,t,

M

)



qCF

 q

(Ht

,

Jt).

66

PAUL SEIDEL

Given a formal series q = q-1M + 0 + q1 + · · · , where M is a pseudo-cycle in M and the k are pseudo-cycles in M¯ , we get (in abbreviated notation)

(6.58)

PSS q(q) = q-1PSS q(M ) + PSS q(0) + qPSS q(1) + · · ·  CF q (Ht, Jt).

Via Poincar´e duality, this leads to a map

(6.59)

PSS q : q-1H(M¯ , M ; Q)  H(M¯ ; Q) - HF q(Ht, Jt).

Strictly speaking, to complete that construction, one has to show that homologous pseudo-cycles yield cohomologous Floer cocycles. However, that argument is entirely standard, and we'll therefore omit it.

Example 6.21. Take a time-independent function (Ht = H) as in Example 6.11, and an arbitrary (Fs,t, Hs,t). Then, for sufficiently small > 0, ( Fs,t, Hs,t) is PSS-admissible. This follows directly from (6.32) and the fact that

(6.60)

Kmin ( Fs,t, Hs,t) = Kmin (Fs,t, Hs,t).

The computation of Floer cohomology in (6.33) identifies that with the left hand side of (6.59). (One can show that in these specific circumstances (6.59) is an isomorphism, but we do not have any use for that statement.)

Example 6.22. Take H as in Example 6.12. Then, for small > 0, there is no PSS map that lands in HF q( H), meaning that the PSS-admissibility condition cannot be satisfied. To see that, suppose that we have (Fs,t, Hs,t) which define such a map. Integrating with respect to the volume
form associated to M , one has

(6.61)

Rs,t = -s

Hs,t + t

Fs,t,

M

M

M

and therefore (using Stokes)

(6.62)

Kmin (Fs,t, Hs,t)



1 vol(M )

Rs,t dsdt

=

1 vol(M )

H  H(xmax ) = AN (xmax ),

R×S 1 × M

M

where xmax is the maximum of H|M (which is a critical point of H, by assumption). That

obviously contradicts (6.49).

7. Relative Floer theory and Lefschetz pencils
Combining the arguments from Sections 5 and 6, we will now define the relative Floer groups HF q(p¯, r) from (2.76), and prove that they satisfy the properties needed in our main argument. This makes essential use of some specific topological properties of the maps p¯ arising from anticanonical Lefschetz pencils.
(7a) The geometric and Floer-theoretic framework. We work in a relative version of the situation from Section 5. Setup 7.1. Take p¯ : E¯  W as in Setup 5.6, together with a symplectic divisor E  E¯ which represents [E¯ ]. Every point of the divisor should satisfy (5.31), and TE h must be tangent to

LEFSCHETZ FIBRATIONS

67

E. As a consequence, if we write M = E  M¯ , TE h-parallel transport yields a symplectic isomorphism

(7.1)

W × M

=

/ E

$} W,

which is compatible with (5.28). Next, consider the normal bundles N (M ) of M  M¯ and N (E) of E  E¯. The diffeomorphism (5.28) induces an isomorphism

(7.2)

W1/2 × N (M )

=

/ N (E)|W1/2

 W1/2 × M

=

 / E|W1/2

Choose a compatible complex structure on JN(M) on the normal bundle to M ; carry that over by the isomorphism (7.2); and then choose an extension to all of N (E), denoting it by JN(E). We impose a final condition:

(7.3)

Take (7.2), and modify that by multiplying it with w on the fibre over w  W1/2. Then, that modified map can be extended to an isomorphism

W × N (M )

=

/ N (E)

 W × M

= (7.1)

 / E.

Note that this condition implies (but is stricter than) our previous topological assumption (5.29).
We allow Hamiltonians H on E¯ of the following form. Take a function HM¯ on the fibre, satisfying the conditions from Setup 6.1, and write HM for its restriction to M . Also, take a function HW on the base, which outside a compact subset agrees with H for some   g. Then, we want H|W × M = HW + HM , and also that outside a compact subset, H = H + HM¯ . Finally, we impose the same conditions as in Setup 6.1 on the behaviour of H on the normal bundle to E (this is not a consequence of the previous requirements). To clarify, the functions HM¯ (hence HM ) and H can vary depending on which H we consider.
Similarly, for almost complex structures, we start with some JM¯ as in Setup 6.1, and its restriction JM to the divisor. We then consider J whose restriction to W × M is the product i × JM , and which outside a compact subset agrees with i × JM¯ (as before, JM¯ can be different for different almost complex structures). Moreover, on the normal bundle to E, this should agree with the previously fixed JN(E).

We will work with a mild variation of the concepts from Section 6. Let (Ht) be a time-dependent Hamiltonian; by definition, this comes with an accompanying Hamiltonian (HM¯ ,t) on the fibre.

68

PAUL SEIDEL

If x is a one-periodic orbit (as usual, assumed to be nullhomologous in E¯) lying on M , we define

(7.4)

AfiNb(reEwi)se (x) = - v(E¯ - p¯W ) + HM¯ ,t(x(t)) dt + (v|(S \ S) · E),

S

S1

where v : S  E¯ satisfies the analogue of (6.7) with respect to E  E¯.

Because W is exact, E¯ - p¯W is still Poincar´e dual to E, which implies that (7.4) is independent of v. Take a map u = (uW , uM¯ ) : R × S1  E = W × M which is asymptotic to orbits
x±. The analogue of (6.10), using only the energy of the fibre component, says that

(7.5)

E(uM¯ ) = AfiNb(reEw)ise (x-) - AfiNb(reEw)ise (x+) + (u · zero-section).

Assuming nondegeneracy of the one-periodic orbits, we have an operator DN(E),u whose index IN(E)(u) can be computed by our usual formula (6.13). As a consequence, we have the counterpart of (6.14):

(7.6)

E(uM¯ )

=

AfiNb(reEw)ise (x-)

-

AfiNb(reEw)ise (x+)

+

1 2

IN

(E)(u).

Definition 7.2. We say that (Ht) is fibrewise Floer-admissible if

(7.7)

|AfiNb(reEw)ise (x-) - AfiNb(reEw)ise (x+)| < 1

for all one-periodic orbits x± contained in E.

The key point here is that, if u = (uW , uM¯ ) is a Floer trajectory in E, then each component satisfies a separate Floer equation, and therefore E(uM¯ )  0. This explains why AfiNb(reEw)ise is the relevant quantity in (7.7). We now combine this with the other necessary conditions.

(7.8)

Choose a loop (t), and corresponding (Ht), as in (5.32). Additionally, we require that
each Ht satisfies: the conditions from Setup 7.1, the analogue of the locally splitting property from Definition 6.7 for E  E¯; and that it is fibrewise Floer-admissible.

As before, an auxiliary choice of section of the normal bundle N(E), which is nonzero along one-periodic orbits of (Ht), comes in handy. It gives rise to winding numbers wN(E)(x)  Z, in the same as way as in (6.21), and leading to a formula parallel to (6.22):

(7.9)

AfiNb(reEw)ise (x) = - v(E¯ - p¯W ) +

HM¯ ,t(x(t))dt + v · (E) + wN (x)

S

S1

for any v : S  E¯, v|s = x.

We find it convenient to make a more specific choice.

Setup 7.3. Suppose that are given a section N(M) which is transverse to the zero-section, and such that BN(M) = N-1(M)(0) is disjoint from the one-periodic orbits of (HM¯ ,t). Because of (7.3), we can find a section N(E) which equals (w/|w|2) N(M) over any |w|  1/2, and whose
zero-set (transversally cut out) is BN(E) = W × BN(M).

LEFSCHETZ FIBRATIONS

69

Setup 7.3 has the following useful consequence.

(7.10) Take a one-periodic orbit in E|W1/2 = W1/2 × M , and write it as x(t) =

(xW (t), xM¯ (t)). Then

wN(E)(x) = -wind(xW ) + wN(M)(xM¯ ).

Here, for clarity we have written wN(M) for the quantity (6.21) associated to xM¯ using N(M); and wind(xW ) is the standard winding number of a loop in W1/2 around the central hole.

From

here

on,

definition

of

CF

 q

(Ht

,

Jt)

follows

exactly

the

same

method

as

in

(6.25).

Note,

however, that the resulting relative Floer cohomology group depends not only on r, but also on

the choice of Hamiltonian.

We will very briefly discuss the situation for continuation maps and PSS maps. When con-
structing a continuation map, one uses Hamiltonians (Fs,t) and (Hs,t) which, because of the general prescription from Setup 7.1, come with accompanying (FM¯ ,s,t), (HM¯ ,s,t). Given a map u = (uW , uM¯ ) : R × S1  W × M = E, one considers the topological energy (5.37) only for the fibrewise component. Correspondingly, one only considers the curvature quantity obtained
by applying (5.38) to (FM¯ ,s,t), (HM¯ ,s,t). The fibrewise continuation-admissibility condition says that

(7.11)

AfiNb(reEw)ise (x-) - AfiNb(reEw)ise (x+) < 1 + Kmin (FM¯ ,s,t, HM¯ ,s,t).

In parallel, the fibrewise admissibility condition for PSS maps is

(7.12)

AfiNb(reEw)ise (x) < Kmin (FM¯ ,s,t, HM¯ ,s,t).

(7b) The explicit construction. We now describe the specific choice of Hamiltonian underlying the definition of our first Floer cohomology group, namely HF q(p¯, 1). This all takes place under the constraints from (7.8), but is additionally designed so that the insights from Section 5d carry
over.

(7.13) (7.14) (7.15)

Fix a small > 0. Take a time-dependent (HE¯,t) (as in Setup 7.1) which agrees with (1 - )Hrot both on E = W × M and on W1/2 × M¯ . This means that all points of {0} × M  E are critical points of HE¯,t for any t. We additionally require that along that submanifold, the Hessian in direction of N (E) should be zero.
Take a Morse function HM¯ on the fibre (as in Setup 6.1), such that for each critical point lying on M , the Hessian in normal direction to that submanifold is positive
definite. Take a function HE¯ which agrees with HM¯ both on W × M and W1/2 × M¯ . Moreover, at every critical point lying in {0} × M , the Hessian in direction normal to
N (E) should be negative definite.

Introduce another positive constant

, and define

(7.16)

H2,t =

HE¯,t + HE¯ (H2  r-ott ) + Hrot + HM¯

on E¯|W1/2, on W1/2 × M¯ ;

This is a special case of (5.43), for r2 = 1. The only nontrivial aspect is fibrewise admissibility, which is a consequence of the following observation.

70

PAUL SEIDEL

Lemma 7.4. Any one-periodic orbit of (H2,t) lying in E = W × M¯ is constant in M¯ -direction; and its action in the sense of (7.4) is

(7.17)

AfiNb(reEw)ise (x) = HM¯ (x) - 1.

Proof. We have

(7.18)

H2,t|W × M = Hrot + (H2  r-ott ) + (HM¯ |M ).

From this, it is clear that the one-periodic orbits are indeed constant in M¯ -direction. In fact,

there are two kinds of such orbits (compare Lemma 5.10):

(7.19) (7.20)

Constant orbits (0, x), for x  M a critical point of HM . Because of the negative definiteness assumption in (7.15), these orbits have wN(E) = -1. In (7.9) one can then choose v constant, and then AfiNb(reEw)ise = HM¯ (x) + wN(E)(0, x) as desired (note that the W -component of the Hamiltonian, given by the first two terms in (7.18),
does not contribute to this computation).
Orbits (rtot (w2), x), where w2 is as in Lemma 5.3, and x is as in (7.19). The Hessian in normal direction is positive definite by (7.14). However, in (7.10) we have wind(xW ) = 1, and hence again wN(E) = -1. In (7.9) one can choose v to be constant in M¯ direction, which because of Setup 7.3 means that v · (E) = . Hence, the outcome
is ultimately the same as in the previous case.

In spite of all the restrictions we have imposed on the Hamiltonian, and corresponding ones

on the almost complex structure, one can still achieve regularity of the moduli spaces of Floer

trajectories. (For Floer trajectories remaining in W × M , the fact that all our choices respect

the product decomposition is not an obstruction to generic regularity inside that manifold; and

then, regularity in E¯ comes from an appropriate version of Lemma 6.5, which itself relies on (7.6)

and automatic regularity.) This gives us the relative Floer complex CF q(H2,t, Jt) as in (6.25).

Its

cohomology

is

the

desired

HF

 q

(p¯,

1).

(One can use a version of Lemma 6.16 to prove that

this Floer cohomology group is independent of the various technical details that enter into its

definition; that is not really necessary for our purpose, since relative Floer cohomology appears

in our argument mainly as an intermediate technical tool, not as a significant invariant in itself).

To define HF q(p¯, r) for r = 1 + , one replaces (7.16) with the Hamiltonian

(7.21)

H3,t =

HE¯ + HE¯ (H3  r-ott ) + Hrot + HM¯

on E¯|W1/2, on W1/2 × M¯ .

Lemma 7.4 carries over without any problems, and that establishes fibrewise admissibility; the rest

of

the

construction

is

as

before.

(One

can

extend

the

definition

to

HF

 q

(p¯,

r)

for

any

r



(1, 2)

by

modifying the Hamiltonian by a further rotation over W3 , but those groups are all isomorphic

to each other, as can easily be seen by a continuation map argument.)

Next, consider the construction of the continuation map

(7.22)

Cq1,1+ : HF q (p¯, 1) - HF q (p¯, 1 + ).

LEFSCHETZ FIBRATIONS

71

One can use an (s, t)-dependent family of Hamiltonians which interpolates between (H2,t) and (H3,t) in a straightforward way, along the same lines as in the proofs of Lemma 5.11 and 5.13. In particular, the M¯ -part of the Hamiltonian remains HM¯ throughout, which means that the curvature bound in (7.11) is actually zero. Lemma 7.4 and its analogue for (7.21) then guarantee
that the fibrewise admissibility condition (7.12) is satisfied. On a much more concrete level, the
same argument as in Lemma 5.13 applies, showing that the continuation map is an inclusion on
the chain level, whose cokernel is generated by one-periodic orbits associated to the critical point
w3. The cohomology of the resulting quotient complex can be computed by reducing it to the Floer complex for HM¯ ,t, and hence to Example 6.12, with the same provisos concerning gradings as in (5.56). This completes the proof of Lemma 2.36 (strictly speaking, we have proved this for
r = 1 + , but as explained above, the extension to r  (1, 2) is straightforward).

The same observations apply to the construction of PSS maps (2.79). In (7.12) the curvature term will be of order , since it depends on deforming HM¯ to zero; as the AN (E)fibrewise are close to -1, that admissibility condition (7.12) is obviously satisfied.

(7c) Compactification and a Gromov-Witten invariant. Our remaining task is to prove Lemma 2.37; or to say it more appropriately, to check that the argument from [41, Lemma 8.4] goes through in the relative setting. This not particularly difficult, but requires us to set up the geometry of the relevant moduli spaces so that it fits in with the rest of our setting.

Setup 7.5. Given the situation from Setup 7.1, we construct a compact symplectic manifold E with a map (1.1) as follows. Taking C|1/2 = {|w|  1/2}  {}  C| = C  {}, one sets

(7.23)

E = E (W1/2×M¯ ) (C|1/2 × M¯ ),

which comes with an obvious map p to C|. The exceptional divisor is similarly

(7.24)

E| = E (W1/2×M) (C|1/2 × M ) = C| × M,

where the second identification comes from (7.1). We fix a complex structure on the normal bundle to M . Carry this over to a complex structure for N (E|)|(C1/2 × M ) in the obvious way, and then choose an extension to all of N (E|), denoted by JN(E|).

The symplectic form E¯ cannot extend to E , and we remedy that by a suitable cutoff. Take a rotation-invariant symplectic form C|  2(C|) which agrees with W on |w|  , for some
 which is smaller than, but sufficiently close to, 1. Set

(7.25)

E =

E¯ C| + M¯

on E¯|W1/2, elsewhere.

Remark 7.6. When first discussing this in Section 1, the examples were taken from algebraic geometry; whereas in the current more technical considerations, we have constructed a space (7.23) with very explicit constraints on its symplectic geometry. Still, making the connection between the two is not particularly hard. Given an algebro-geometric Lefschetz pencil, one first blows up the base locus to get a variety fibered over the projective line. One removes the fibre at  (assumed to be smooth), and deforms the symplectic form to bring it into the framework from Setup 7.1. The resulting compactification (7.23) will be deformation equivalent to the original

72

PAUL SEIDEL

fibered variety; that suffices for our purposes, since the only piece of algebraic geometry we have used is the computation of Gromov-Witten invariants.

Lemma 7.7. The normal bundle N (E|) (of E| = C| × M | inside E ) is

(7.26)

N (E|) = OC|(-1) N (M ).

This is a straightforward consequence of (7.3): the isomorphism given there combines with the obvious isomorphism N (E|)|(C|1/2 × M ) = N (M ) to give (7.26).

Lemma 7.8. The symplectic class of E satisfies

(7.27)

[ E - p C|] = [E|] + [ E ].

Since (7.27) is correct after restricting to H2(E|), all one has to do is to check that the two sides have equal integral over some class in H2( E ) which has nonzero degree over C|. For that, one takes a constant section C| × {x}, for x  M |. By (7.26), the intersection number of E| and that section is -1, and the rest is obvious.
Setup 7.9. The class of almost complex structures on E we will allow is characterized as follows. Start by choosing JM¯ on M¯ as in Setup 6.1, and its restriction JM . Our almost complex structure J must agree with i × JM on E| = C × M , and with i × JM¯ on C| × M¯ . Moreover, on the normal bundle to E|, it should reproduce the previously fixed JN(E|).
For Hamiltonians, start by taking HM¯ as in Setup 6.1, and its restriction HM . Also, take a function HC on the base, such that near infinity, the associated Hamiltonian vector field is the infinitesimal rotational vector field at some speed   R. Then, we want H = HC| + HM on C × M , and similarly H = HC| + HM¯ on C × M¯ . Finally, on N (E|) we want the same behaviour as in Setup 6.1.

Take a time-dependent Hamiltonian (Ht) of this kind. By assumption, the Hamiltonian vector field rotates the fibres over C| with some speed t, and we require that the total rotation number satisfies

(7.28)

11

r= 2

tdt / Z.
0

Take a one-periodic orbit that is not contained in the fibre over . This is automatically disjoint
from C| × M , hence can be thought of as lying inside our original E¯. We will stick to the assumption of considering only those orbits that are nullhomologous in E¯. For those, we write

down a slightly more general form of (7.4), namely

(7.29)

AfiNb(reEw)ise (x) = -

v( E - p C|) +
S

HM¯ ,t(x(t)) dt +
S1

v|(S \ S) · (E| + E ) ,

where v : S  E has the same boundary behaviour as in (7.4).

If we choose the bounding surface v to take lie in E¯, then that just reproduces (7.4). On the other hand, it is independent of v, by (7.27), and the two facts together show that the general formula is correct.

LEFSCHETZ FIBRATIONS

73

Because our topic of discussion involves a version of PSS maps, we will be working with maps
defined on the thimble (6.45). This means that we choose (Fs,t, Hs,t, Js,t) on E as in (6.46). Suppose that we are given a map u = (uC|, uM¯ ) : T - E| = C| × M , whose limit is a one-periodic orbit of the kind discussed above. The analogue of (7.5) says that

(7.30)

Etop (uM¯ ) = AfiNb(reEwi)se (x) + (u · zero-section) + (u · E ), where u is a section uN (E|) with the same asymptotic behaviour as in (6.10).

Now suppose that x is nondegenerate. Then we have a linearized operator (or rather, a class of such operators) DN(E|),u in direction normal to E|. The formula for its index IN(E|)(u) is as in (6.13), and that combines with (7.30) to give

(7.31)

Etop (uM¯ )

=

AfiNb(reEwi)se (x)

+

1 2

IN

(E|)(u)

+

(u

·

E

).

Remark 7.10. As a sanity check on (7.31), consider what happens if we glue (in a purely topological sense) a sphere w = (wC|, wM¯ ) : S2  C| × M into u. The left hand side changes by the area of wM¯ , which by (7.27) is w · ([E|] + [ E ]). Those two terms exactly match the changes in IN(E|)(u) and u · E .

Suppose that (Fs,t, Hs,t) satisfy the fibrewise version of the PSS-admissibility condition, introduced in (7.12). If u is a solution of the associated Cauchy-Riemann equation, we combine (7.31) with an appropriate version of (6.40) to obtain

(7.32)

0

<

1 2

IN

(E|)(u)

+

(u

·

E ).

Lemma 6.17 also works in this context. The consequence of that and (7.32) is:

Corollary 7.11. If (7.12) is satisfied and we are considering maps with u · E  = 1, any associated operator DN(E|),u is surjective.

We extend Setup 7.3 to the compactification E , as follows.
Setup 7.12. Take N(M) as in Setup 7.3. Then there is a section N(E|) of the normal bundle to E|  E which equals (w/|w|2)N(M) = w¯-1N(M) over C|1/2 × M , and whose zero-set is (C| × B(M ))  -( × M ), with the minus sign denoting the reversal of the usual orientation. The section N(E|) gives rise to perturbed versions of E|, denoted as usual by (E|).

We are now to ready assemble all the ingredients into the desired construction. Let's assume, in the notation from (7.28), that r > 0. On a much more technical level, we assume that the analogue of the locally split condition from Definition 6.7 holds. Fix some s  R and consider maps

(7.33)

u : T - E ,





u 

·

E



=

1,





u()  E ,



u(s, 0) 



E w ,



 

lims-

u(s,

·)

=

x(t)



E¯,

74

PAUL SEIDEL

which are solutions of the PSS equation associated to some choice of (Fs,t, Hs,t), satisfying (7.12). For a solution contained in E|, Corollary 7.11 ensures surjectivity of the linearized operator in normal direction (the intersection conditions in (7.33) do not have a component in normal direction to E|, hence do not affect this statement), and that is sufficient in order for the standard transversality methods to go through. One can encode the counting of isolated solutions u in a Floer cocycle in CF 2q(Ht, Jt), defined as follows:

(7.34)

x-coefficient = ±qu·(E|) .

u
We will not go through all the details of the construction, since it follows ideas that have been thoroughly explored in [41]; but we will touch on the salient points.

First,

let's

check

that

the

powers

of

q

on

the

right

hand

side

really

define

an

element

of

CF

 q

(Ht,

Jt),

meaning that

(7.35)

u · (E|)  wN(E)(x).

For a solution u not contained in E|, but whose limit is contained in E|, we have an analogue

of (6.24). This says that u · (E|) - wN(E)(x) is positive (the sum of a positive contributions

from the limit and from each of the points of u · E|). For a solution contained in E|, one can use

Setup

7.12

to

rewrite

the

index

formula

as

1 2

IN

(u)

=

-wN(E)(x) + u · (C × B(M ) - {} × M ),

where

the

intersection

numbers

are

taken

inside

E|

=

C| × M ;

or

equivalently,

as

1 2

IN

(u)

=

-wN(E)(x)+u·(E|), where now the intersection number takes place in E . This and Corollary

7.11 complete the verification of (7.35).

The other issue is whether (7.34) is actually a cocycle. This involves looking at undesirable points that can occur in the compactification of moduli spaces of dimension  1. One of them is a splitting into two components (a Floer trajectory, and a map on the thimble) where the intermediate periodic orbit lies in E , see Figure 2. In that case, one can prove that the sequence converging to that limit must have an additional intersection point with E , thereby contradicting the intersection number assumption in (7.33) (technically, the argument is based on [41, Lemma 7.7]). Another, potentially more problematic, limiting configuration is shown in Figure 3. This can again be ruled out by showing that a sequence converging to that limit must have intersection number  2 with E . This once more uses [41, Lemma 7.7], but in this case additionally depends on r > 0.

Actually, the cocycle (7.34) is not exactly what we're aiming for. Instead, we want to consider a parametrized version where s can move. For the purpose of exposition, one can divide the consequences of using such a parametrized moduli space into two parts.

Lemma 7.13. In the situation above, the class in HF 2q(p¯, r) of the cocycle from (7.34) is the

image

under

PSS

r q

of

z (1) |E¯ ,

where

z(1)

is

the

Gromov-Witten

invariant

from

(1.9).

Lemma 7.14. If we moreover assume that r > 1, the cocycle defined by (7.34) is nullhomologous.

This can be applied to the specific Hamiltonians used in Section 7b to define HF q(E¯, 1 + ), and then, the two Lemmas taken together imply Lemma 2.37. Since [41, Lemma 8.4] already contains
both parts of the argument, we will only offer the briefest of summaries here. For Lemma 7.14,

LEFSCHETZ FIBRATIONS

75

Floer trajectory

PSS solution not contained in the fibre over 

this point maps to the fibre over 

one-periodic orbit in the fibre over 

this point maps to the fibre over w

Figure 2. A hypothetical limit point of the space from (7.33), which we want to rule out.

Floer trajectory

PSS solution contained in the fibre over 

holomorphic sphere

one-periodic orbit in the fibre over 

this point maps to the fibre over w

Figure 3. A more complicated variant of Figure 2.

one moves s to the left, and shows that the resulting parametrized moduli space has no limit points with s  -. In the simplest case, such limits would have the form indicated in Figure 4, but that contradicts the intersection assumption in the original moduli space. The assumption r > 1 rules out more complicated limits, such as the version of Figure 4 where the intermediate periodic orbit, and possibly also the entire PSS component of the limit, lies in E . Along the same lines, Lemma 7.13 involves moving s to the right, and a bubbling argument for s  +, with the relevant limits shown in Figure 5.

8. B-fields
This section contains the proof of Theorem 1.15. We will approach this pragmatically, in a way which remains parallel to the special case discussed before, hence requiring only a minimum of additional explanations. The basic insight comes from [40, Section 3], where it was shown that one can always introduce a B-field twist for which the twisted Gromov-Witten invariants satisfy (1.12). Pursuing that direction would lead to a result which is strictly parallel to Theorem 1.3, for the correspondingly twisted Fukaya category. However, we're really looking for a statement that applies to the Fukaya category in the standard sense. The idea is to carry out the B-field twist argument in a Novikov ring with several variables, where the resulting twisted theory can

76

PAUL SEIDEL

PSS solution (with one marked point whose image lies in the fibre over )

limit

move this point, s  -

Floer trajectory (with one marked point whose image lies in the fibre over w)

One-periodic orbit not contained in the fibre over 

Figure 4. One of the limit points that have to be ruled out to derive Lemma 7.14.

PSS solution disjoint from the fibre at 

holomorphic sphere which has intersection number 1 with each fibre

limit

move this point, s  +
Figure 5. The bubbling process underlying the proof of Lemma 7.13.

be specialized back to the ordinary Fukaya category. This is not how we have stated things in Section 1g, so a bit of extra work has to be done in order to connect the two formulations. After that, we will be rather brief concerning the proof, since that repeats our previous argument, with extra (topologically defined) weights when counting pseudo-holomorphic curves.

(8a) The formal framework. Let's assume that (1.62) holds, which gives us the preferred homology class A. From Section 1g we use the lattice H and its sublattice H00 (the degree 0 part of H0). The dual lattices are

(8.1)

H = Hom(H, Z) = H2( E ; Z)/torsion = Zr+2, (H00) = Hom(H00, Z) = Zr.

To clarify the situation, note that these sit in a short exact sequence

(8.2)

0



Z[E|]



1 d

Z([M¯

]

+

[E|])

-

H

-

(H00)



0,

where d is the maximal divisibility of [M¯ ] + [E|]  H. For concreteness, let's fix classes

(8.3)

D1, . . . , Dr  H2( E ; Z), Dk · A = 0,

LEFSCHETZ FIBRATIONS

77

which give rise to a basis of (H00) (it is easy to see that such classes exist: start with any basis of (H00), lift the basis elements to H2( E ; Z), and then add integer multiples of E| or M¯ to achieve
the desired intersection number). To these classes we associate formal variables q1, . . . , qr, which we combine with the usual q to form the ring Q[q1±1, . . . , qr±1][[q]]. Take

(8.4)

Q = q[E|]q1D1 · · · qrDr  Hom(H, Q[q±1, q1±1, . . . , qr±1]×).

Because this homomorphism is multiplicatively-valued, we write QA = qE|·Aq1D1·A · · · qrDr·A for its evaluation on A  H. Our B-fields are formal sums

(8.5)

B = b [E|] + b1D1 + · · · + brDr, b, b1, . . . , br  qQ[q1±1, . . . , qr±1][[q]].

the correspondingly modified version of (8.4) is Q exp(B). One can think of QA exp(B · A)

intuitively as exp(-B · A), for

(8.6) -B = log(Q) + B = (log(q) + b)[E|] + (log(q1) + b1)D1 + · · · + (log(qr) + br)Dr.

We will also use its derivative

(8.7)

-qB = q-1[E|] + qB = (q-1 + qb)[E|] + (qb1)D1 + · · · + (qbr)Dr.

Lemma 8.1. There is a unique substitution (q, q1, . . . , qr)  (g(q), g1(q), . . . , gr(g)), for g  q + q2Q[[q]], gk  1 + qQ[[q]], which transforms Q exp(B) into q[E|].

Proof. It is convenient to write g(q) = qe(q), gk(q) = ek(q) for , k  Q[[q]], and to think in terms of (8.6). The desired equations are

(q) = -b(qe(q), e1(q), . . . , er(q)),

(8.8)

1(q) = -b1(qe(q), e1(q), . . . , er(q)), ...

r(q) = -br(qe(q), e1(q), . . . , er(q)).

Because b, b1, . . . , br have no q-constant term, the qm term on the right hand side of each equation depends only on the terms of (q), 1(q), . . . , r(q) of q-order < m. This allows us to solve (8.8) order-by-order.

The relevant version of the Gromov-Witten invariant (1.8) is

(8.9)

zB(k) =

zAQA exp(B · A),

M¯ ·A=k

which for the cases of interest to us, yields

(8.10)

zB(1)  q-1[E|] + H2( E ; Q[q1±1, . . . , qr±1])[[q]], zB(2)  H0( E ; Q[q1±1, . . . , qr±1])[[q]] = Q[q1±1, . . . , qr±1][[q]].

The replacement for (1.11) is the following condition (a generalization of [40, Assumption 3.1]):

(8.11)

-qB = BzB(1) - B[M¯ ]  q-1[E|] + H2( E ; Q[q1±1, . . . , qr±1])[[q]], with B  1 + qQ[q1±1, . . . , qr±1][[q]], B  Q[q1±1, . . . , qr±1][[q]].

78

PAUL SEIDEL

There is a certain freedom in achieving this property: it is preserved under

(8.12)

(B, B, B) - (B|q + log(/q)[E|], (B|q )q, (B|q )q) for   q + q2Q[q1±1, . . . , qr±1][[q]].

We will need a version of [40, Lemma 3.2]:

Lemma 8.2. One can choose (8.5) so that (8.11) holds. Moreover, such a B is unique up to transformations (8.12).

Proof. We will show that there is a unique solution with B = 1. After that, the general result follows immediately by applying (8.12). Expand

(8.13)

B = qB1 + q2B2 + · · · , B = B,0 + qB,1 + · · · .

Suppose that we have chosen B1, . . . , Bk-1 and B,0, . . . , B,k-2, so that (8.11) holds modulo qk-1 (with B = 1; this is automatically true for k = 1). One has

(8.14) qk-1-term of zB(1) = (Bk · A)[E|] + (terms depending on the previous choices).

The desired equation at order qk-1 is therefore

(8.15)

kBk - (Bk · A)[E|] = (terms depending on previous choices) - B,k-1[M¯ ]  H2( E ; Q[q1±1, . . . , qr±1]).

One can choose B,k-1 so that the right hand side lies in the Q[q1±1, . . . , qr±1]-submodule generated

by [E|], D1, . . . , Dr.

The

endomorphism

k (X )

=

X

-

1 k

(X

·

A)[E|]

of

that

submodule

is

invertible for all k  2, with inverse -1-k. Hence, there is a unique solution for Bk in (8.15).

Assuming that (8.11) holds, one considers the analogue of (1.13),

(8.16)

SqfB + 8zB(2)B2 +

B

-

B B

1 +
2

B

-

B B

2
= 0,

where the differential and Schwarzian operator are with respect to q. This is an equation for
an fB  qQ[q1±1, . . . , qr±1][[q]] whose q1-term is invertible in Q[q1±1, . . . , qr±1]. Turning to Astructures, one can define a version of (1.3) over Q[q1±1, . . . , qr±1], by separating the topological
contributions of the different holomogy classes of holomorphic polygons. Moreover, taking the

twist (8.5) into account, one has a version of the relative Fukaya category, which yields a deformation BB defined over Q[q1±1, . . . , qr±1][[q]]. Here is the direct analogue of Theorem 1.3:

Theorem 8.3. Suppose that the topological assumptions (1.62) and (1.6) hold, and choose B so
that it satisfies (8.11). Let fB be a solution of (8.16). Then, there is a quasi-isomorphic model for BB, in which all A-operations have coefficients in Q[fB, q1±1, . . . , qr±1]  Q[q1±1, . . . , qr±1][[q]].

Lemma 8.1 gives us a change of variables which turns BB into the ordinary relative Fukaya category Bq. In more formal language, if one views that change of coordinates as a map of rings

(8.17)

GB : Q[q1±1, . . . , qr±1][[q]] - Q[[q]], GB(q) = g, GB(qk) = gk,

LEFSCHETZ FIBRATIONS

79

then

(8.18)

Bq = BB GB Q[[q]].

As an immediate consequence, we get:

Corollary 8.4. In the situation of Theorem 8.3, there is a quasi-isomorphic model for Bq in which all A-operations have coefficients in Q[f, g1±1, . . . , gr±1]  Q[[q]], for gk = GB(qk) and
f = GB(fB).

Let's go back to the intrinsically defined Novikov rings from Section 1g. There are maps

(8.19)

KB : ik - ti/2qkQ[q1±1, . . . , qr±1][[q]], KB(qA) = qE|·Aq1D1·A · · · qrDr·AtM¯ ·A exp(B · A).

If Lemma 8.1 applies, we have a commutative diagram that encodes the relation between this map and the previously defined (1.57):

(8.20)

ik

KB

/ ti/2qkQ[q1±1, . . . , qr±1][[q]]

K

%

u

GB

ti/2 q k Q[[q ]].

If (8.11) holds, there is a commutative diagram which generalizes (1.76):

(8.21)

i0

KB

/ ti/2Q[q1±1, . . . , qr±1][[q]]

 z(1) i+02

B,t



KB

/ ti/2+1Q[q1±1, . . . , qr±1][[q]],

where

(8.22)

B,t = tB-1(q + (i/2)B).

This implies that under KB, the g,k from (1.73) get mapped to functions whose q-derivative is zero. In fact, if we assume that D1, . . . , Dr give rise to a basis of (H00) which is dual to (A1, . . . , Ar), then KB(g,k) = qk. By combining this with (8.21), one sees that the functions g1, . . . , gr from Theorem 1.15 coincide with those of the same name in Corollary 8.4. Similarly, if f satisfies (1.72), then fB = KB(f) is a solution of

(8.23)

SB,tfB = 8zB(2),

where SB,t is the Schwarzian associated to B,t. One sees easily that this equation is equivalent to (8.16), hence fB can be chosen to coincide with the function of that name which appears in Theorem 8.3. Finally, applying (8.21), one sees that the functions f from Theorem 1.15 and Corollary 8.4 agree. In that way, Corollary 8.4 implies Theorem 1.15.

(8b) Hamiltonian Floer theory with B-fields. We now start our stroll through the various theories encountered in our argument, and see how each of them should be adapted to the presence of B-fields. The most straightforward instance is Hamiltonian Floer cohomology. While one can

80

PAUL SEIDEL

formulate a notion of B-field in an intrinsic way, we will stick to the kind of ad hoc language
adopted in Section 8a. To make things particularly clear, we will work with a closed symplectic manifold M¯ , with c1(M¯ ) = 0 and integral [M¯ ]. Take (Ht) with nondegenerate one-periodic orbits. We choose a codimension two submanifold  representing [M¯ ], and further codimension two submanifolds D1, . . . , Dr; all of them are assumed to be disjoint from the one-periodic orbits of (Ht). Our B-field (realized on the cycle level, rather than just in cohomology) is a formal weighted sum

(8.24)

B = b + b1D1 + · · · + brDr, b, b1, . . . , br  qQ[q1±1, . . . , qr±1][[q]].

Similarly, we define the formal expression Q = qq1D1 · · · qrDr . The Floer complex is then defined by

(8.25)

CF

 q,q-1

,B

(Ht

,

Jt)

=

Q[q1±1, . . . , qr±1]((q))x,

x

(x-)-coefficient of dq,q-1,B x+ = ±Qu exp(B · u).

u

Here, Qu = q·uq1D1·u · · · qrDr·u and B · u = b( · u) + · · · + br(Dr · u). The sum over u in (8.25)

makes sense since exp(B · u)  1 + qQ[q1±1, . . . , qr±1][[q]], meaning that the growth of powers of q is

controlled

by

q·u.

Denote

the

resulting

cohomology

by

HF

 q,q-1

,B

(Ht

,

Jt

).

It

is

independent

of

the choice of submanifold representatives up to canonical isomorphism, for the same reason as in

Remark 5.8. The formula for dq,q-1,B also makes sense in the context of relative Floer cohomology,

with  replaced by M , since the new term exp(u · Z) does not introduce negative powers of

q.

Under the same additional requirements as in Section 6,

this

leads

to

groups

HF

 q,B

(Ht

,

Jt)

defined over Q[q1±1, . . . , qr±1][[q]].

B-field twisted Hamiltonian Floer cohomology is generally straightforward to develop. The only aspect that may deserve discussion concerns q-differentiation operations. Consider

(8.26)

q dq,q-1,B

:

CF

 q,q-1

,B

(Ht

,

Jt

)

-

CF

+1 q,q-1

,B

(Ht

,

Jt

),

(qdq,q-1,B )(c) = q(dq,q-1,B c) - dq,q-1,B (qc).

Here, q acts on the Floer complex in the obvious way, given the basis (8.25). Concretely,

(8.27)

(x-)-coefficient of (qdq,q-1,B)(x+) = ± (q-1 + qB) · u Qu exp(B · u).

u

For generic (Jt), one can interpret u ±(q-1 + qB) · u as follows. It counts pairs (u, ), where u is an isolated Floer trajectory and   S1 a point such that u(0, )  , with multiplicity

q-1 + qb; and similarly for any u(0, )  Dk, with multiplicities qbk. This is a special case of a general operation, by which a pseudo-cycle Z in M¯ of codimension c, with coefficients in
Q[q1±1, · · · , qr±1]((q)), gives rise to a chain map for generic (Jt),

(8.28)

LZ

:

CF

 q,q-1

,B

(Ht

,

Jt

)

-

CF

+c-1 q ,q-1 ,B

(Ht

,

Jt

).

In our case, the cycle that occurs matches what we previously saw in (8.7):

(8.29)

Z = (q-1 + qb) + (qb1)D1 + · · · + (qbr)Dr.

The entire discussion carries over without any issues to the case of noncompact manifolds E¯. To construct connections generalizing those in (2.56), (2.57), one assumes that the image of (8.29)

LEFSCHETZ FIBRATIONS

81

0((-, 0] × [0, 1])

2S 0S

2
1S 1

2([0, ) × [0, 1]) 1([0, ) × [0, 1])

Figure 6. Punctured surfaces S with extra interior marked points, which appear in the definition of the relative Fukaya category.

under a suitable PSS map is nullhomologous. All the material from [41, 42] then carries over, always using weights as in (8.25) when counting any kind of holomorphic curve (for the parts involving Gromov-Witten invariants, the B-field is always chosen to be defined on E ).

(8c) Relative Fukaya category with B-fields. One can twist Fukaya categories in an analogous way, with a few additional complications. Let's work with a closed M¯ as before (and we
additionally choose a trivialization of the canonical bundle), together with a symplectic divisor
M Poincar´e dual to [M¯ ]. Take a finite collection of closed Lagrangian submanifolds (V1, . . . , Vm) in M = M¯ \ M , which are Lagrangian branes in an appropriate sense: namely,

(8.30)

they are relatively exact, meaning that [M ] = [M¯ ]  H2(M¯ , Vi; R); they are also graded, with respect to our choice of trivialization of the canonical bundle; and they come equipped with a choice of Spin structure.

The definition of B-field in this context is a more elaborate version of (8.24):

(8.31) B = b M + b1D1 + · · · + brDr, b, b1, . . . , br  qQ[q1±1, . . . , qr±1][[q]]. We assume that Dl restricts to the trivial class in H2(Vi; Z) for any (i, l).
Based on the last-mentioned topological assumption, we would like to make further choices.

(8.32)

For each (k, i), we choose a codimension two submanifold l,i  [0, 1/2]×M¯ , such that l,i  ({0} × M¯ ) (transverse intersection) is disjoint from Vi, while l,i  ([1/4, 1/2] × M¯ ) = [1/4, 1/2] × Dk.

Choose, for any (i, j) in {1, . . . , m}, a time-dependent Hamiltonian (Hi,j,t) whose vector field (Xi,j,t) is parallel to M . A generic choice ensures that:

(8.33) For any Xi,j,t-chord x : [0, 1]  M from Vi to Vj, the point (t, x(t)), 0  t  1/2, does not lie on any l,i, and similarly (t, x(1 - t)) does not lie on any l,j.

In the definition of the Fukaya A-structure [47, 31, 44], one uses surfaces which are (d + 1)pointed discs with an additional choice of strip-like ends 0, . . . , d, and (ordered and pairwise disjoint) interior marked points 1, . . . , e, for some e  0, see Figure 6; this is subject to the

82

PAUL SEIDEL

stability condition d + 2e  2. Given i0, . . . , id  {1, . . . , m}, one considers maps

(8.34)

u : S - M¯ ,







u(kS) 



Vik

,



  

lims-

u(

0(s, ·))

=

x0

 lims+ u( k(s, ·)) = xk





u-1(M 

)

=

{1,

.

.

.

,

e},





u · M = e.

an (Xi0,id,t)-chord for (Vi0 , Vid ), an (Xik-1,ik,t)-chord for (Vik-1 , Vik ), if k > 0,

(These are of course subject to a suitable Cauchy-Riemann equation, but that's not relevant for the purely topological considerations here.) Here, kS are the connected components of S, numbered as in Figure 6. Let's equip S with smooth embeddings which have pairwise disjoint images, and which parametrize a tubular neighbourhood of S, compatibly with the ends:

(8.35)

0, . . . , d : R × [0, 1/4] - S,   k-1(S) = k-1(kS) = R × {0},   0(s, t) = 0(s, t) for s 0,    0(s, t) = 1(s, t) for s 0,

1(s, t) = 1(-s, 1 - t) for s 0,





1(s, t) = 2(s, 1 - t) for s 0,





  

·

·

·





d(s, t) = 0(-s, 1 - t) for s 0.

This gives rise to codimension two submanifolds S,1, . . . , S,r  S × M¯ , namely

(8.36)

S,l  ({z} × M¯ ) = l,ik  ({t} × M¯ ) for z = k(s, t), 0  t  1/4,

Dl

otherwise.

Note that this condition implies

(8.37)

for s

 l,i0  ({t} × M¯ )  0, S,l  ({ 0(s, t)} × M¯ ) = Dl

t  [0, 1/4], t  [1/4, 3/4],

 l,id



({1

-

t}

×

M¯ )

t  [3/4, 1];

and correspondingly for the other ends. Given that and a map (8.34), one has a well-defined intersection number

(8.38)

(id , u) · S,l  Z,

which (intuitively) counts points z  S such that (z, u(z))  S,l. Because of the boundary conditions and the assumptions on S,l  ({k(s, 0)} × M¯ ) in (8.36), there can be no such points with z  S. Equally, because of the asymptotic condition on u, the assumption (8.33), and (8.37), there can also be no such points with z sufficiently close to  on the 0 end. Similar observations apply to all ends. Hence, the intersection is proper, which justifies (8.38). Of course, in order for these numbers to make sense consistently, one has to assume that (8.35) depend smoothly on moduli, and are compatible with gluing together surfaces along their ends.

LEFSCHETZ FIBRATIONS

83

When defining the twisted version Bq,B of the relative Fukaya category, we replace the standard expression qu·M with
(8.39) qu·M q1(id,u)·S,1 · · · qr(id,u)·S,r exp b (u · M ) + b1 ((id , u) · S,1) + · · · + br ((id , u) · S,r) .
When taking the q-derivative, one picks up an additional multiplicative factor (q-1 + qb)(M · u) + (qb1)((id , u) · S,1) + · · · + (qbr)((id , u) · S,1). As before, this allows us to relate the Kaledin class to the image of (8.29) under an closed-open string map.
In our applications, M¯ is a fibre of a Lefschetz fibration, and we take the Di to come from cohomology classes in E¯. As a consequence, the cohomological condition from (8.31) is satisfied for the vanishing cycles, leading to the definition of a twisted version BB of the category Bq from Section 2b, which already appeared in Section 8a. When considering the Fukaya category of E¯ itself, as in Section 2c, we only use the (contractible) Lefschetz thimbles as objects, so the cohomological condition is automatically satisfied, giving us the analogue AB of Aq. The basic properties of those categories carry over without any issues. In particular, the q-derivative argument hinted at above leads to a B-field twisted version of Proposition 2.30 (and its partial improvement in Proposition 2.39), following the same method as in [46].

(8d) Homological algebra. The algebraic theory in Sections 2­4 used Q-coefficients, and Q[[q]] for deformation theory. For the B-field twist, that needs to be adapted to work with coefficients in Q[q1±1, . . . , qr±1], respectively Q[q1±1, . . . , qr±1][[q]]. For simplicity, we will formulate our discussion for A-algebras (see Remark 3.1; the same applies here).
Let R be a commutative ring of finite global dimension. When considering A-algebras A over R, we assume that each graded piece is a free R-module (this is sensible because unbounded complexes of free R-modules are K-projective). A cohomological unit for such an algebra is a cocycle e  A0 such that Re  A0 and A0/Re are free, and which becomes an identity element in H(A). This property means that

(8.40)

µ2A(·, e) : A - A

is a quasi-isomorphism, and therefore invertible up to chain homotopy. We also know that (8.40)
is chain homotopic to its square. Therefore, it must be chain homotopic to the identity. The
same holds for left multiplication with e. For the notion of strict unit, one replaces the last condition by the standard requirements on µdA(· · · , e, . . . ), and retains all the other assumptions. The relevant version of [36, Lemma 2.1] is:

Lemma 8.5. Let A be a cohomologically unital A-algebra, such that Re  A is split-injective as a map of chain complexes. Then there is a strictly unital A-structure A(1), living on the same graded R-module and with the same differential, and an A-homomorphism F : A  A~
whose linear term is the identity.

Proof. Write the chain complex as a sum A = Re  A¯. We know that µ2A(·, e) and (-1)|a|µ2A(e, ·) are homotopic to the identity. In sign conventions that are suitable for the A-world, this means

84

PAUL SEIDEL

that we have maps

(8.41)

hleft : A - A[-1], µ1Ahleft (a) + hleft µ1A(a) = µ2A(e, a) - (-1)|a|a, hright : A - A[-1], µ1Ahright (a) + hright µ1A(a) = µ2A(a, e) - a.

Note that the difference hleft (e) - hright (e)  A-1 is a cocycle. One can change hleft by a chain map A  A[-1] which is zero on A¯, in order to make that difference equal to zero. Take

(8.42)

F2 : A  A - A[-1],





 F2

|

A¯



A¯

=

0,

F2 | {e} × A = hleft ,   F2 | A¯ × {e} = hright .

If

we

then

define

µ2
A(1)

so

that

F2

satisfies

the

A-homomorphism

equation

from

(µ1A, µ2A)

to

(µ1A,

µ2
A(1)

),

the

outcome

is

that

µ2
A(1)

(e,

a)

=

(-1)|a|a,

µ2
A(1)

(a,

e)

=

a,

as

desired.

The

subsequent steps are as in [36, Lemma 2.1].

We have used [36, Lemma 2.1] in the proof of Lemma 2.2. The version with B-fields would rely on Lemma 8.5 instead; the split-injectivity condition is always satisfied in our case, because of the way we set up the Floer chain complex for a vanishing cycle, compare (2.1). A related issue that appears in the proof of Lemma 2.11 is addressed by the following:
Lemma 8.6. Let A be a strictly unital A-algebra over R. Then, the inclusion of the reduced Hochschild complex CC red,(A, A) (the complex of Hochschild cochains which vanish on e) into the entire Hochschild complex CC (A, A) is a quasi-isomorphism.

Proof. We introduce a decreasing filtration F pCC (A, A), which consists of those  which become zero if we insert e into one of the last p entries. Clearly, CC red,(A, A) = p F pCC (A, A). The induced filtration F pCC (A, A)/CC red,(A, A) of the quotient CC (A, A)/CC red,(A, A) is complete. To see that, it is convenient to pick a splitting (of R-modules) A = Re  A¯. Then,

ignoring the gradings to simplify the notation,

(8.43)

CC (A, A) CC ,red (A, A)

=

Hom (A¯pr
r1, p0,...,pr 0

 Re  A¯pr-1

 · · ·  Re  A¯p0 , A),

and our filtration is by p0  p. Hence, it is sufficient to prove that the successive quotients of our filtration are acyclic. Consider the degree -1 endomorphism of the Hochschild complex defined

by

(8.44)

(hp)d(ad, . . . , a1) = (-1) a1 +···+ ap d+1(ad, . . . , ap+1, e, ap, . . . , a1)

(the formula is understood to mean zero if d < p). For   F pCC (A, A), we have

(hp + hp)d(ad, . . . , a1)

(8.45)

=

±µdA-j+1(ad, . . . , ai+j+1, j+1(ai+j , e, ai+p, . . . , ai+1), ai, . . . , a1).

i>0, jp

Because of the i > 0 restriction, the right hand side lies in F p+1CC (A, A). Hence, our formula defines a contracting homotopy for F pCC (A, A)/F p+1CC (A, A).

LEFSCHETZ FIBRATIONS

85

In the theory from Section 3, when talking about A-algebras over R, one always wants the inclusion of such a subalgebra to be a split injective map of graded R-modules (something that is never an issue in our applications). The proof of Lemma 3.6 relies on the acyclicity of the complexes

(8.46)

F r-1c/F rc = Hom Br/Ar, {B  B~ .

Here, the differential comes from the differentials on B and B~ , together with the given map B  B~ . That map is a quasi-isomorphism by assumption, so {B  B~ } is acyclic. Since Br/Ar is a complex of free R-modules, it follows that (8.46) is acyclic as well. In other words, it is not
necessary to first pass to the cohomology of A or B, as we had chosen to do (for expository reasons) in (3.16), (3.21), (3.23).

Concerning the theory of A-connections (Section 4), no modifications or additional explanations are necessary: Lemmas 4.3 and 4.4 only require unique divisibility by positive integers, hence work well over Q[q1±1, . . . , qr±1].

References
[1] M. Aldi and E. Zaslow. Seidel's mirror map for abelian varieties. Adv. Theor. Math. Phys., 10:591­602, 2006. [2] P. Biran and O. Cornea. Lagrangian cobordism. I. J. Amer. Math. Soc., 26:295­340, 2013. [3] J. Bryan and N. Leung. The enumerative geometry of K3 surfaces and modular forms. J. Amer. Math. Soc.,
13:371­410, 2000. [4] K. Cieliebak and K. Mohnke. Symplectic hypersurfaces and transversality in Gromov-Witten theory. J. Sym-
plectic Geom., 5:281­356, 2007. [5] C. Doran. Picard-Fuchs uniformization and modularity of the mirror map. Comm. Math. Phys., 212(3):625­
647, 2000. [6] A. Floer, H. Hofer, and D. Salamon. Transversality in elliptic Morse theory for the symplectic action. Duke
Math. J., 80:251­292, 1995. [7] K. Fukaya, Y.-G. Oh, H. Ohta, and K. Ono. Lagrangian surgery and holomorphic discs. Unpublished addi-
tional chapter for [8], 2007. [8] K. Fukaya, Y.-G. Oh, H. Ohta, and K. Ono. Lagrangian intersection Floer theory - anomaly and obstruction.
Amer. Math. Soc., 2010. [9] M. Futaki and K. Ueda. Tropical coamoeba and torus-equivariant homological mirror symmetry for the
projective space. Comm. Math. Phys., 332:53­87, 2014. [10] S. Ganatra. Automatically generating Fukaya categories and computing quantum cohomology. Preprint
arXiv:1605.07702. [11] S. Ganatra, T. Perutz, and N. Sheridan. Mirror symmetry: from categories to curve-counts. Preprint arXiv
1510:03839. [12] A. Gathmann. Relative Gromov-Witten invariants and the mirror formula. Math. Ann., 325:393­412, 2003. [13] A. Givental. Equivariant Gromov-Witten invariants. Internat. Math. Res. Notices, pages 613­663, 1996. [14] A. Givental. A mirror theorem for toric complete intersections. In Topological field theory, primitive forms
and related topics (Kyoto, 1996), volume 160 of Progr. Math., pages 141­175. Birkh¨auser, 1998. [15] M. Gross and B. Siebert. Intrinsic mirror symmetry. Preprint arXiv:1909.07649. [16] H. Hofer and D. Salamon. Floer homology and Novikov rings. In H. Hofer, C. Taubes, A. Weinstein, and
E. Zehnder, editors, The Floer memorial volume, volume 133 of Progress in Mathematics, pages 483­524. Birkh¨auser, 1995. [17] D. Kaledin. Some remarks on formality in families. Mosc. Math. J., 7:643­652, 766, 2007. [18] A. Klemm, B. Lian, S.-S. Roan, and S.-T. Yau. A note on ODEs from mirror symmetry. In Functional analysis on the eve of the 21st century, Vol. II (New Brunswick, NJ, 1993), volume 132 of Progr. Math., pages 301­323. Birkh¨auser, 1995.

86

PAUL SEIDEL

[19] Y.-P. Lee. Quantum Lefschetz hyperplane theorem. Invent. Math., 145:121­149, 2001. [20] B. Lian and S.-T. Yau. Arithmetic properties of mirror map and quantum coupling. Comm. Math. Phys.,
176:163­191, 1996. [21] V. Lunts. Formality of DG algebras (after Kaledin). J. Algebra, 323:878­898, 2010. [22] J. MacKay and A. Sebbar. Fuchsian groups, automorphic functions and Schwarzians. Math. Ann., 318:255­
275, 2000. [23] R. Maier. Nonlinear differential equations satisfied by certain classical modular forms. Manuscripta Math.,
134:1­42, 2011. [24] C. Mak and W. Wu. Dehn twists exact sequences through Lagrangian cobordism. preprint arXiv:1509.08028. [25] M. McLean. Symplectic homology of Lefschetz fibrations and Floer homology of the monodromy map. Selecta
Math., 18:473­512, 2012. [26] Y.-G. Oh. Gromov-Floer theory and disjunction energy of compact Lagrangian embeddings. Math. Res. Lett.,
4:895­905, 1997. [27] Y.-G. Oh. Seidel's long exact sequence on Calabi-Yau manifolds. Kyoto J. Math., 51(3):687­765, 2011. [28] B. Osgood. Old and new on the Schwarzian derivative. In Quasiconformal mappings and analysis (Ann Arbor,
MI, 1995), pages 275­308. Springer, 1998. [29] V. Ovsienko and S. Tabachnikov. What is. . . the Schwarzian derivative? Notices of the AMS, 56(1):34­36,
2009. [30] T. Perutz and N. Sheridan. Automatic split-generation for the Fukaya category. Preprint arXiv:1510.03848. [31] T. Perutz and N. Sheridan. Constructing the relative Fukaya category. I. Unpublished manuscript. [32] S. Piunikhin, D. Salamon, and M. Schwarz. Symplectic Floer-Donaldson theory and quantum cohomology.
In C. B. Thomas, editor, Contact and symplectic geometry, pages 171­200. Cambridge Univ. Press, 1996. [33] J. Robbin and D. Salamon. Asymptotic behaviour of holomorphic strips. Ann. Inst. H. Poincar´e Anal. Non
Lin´eaire, 18:573­612, 2001. [34] M. Schwarz. Morse homology, volume 111 of Progress in Mathematics. Birkh¨auser, 1993. [35] P. Seidel. A-subalgebras and natural transformations. Homology, Homotopy Appl., 10:83­114, 2008. [36] P. Seidel. Fukaya categories and Picard-Lefschetz theory. European Math. Soc., 2008. [37] P. Seidel. Homological mirror symmetry for the quartic surface, volume 1116 of Mem. Amer. Math. Soc.
Amer. Math. Soc., 2015. [38] P. Seidel. Picard-Lefschetz theory and dilating C-actions. J. Topology, 8:1167­1201, 2015. [39] P. Seidel. Fukaya A-structures associated to Lefschetz fibrations. II. In D. Auroux, L. Katzarkov, T. Pantev,
Y. Soibelman, and Y. Tschinkel, editors, Algebra, Geometry and Physics in the 21st Century (Kontsevich Festschrift), volume 324 of Progress in Math., pages 295­364. Birkh¨auser, 2017. [40] P. Seidel. Fukaya A-structures associated to Lefschetz fibrations. II 1/2. Adv. Theor. Math. Phys., 20:883­ 944, 2016. [41] P. Seidel. Fukaya A-structures associated to Lefschetz fibrations. III. J. Differential Geom., 117:485­589, 2021. [42] P. Seidel. Fukaya A-structures associated to Lefschetz fibrations. IV. In Breadth in contemporary topology, pages 195­276. Amer. Math. Soc., 2019. [43] P. Seidel. Fukaya A-structures associated to Lefschetz fibrations. IV 1/2. J. Symplectic Geom., 18:291­332, 2020. [44] P. Seidel. Fukaya A-structures associated to Lefschetz fibrations. V. Preprint arXiv:2010.13692, 2020. [45] P. Seidel. Fukaya A-structures associated to Lefschetz fibrations. VI 1/2. In preparation. [46] P. Seidel. Fukaya A-structures associated to Lefschetz fibrations. VII. In preparation. [47] N. Sheridan. Homological mirror symmetry for Calabi-Yau hypersurfaces in projective space. Invent. Math., 199:1­186, 2015. [48] H. Verrill. Picard-Fuchs equations of some families of elliptic curves. In Proceedings on Moonshine and related topics, volume 30 of CRM Proc. Lecture Notes, pages 253­268. Amer. Math. Soc., 2001. [49] K. Wehrheim and C. Woodward. Exact triangle for fibered Dehn twists. Research in the Math. Sci., 3:Article no. 17, 2016.

