arXiv:2106.01500v2 [math.LO] 4 Jun 2021

Elimination of imaginaries in ordered abelian groups with bounded regular rank
Mariana Vicaria
June 7, 2021
Abstract In this paper we study elimination of imaginaries in some classes of pure ordered abelian groups. For the class of ordered abelian groups with bounded regular rank (equivalently with finite spines) we obtain weak elimination of imaginaries once we add sorts for the quotient groups   for each definable convex subgroup , and sorts for the quotient groups   + l where  is a definable convex subgroup and l  N2. We refer to these sorts as the quotient sorts. For the dp-minimal case we obtain a complete elimination of imaginaries, if we also add constants to distinguish the cosets of  + n in , where  is a definable convex subgroup and n  N2.
1 Introduction
The model theory of ordered abelian groups has been studied since the sixties, and several results regarding quantifier elimination and the model complexity of certain classes of ordered abelian groups have been obtained. See for example [5][7][6] [3] [2] [8][1] [11] [12] and [9]. The next natural step regarding the model theory of ordered abelian groups was understanding a reasonable language where one will have elimination of imaginaries. We use an abstract criterion isolated by Hrushovski in [4] to show the following two results:
Theorem. Let  be an ordered abelian group of bounded regular rank (equivalently with finite spines). Then  admits weak-elimination of imaginaries once the quotient sorts are added.
Theorem. Let  be a dp-minimal ordered abelian group, then  admits elimination of imaginaries once the quotient sorts are added, and we add constants to distinguish the cosets of +n in , where  is a definable convex subgroup and n  N2.
Our work was originally inspired by the problem of elimination of imaginaries for valued fields, where ordered abelian groups are interpreted in the structure as the value group. In fact, the Ax-Kochen principle reflects the relevance of studying in more depth the model theory of ordered abelian groups to have a better understanding of henselian valued fields. This paper is organized as follows:
1. Section 2: We present the state of art of the model theory of ordered abelian groups and introduce the class of ordered abelian groups with bounded regular rank.
2. Section 3: We characterize the definable end-segments in an ordered abelian group with bounded regular rank and show that they can be coded in the quotient sorts.
3. Section 4: We introduce Hrushovski's theorem to achieve a weak elimination of imaginaries result. This criterion requires us to check two conditions: the density of definable types, proved in Proposition 4.7, and the coding of definable types which is shown in Proposiiton 4.2.
4. Section 5: We briefly present the main results.
The author has recently learned that the case of direct sums of the integers with the lexicographic order has been done independently by Martina Liccardo in [16], as part of her PhD thesis under Paola D'Aquino. It has been also pointed out that M. Hils and R. Mennuni have also independently obtained the result for the regular case.
1

Aknowledgements: This document was written as part of the author's PhD thesis under Pierre Simon and Thomas Scanlon. The author would like to express her gratitude to both of them, for many insightful conversations and their time. The author would like to thank particularly Pierre for his continuous encouragement and his financial support from his NSF Grant 1848562. The author would like to thank as well R. Mennuni for some useful comments in a previous draft.
2 Preliminaries
Elimination of imaginaries
Let T be a first order theory and M be its monster model. Let D  Mk be some definable set and E some definable equivalence relation over D. The equivalence class e = a E is said to be an imaginary element. Imaginaries in model theory were introduced by Shelah in [14]. Later in [15], Makkai proposed to construct the many sorted structure Meq, where we add a sort SE for each definable equivalence relation E and a map E sending each element to its class. Since then, the model theoretic community has presented and studied imaginary elements in this way and refer to the multi-sorted structure Meq, as the imaginary expansion of M. We call the sorts SE as imaginary sorts while we refer to M as the home-sort. Any formula (x¯, y¯) induces an equivalence relation in M y¯ defined as
E(y¯1, y¯2) if and only if x¯ (x¯, y¯1)  (x¯, y¯2) .
Let ¯b  M y¯ and X = (x¯, ¯b). We call the class ¯b E the code of X and denote it as X. We denote as dcleq and acleq the definable closure and the algebraic closure in the expansion Meq.
Definition 2.1. 1. We say that T has elimination of imaginaries if for any imaginary element e there is a tuple a in the home-sort such that e  dcleq(a) and a  dcleq(e).
2. We say that T has weak elimination of imaginaries if for any imaginary element e there is a tuple a in the home-sort such that e  dcleq(a) and a  acleq(e).
3. We say that T codes finite sets if for every model M  T , and every set S of a finitely many elements in M , the code S is interdefinable with a tuple of elements in M .
The following is a folklore fact.
Fact 2.2. Let T be a complete multi-sorted theory. If T has weak elimination of imaginaries and codes finite sets then T eliminates imaginaries.
Ordered abelian groups of bounded regular rank In this section we summarize several results about the classification of ordered abelian groups and their model theoretic behaivor. We start by recalling the following folklore fact.
Fact 2.3. Let (, <, +, 0) be a non-trivial ordered abelian group. Then the topology induced by the order in  is discrete if and only if  it has a minimal positive element. In this case we say that  is discrete, otherwise we say that it is dense.
The following notions were isolated in the sixties to understand the completions of the theory of ordered abelian groups.
Definition 2.4. 1. Let  be an ordered abelian group and   , we say that  is n-divisible if there is some    such that  = n.
2. Let n  2. An ordered abelian group  is said to be n-regular if any interval with at least n-points contains an n-divisible element.
3. An ordered abelian group  has n-regular rank equal to m if there are 0, . . . , m convex subgroups of , such that:
· {0} = 0  1      m = , · for each 0  i < m, the quotient group i+1 i is n-regular,
2

· the quotient group i+1 i is not n-divisible for 0 < i < m.
In this case we denote RJn() = {0, . . . , m-1}. The elements of this set are called the n-regular jumps.
4. If  has finite n-regular rank for all n  N, we denote RJ() =  RJn().
n2
Regular groups and poly-regular groups
Definition 2.5. An ordered abelian group  is said to be regular if it is n-regular for all n  N.
Robinson and Zakon in their seminal paper [5] characterized completely the possible completions of the theory of regular groups, obtained by extending the first order theory of ordered abelian groups with axioms asserting that for each n  N if an interval contains at least n-elements then it contains an n-divisible element. Indeed, they prove the following statement:
Theorem 2.6. The possible completions of the theory of regular groups, are:
1. the theory of discrete regular groups, and
2. the completions of the theory of dense regular groups T where  = Primes  N  {}, is a function specifying the index (p) = [  p].
Robinson and Zakon proved as well that each of these completions is the theory of some archimedean group. In particular, any discrete regular group is elementarily equivalent to (Z, <, +, 0). This theory is called the theory of Presburger arithmetic, introduced in 1929 by M. Presburger, who proved that it admits quantifier elimination in the well known Presburger Language LP ess = {0, 1, +, -, <, (m)mN2}. Given an ordered abelian group  we naturally see it as a LP ress-structure. The symbols {0, +, -, <} take their obvious interpretation. If  is discrete, the constant symbol 1 is interpreted as the least positive element of , and by 0 otherwise. For each m  N2 the binary relation symbol m is interpreted as the equivalence modulo m, i.e. for any g, h   g m h if and only if g - h  m. In [6] V. Weispfenning proves that the theory of a dense ordered abelian group admits quantifier elimination in the Presburger language if and only if it is regular.
Definition 2.7. Let  be an ordered abelian group. We say that it is poly-regular if it is elementarily equivalent to a subgroup of the lexicographically ordered group Rn.
Belegradek studied poly-regular groups in [7] and proved that an ordered abelian group is poly-regular if and only if it has at most n proper definable convex subgroups, all definable over the empty-set. In [6] Weispfenning obtained a quantifier elimination for the class of poly-regular groups, in the language of ordered abelian groups extended with predicates to distinguish the subgroups  + m where  is a convex subgroup and m  N2.
Ordered abelian groups with bounded regular rank
In this subsubsection we recall some results about the more general class of ordered abelian groups with finite n-regular rank for all n  N, which extends the class of poly-regular groups and regular groups. The following is [1, Proposition 2.3].
Proposition 2.8. Let  be an ordered abelian group. The following are all equivalent:
1.  has finite p-regular rank for each prime p.
2.  has finite n-regular rank for each n  2.
3. There is some cardinal  such that for any H  , RJ(H)  .
4. For any H  , any definable convex subgroup of H has a definition without parameters.
5. There is some cardinal  such that for any H  , H has at most  (countably many ) definable convex subgroups.
3

Moreover, in this case RJ() is the collection of all proper definable convex subgroups of  and all are definable without parameters.
In view of (3) of the previous proposition we will say that an ordered abelian group has bounded regular rank if it satisfies any (equivalently all) the conditions of Proposition 2.8. In [2] Cluckers and Halupczok introduce a language Lqe to obtain quantifier elimination for ordered abelian groups relative to sort the sorts Sn, Tn and Tn+, called as auxiliary sorts. The description of the auxiliary sorts Sn, Tn and Tn+ can be found in [2, Definition 1.5]. This language is similar in the spirit of the one introduced by Gurevich and Schmitt in [3], but has been lately preferred by the community as it is more in line with the many-sorted language of the imaginary expansion. Schmitt does not distinguish between the sorts Sn, Tn and Tn+. Instead for each n  N he works with a single sort Spn() called the n-spine of , whose description can be found in [3, Section 2]. In [2, Section 1.5] it is explained how the auxiliary sorts of Cluckers and Halupczok are related to the n-spines Spn() of Gurevich-Schmitt. In [1, Section 2], it is shown that an ordered abelian group  has bounded regular rank if and only if all the n-spines are finite, and Spn() = RJn(). In this case, we define the regular rank of  as RJ() , which is either finite or 0. We prefer to use the classical terminology of bounded regular rank, as it emphasizes the relevance of the n-regular jumps and the role of the divisibilities to understand the definable convex subgroups.
Quantifier elimination and the quotient sorts
Definition 2.9 (The languange L). Let  be an ordered abelian group with bounded regular rank, we view  as a multi-sorted structure where:
1. We add a sort for the ordered abelian group , and we equip it with a copy of the language LPres extended with predicates to distinguish each of the convex subgroups   RJ(). We refer to this sort as the main sort.
2. We add a sort for each of the ordered abelian groups  , equipped with a copy of the language LPres = {0, 1, +, -, <, (m)}. We add as well a map      , interpreted as the natural projection map.
Farré in [1, Theorem 2.4] obtained a quantifier elimination statement for this class of ordered abelian groups. However, we present a slight different language where we add the constants for the minimal elements in   instead of adding a representative in the home-sort whose projection is the minimal class in  . For this purpose we highlight that the following statement is a direct consequence of [9, Proposition 3.14].
Theorem 2.10. Let  be an ordered abelian group with bounded regular rank. Then  admits quantifier elimination in the language L.
Notation 2.11. We will be mainly interested in the description of the definable sets in the main sort. For this purpose we will slightly abuse the language, to simplify the notation. For each k  Z and   RJ() we denote as k = k  1, where 1 is the minimal element in   if it exists. We will sometimes indicate k simply as k + . We denote as:
1.  (x) +  <  + k + , the formula ( (x)) < () + k,
2.  (x¯)   + k, the formula ( (x)) = () + k,
3.  (x) +m +k the formula ( (x)) m ()+k. The latter is interpreted as ( (x))-(+k)  m  ).
where  (x¯) is a term in the language of ordered abelian groups in m variables x = (x1, . . . , xm) and   .
Definition 2.12. 1. A set S   is said to be an end-segment (respectively an initial segment) if for any x  S and y  , x < y we have that y  S. (Respectively if x  S, y   and y < x then y  S.)
2. Let n  N2,   RJ(),     {-, +} and   {, >}. The set:
{   n +    + }
defines an end-segment of . We call any of the end-segments of this form divisibility end-segments. Likewise we can relativize these notions to initial segments if   {, <}.
4

3. A mid-segment is a non empty set C of the form C = U  L where U is a divisibility end-segment and L is a divisibility initial segment.
4. A basic positive congruence is a formula of the form zx +l  + k where   , z, k  Z and l  N2. Likewise we say that a basic negative formula if it is a formula of the form zx +l  + k. A basic congruence formula is either a basic positive congruence formula or a basic negative formula.
5. A finite congruence restriction is a finite conjunction of basic congruence formulas. 6. A nice set is a set of the form C  X, where C is a mid-segment and X is defined by a finite congruence
restriction.
The following is a direct consequence of the quantifier elimination. Corollary 2.13. Let  be an ordered abelian group with bounded regular rank. Let X   be a definable set, then X is a finite union of nice sets.
We will consider an extension of this language that we will denote as LQ, where for each natural number n  2 and   RJ() we add a sort for the quotient group  ( + n) and a map n =     + n.
We will refer to the sorts in the language LQ as quotient sorts.
The following fact will be very useful to show weak elimination of imaginaries for ordered abelian groups with bounded regular rank. Fact 2.14. Let  be an ordered abelian group of finite n-regular rank, witnessed by the sequence {0} = 0  1  ...  l = , and fix H some definable convex subgroup. Then  H is also a group of finite n-regular rank, witnessed by the sequence {0}  r H      l H =  H where r is the smallest index such that r-1  H  r. Moreover, if  is an ordered abelian group of bounded regular rank and H  RJ(), by the isomorphism theorem ( H) (i H)   i. In particular, each coset of i H in  H is interdefinable with an element of  i.
A survey of model theoretic results on ordered abelian groups
In 1984 the classification of the model theoretic complexity of ordered abelian groups was initiated by Gurevich and Schmitt, who proved that no ordered abelian group has the independence property. During the last years finer classifications have been achieved, and we present the state of art in this subsection.
Definition 2.15. Let  be an ordered abelian group and let p be a prime number. We say that p is a singular prime if [  p] = . If  does not have singular primes we call it non-singular.
The following result corresponds to [8, Proposition 5.1].
Proposition 2.16. Let  be an ordered abelian group, the following conditions are equivalent:
1.  does not have singular primes,
2.  is dp-minimal.
The following is [9, Theorem 3.13]. Proposition 2.17. Let  be an ordered abelian group with bounded regular rank (i.e. each Spn() is finite). The following statements are equivalent:
1.  is distal,
2.  is dp-minimal.
The following statement was independently achieved in [1], [12] and [11].
Proposition 2.18. Let  be an ordered abelian group, the following conditions are equivalent:
1.  is strongly dependent,
2.  has finite dp-rank,
5

3.  has bounded regular rank and finitely many singular primes. Moreover, let P = {p  N p is a singular prime }. Then
dp - rank()  1 + RJp(G) .
pP
3 Definable end-segments
In this subsection we characterize the definable end-segments (or initial segments) in an ordered abelian group with bounded regular rank (equivalently with finite spines). We also show that they can be coded in the quotient sorts. Definition 3.1. Let  be an ordered abelian group with bounded regular rank:
1. Given S   an end-segment (or an initial segment) we denote as S the stabilizer of S, i.e. S = {    + S = S}.
2. Let S   be an end-segment and   RJ(). We consider the projection map  =    , and we denote as S = (S). This is a definable end-segment of  , because S = {    y  S (y) = }.
3. Let   RJ() and S   an end-segment. We say that S is -decomposable if it is a union of -cosets. 4. Let X and Y be definable sets. We say that Y is coinitial in X if for any y  X there is some element
z  X  Y such that z  y. Likewise, can relativize this notion to say that Y is cofinal in X. Fact 3.2. Let S   be a definable end-segment. Then S is a definable convex subgroup of , therefore S  RJ(). Furthermore, S =  , where C = {  RJ() S is -decomposable}.
C
Proof. The proof is straightforward, and it is left to the reader. Proposition 3.3. Let  be an ordered abelian group of bounded regular rank. Any definable end-segment is a divisibility end-segment. Proof. Let S   be a definable end-segment such that S  . By Fact 3.2, S is a definable convex subgroup of  and S is S-decomposable. To simplify the notation we will denote ^ =  S and S^ = SS = S (S). It is sufficient to prove that S^ is a divisibility end-segment in ^.
Observation. Note that for any k  N exactly one of the following cases occurs: · ^ is k-regular. · There is a non trivial k-regular convex subgroup k and a coset  + k such that S^  ( + k)   and S^c  ( + k)  .
Proof. Namely, if {0} = 0  1      l =  is the sequence of convex subgroups witnessing that  has k-finite regular rank, we can take the smallest index r  l such that S  r. If r = l then ^ is k-regular, otherwise the quotient group k = r S satisfies the required conditions. Indeed, as r r-1 is k-regular so is r S. Additionally, S is not r-decomposable, otherwise by Fact 3.2 r  S but S  r. Then there is some coset  + r such that S  ( + r)   and Sc  ( + r)  , because otherwise S would be r-decomposable. Thus S^  (^ + k)   and S^c  (^ + k)  , where ^ =  + S.
We may assume that S^ does not have a minimum, otherwise the statement follows immediately. By Corollary 2.13 applied to ^, S^ is a finite union of nice sets Ci  Xi, where Ci = Ui  Li. As S^ is a definable end-segment, it is sufficient to understand the co-initial description of S^. Without loss of generality we may assume that Ui  U1 for all i. Let ^  RJ(), then ^ =  S for some S    RJ(). Thus there is a coset  + ^ such that S^  ( + ^ )   and S^c  ( + ^ )  , because S is not -decomposable.
6

Hence, each of the congruence formulas involving the groups ^ + k^ does not change its truth value over U1  ( + ^ ), therefore it does not change its truth value co-initially in U1. Consider a conjunction of congruence restrictions of the form:

C(x) =


is

x

ki ^

ci



 ¬(x rj ^ dj ) .
jl

Let M be the least common multiple of all the ki's and rj 's involved in the definition of C(x). By the Observation,  is M -regular or we can find an M -regular group M and a coset that intersects S^ and its complement. We first assume the existence of a non-trivial convex subgroup M and a coset  + M such that S^  ( + M )   and S^c  ( + M )  . Let Y = C(x)  (U1  ( + M )).

Claim: If Y  , then C(x) is co-initial in U1.

Proof. Let x0  Y and U  = U1  ( + M ) - x0, this a a definable end-segment of M without a minimum. Fix an element   U , as U  does not have a minimum and M is M -regular we can find an element   M such that M   U  and M  < . Then z = M  + x0  Y and z < x0 + , thus C(x) is co-initial in U1.

Likewise, if ^ is M -regular we can conclude that C(x) is co-initial in U1. Consequently, the congruence restrictions are irrelevant in the definition of the end-segment S. It must be the case then that S = U1, as desired.

Despite the fact that it seems that any divisibility cut defined by a formula of the form nx   where n  N1,   {, >} and    could be coded by , the statement is false and requires a slightly more delicate treatment. We introduce the following example to motivate the reader to not dismiss the technical work in
Lemma .

Example 3.4. Consider the ordered abelian group (Z2, <lex, +, 0) where Z2 is the direct sum of Z with itself equipped with the lexicographic order. Consider the definable end-segment S = {z  Z2 2z  (1, 1)}. Note that for any   Z, if we take (1, ) then S is also defined by the formula 2z  (1, ).

Lemma 3.5. Let  be an ordered abelian group of bounded regular rank. Let {0} = 0  1      l = 
be the sequence of convex subgroups witnessing that  has finite n-regular rank. Then any divisibility endsegment S defined by a formula nx   where n  N1,   {, >} and    is coded by a tuple of elements in the sorts   { i i  l}.

Proof. We argue by induction over the n-regular rank of  that S can be coded in the sorts   { i i  l}.

For the base case, and we suppose that  is n-regular. We first assume that  is dense, and we aim to prove

that  and S are interdefinable. It is clear that S  dcleq(). For the converse let  be any automorphism

of the monster model M and suppose that ()  . Without loss of generality,  < (). By density we

can find n-elements in the interval (, ()). By n-regularity and density there is an element  such that

 < n < (). Thus (S)  S.

We now assume that  is discrete and let 1 be its minimal element. There is a unique natural number

0  i  n - 1 such that  + i is n-divisible, because {,  + 1, . . . ,  + (n - 1)} is an interval with at least

n-elements.

Let

i0

be

the

index

such

that

 + i0

is

n-divisible,

then

xS

if

and

only

if

nx   + i0,

thus

+i0 n

is the minimal element of S and thereby it is a code for S.

We proceed to show the inductive step, and we consider the sequence {0} = 0  1      l+1 =  witnessing that  has n-regular rank equal to l + 1. Let 1 =    1 be the canonical projection map, and note that  1 is an ordered abelian group of n-regular rank l. First we suppose that 1() is not n-divisible, then S is interdefinable with S1 = {   1 n > 1()}. By the induction hypothesis, such end-segment can be coded in the sorts  1  {( 1) (i 1) 2  i  l}. As each of the sorts ( 1) (i 1) can be canonically identified with  i, the conclusion of the statement follows. We consider the case where 1() is n-divisible, i.e. there is some    such that n1() = 1(). Note that 1() = min(S1). If 1 is discrete, then S has a minimum and this minimal element is a code for S, thus without loss of generality 1 is dense. We aim to show that  and S are interdefinable. In fact, let  be an automorphism of the monster model M fixing S, we want to show that it fixes also . We argue by contradiction, and we assume that  < (). As 1()  dcleq(S), then () -   1. Fix some element    such that n + 1 =  + 1. We can find elements 1 < 2  1 such that  = n + 1 and

7

() = n + 2. By n-regularity and density of 1 we can find an element   1 such that 1 < n < 2, so we have  < n( + ) < () and hence S  (S), as desired. Proposition 3.6. Let  be an ordered abelian group of bounded regular rank, and let S   be a definable end-segment. Then S is interdefinable with a tuple of elements in the sorts   {    RJ()}. Consequently, any initial segment is also coded in the sorts   {    RJ()}. Proof. By Proposition 3.3 it is sufficient to code divisibility end-segments. We may assume that S = {   n +    + }. Therefore S is interdefinable with S = {z    nz  ()}; this is a definable end-segment in  . The statement follows immediately from Lemma 3.5 combined with Fact 2.14. The second part of the statement follows by noticing that any initial segment is the complement of an end-segment.
The following will be a useful fact to obtain our results.
Fact 3.7. Let C be a mid-segment and X be a definable set such that C X   . Then there is a mid-segment C such that:
· for any x  , x  C  X if and only if x  C  X, · X is co-initial and cofinal in C.
Proof. Assume that C = U  L, where U is an end segment and L is an initial segment and let X be a finite congruence restriction. Let Y = {   U  (-, ]  X = }; this is a definable initial segment of . Let U  = U Y . Then z  U  X if and only if z  U   X, and X is co-initial in U . Likewise, we can replace L by L, and taking C = U   L gives the desired result.

4 An abstract criterion to eliminate imaginaries
The following is Theorem 6.3 in [13].
Theorem 4.1. Let T be a first order theory with home sort K. Let G be some collection of sorts. If the following conditions all hold, then T has weak elimination of imaginaries in the sorts G.
1. Density of definable types: for every non-empty definable set X  K there is an acleq(X)-definable type in X.
2. Coding definable types: every definable type in Kn has a code in G (possibly infinite). This is, if p is any (global) definable type in Kn, then the set p of codes of the definitions of p is interdefinable with some (possibly infinite) tuple from G.
Proof. See Theorem 6.3 in [13]. Note that the first part of the proof shows weak elimination of imaginaries as it is shown that for any imaginary element e we can find a tuple a  G such that e  dcleq(a) and a  acleq(e).
We will use this criterion to prove that any pure ordered abelian group with bounded regular rank admits weak elimination of imaginaries once the quotient sorts are added.

Coding of definable types

In this subsection we show that any definable type p(x) can be coded in the quotient sorts.

Proposition 4.2. Let  be an ordered abelian group and p(x)  Sn() be a definable type. Then p(x) can be coded in the quotient sorts.

Proof. Let p(x) be a definable type in n variables over . By the quantifier elimination (Theorem 2.10), p(x) is completely determined by formulas of the form:

· first kind: 1(x, ) = zixi +  <  + k +  or 1(x, ) = zixi +  >  + k +  where   ,  

in

in

RJ() and k, zi  Z.

8

· second kind: 2(x, ) = zixi +l  + k where   ,   RJ (), k, zi  Z and l  N2,
in
· third kind: 3(x, ) = zixi   + k where   ,   RJ(), and zi  Z.
in
The set of element {   1(x, )  p(x)} defines an end-segment of . This set can be coded in the quotient sorts by Proposition 3.3 and 3.6. Likewise, the set of elements {   1(x, )  p(x)} defines an initial segment of , so it can be coded in the quotient sorts. Let X = {   2(x, )  p(x)}, then X is either empty or we can take 0  X and X is interdefinable with l (0)    + l. Finally, the set of elements Z = {   3(x, )  p(x)} is either empty or for any element 0  Z, we have that Z is interdefinable with (0)   .

Density of definable types

Definition 4.3. Let S   be a definable end-segment. Let

gen
S

(x)



=

{x



S}



{x



B

B  S and B is a definable end-segment }.

We refer to this partial type as the generic co-initial type in S.

This partial type is definable and it seems we could be very closed to constructing definable types in each end-segment, and more generally over any 1-definable set. The quantifier elimination in fact states that it is only left to complete this type with the congruences, however this requires a delicate treatment on choosing adequately a coset that is in fact algebraic over the code of S. For this purpose we prove a sequence of lemmas.

Lemma 4.4. Let  be an ordered abelian group of bounded regular rank and let S   be a definable end-

segment. Let Y be a conjunction of basic positive congruence formulas, Z a conjunction of basic negative

congruence

formulas,

H

 RJ()

and

k

 N2.

Suppose

that

Z

=


1is

nii

(x)



i

and

assume

that

the

partial

type

p(x)

=

gen
S

(x)



{x



Y

}



{nii

(x)



nii

()

  , 1  i  s}

is consistent. We assume that there are finitely many cosets modulo H + k co-initial in S  Y  Z, then there are finitely many cosets modulo H + k co-initial in S  Y .

Proof. First we argue that without loss of generality we may assume that Y defines a subgroup of . Fix an element y  W and consider the map

fy = x

  x - y.

This is a definable bijection. In particular for any subgroup   RJ() and m  N the coset  +  + m is

being sent to the coset ( - y) +  + m. In particular, any basic congruence formula m(x) =  mentioned

in Y is being sent to the formula m(z) = 0. Likewise, any basic negative formula mentioned in Z, say of

mthoedfuolromH+niki (x)co-iniit, iaisl

being sent in fy(S  Y

to )

tfhye(Zfo)r,mbueclaausneiif(yz

)  (i - nii (y)). There are finitely is a definable bijection and there are

many classes finitely many

cosets of H + k co-initial in S  Y  Z. Therefore, without loss of generality we may assume that Y defines

a subgroup of , because there are finitely many classes of H + k co-initial in S  Y if and only if there are

finitely many classes of H + k co-initial in fy(S  Y ).

We aim to show that any coset modulo H +k that is co-initial in SY Zc is also co-initial in SY Z. Let

d¯ be a coset of H +k co-initial in S Y Zc. Let a be a realization of the partial type p(x) and let µ = Hk (a).

Claim: For every   S  Y there is some z  (S  Y )  Z such that z <  and Hk (z) = µ + d¯- Hk ().

Proof. Let   S  Y and consider the definable bijection:

f = r

  r - ,

9

Then, this is

f(S Y ) = (S  a symmetric set

Y )- and d¯-Hk () is that contains the zero

a co-initial class in f(S Y ). element. Note that d¯- k ()

Let  = f (S  is cofinal in ,

Y )-(f in fact it

(S Y )), is cofinal

in -f(S  Y ) because d¯- k () is co-initial in f(S  Y ). Then, we can find an element  > 0 such that

Hk () = d¯- Hk () because 0  . Let w be a realization of the partial type f p(x)  {Hk (x) = µ} . In par-

ticular for any for all   .

1



i



s,

w

is

chosen

avoiding

all

the

existing

cosets

of

i

+

ni

in

,

this

is

nii (w)



nii ()

Figure 1

w - w + 



0

We continue proving that the following conditions hold:

1. w +   f(S  Y ) and w +  < 0,

2. Hk (w + ) = µ + d¯- 2Hk (),

3. for each 1  i  s, we have nii (w + )  i - nii ().

For (1), note that w  f(S  Y ), because it is a realization of the type f p(x)  {Hk (x) = µ} . Also, w < w +  because  > 0. Thus w +   f(S), since f(S) is an end-segment. Note that f(Y ) = Y , because

Y is a subgroup of  and   S  Y . Therefore, as w,   Y we have that w + y  Y , and we conclude that

w +   f(S  Y ). For the second part, note first that -  f(S  Y ) by symmetry of . We must have then

that w < -, because w is a realization of the generic co-initial type of f(S). As a result, w +  < 0. For (2),

we note that Hk (w + ) = Hk (w) + Hk (). We picked  such that Hk () = d¯- Hk () and by construction

Hk (w) = µ - Hk ().

We finally argue for (3), and we

w was chosen Consequently,

stuhcehetlhematentnizi (=w)

o+b(siwe-r+ven)tiih.saattifsofireesatchhe1reqiuirsedwceohnadviteiothnastof nthii(ewC+lai)m.

i

-

nii

(),

because

As a result, the class d¯ is also co-initial in (S  Y )  Z. In fact we can take a decreasing co-initial sequence

of elements <     > such that for is some z  (S  Y )  Z such that z < that d¯ is also co-initial in (S  Y )  Z.

any  < , Hk (  and Hk (z) = Therefore, there

) = µ. By the previous Claim, for each d¯. Therefore, the sequence < z    are finitely many cosets of H + k in

 <  there > witnesses (S  Y ), as

required.

Lemma 4.5. Let  be an ordered abelian group of bounded regular rank and S   a definable end-segment. Let X = Y  Z be a finite congruence restriction that is co-initial in S, where Y is a finite conjunction of
positive basic congruence formulas while Z is a finite conjunction of negative basic congruence formulas, i.e. Z is a formula of the form  kii (x)  i.
il
Then there is a partial consistent type (x) such that:

·

gen
S

(x)



{x



Y

}



(x)

and

(x)  {x  Z}

is

consistent.

· For any 1  i  l, either {kii(x)  kii ()   }  (x), or there is some    such that kii (x) = kii ()  (x) and kii ()  acleq(S  Y ).
Proof. We define inductively a sequence of partial consistent types (i(x) i  l) satisfying the following conditions:

1.

gen
S

(x)



{x



Y

}



0(x),

2. for each i < l, i(x)  {x  Z} is consistent and i+1(x)  i(x),

3. for each 1  i  l, we decide the congruence of i + ki, so either {kii (x)  kii ()   }  i+1(x), or there is some i   such that kii (x) = kii (i)  (x) and kii (i)  acleq(S  Y ).

10

We set 0(x) = gSen(x)  {x  Y }, because Y  Z is co-initial in S then 0(x)  {x  Z} is consis-

tent. Suppose that i(x) has been defined. If i(x)  {kii(x)  kii()   } is consistent we set

i+1(x) = i(x)  {kii (x)  kii ()   }. Otherwise, by compactness we can find a finite

conjunction

(x)

of

formulas

in

i(x)

and

a

finite

set

of

con-

gruences {1, . . . , l} such that (x)   kii(x) = j. Let a be a realization of the partial type i(x){x  Z},

jl

then there is some ^  sufficient to argue that

{1, . . . , l} ^  acleq(S

suYch)t.hWat ithkoiiu(ta)lo=ss^o. f

We define generality

i+1(x) we may

= i(x)  {kii (x) assume that

=

^}.

It is

(x) = x  S B  Y  C+  C-,

where C+ is a finite conjunction of basic positive congruence formulas and C- is a conjunction of basic negative congruence formulas and B  S is a divisibility end-segment. Let W = S  (Y  C+). The code of this set W   acleq(S Y ), because by construction all the cosets fixed in C+ lie acleq(S Y ). Thus, it is sufficient to prove that ^  acleq(W ) and we observe that only finitely many cosets module i + ki are co-initial in W  C-, because there are only finitely many cosets which are co-initial in (x) as (x)   kii(x) = j.
jl

If a basic negative congruence formula of the form kjj (x)  j appears in C-, is because in a previous

stage j < the latter

i we defined j+1 is consistent. By

(x) = {kjj (x)  kjj ()   }  Lemma 4.4, there are only finitely

j(x). By condition (2), j+1(x) many cosets module i + ki that

 i(x) and are co-initial

in W . Therefore, the formula stating that a coset modulo i + ki is co-initial in W , which is first order

expressible, witnesses that ^ is algebraic over W , as required.

Taking (x) =  i(x), we obtain the partial type that we were looking for.
il
Lemma 4.6. Let  be an ordered abelian group of bounded regular rank and S   be a definable end-segment. Let X = Y  Z be a congruence restriction which is co-initial in S, where Y is a finite conjunction of positive basic congruence formulas and Z is a finite conjunction of basic negative formulas. Let {k k  N} be some fixed enumeration of D = {  RJ() S does not have a minimum}. Let  = N  N × N1 be some fixed bijection. Then there is a sequence of partial types (n(x) n  N) satisfying the following conditions:
1. Sgen(x)  0(x).
2. For every n  N, n(x)  {x  X} is consistent and n+1(x)  n(x).
3. For every n  N, let (n) = (k, l). To define n+1(x) we decide the congruence modulo k + l. This means that exactly one of the following two conditions hold:

· n+1(x) = n(x)  {l k (x)  l k ()   }, or · n+1(x) = n(x)  {l k (x) = l k ()} for some    and l k ()  acleq(S  Y ).
Proof. We proceed by induction on n. For the base case let

0

(x)

=

(x)



gen
S

(x)



{(x)

=

min(S)

  RJ() D},

where (x) is the partial consistent type type given by Lemma 4.5. Suppose that n(x) has been defined and let (n) = (k, l). If the congruence of k + l has been already decided in n(x) we set n+1(x) = n(x). Otherwise, if n(x)  {l k (x)  l k ()   } is consistent, let

n+1(x) = n(x)  {l k (x)  l k ()   }. If it is inconsistent, by compactness there is a finite conjunction (x) of formulas in n(x) and a finite set of classes µi = l k (i) for some i  , such that

(x)   l k (x) = µi.
is

11

Let a be a realization of n(x). In particular  (a) so there is some congruence µ^  {µ1, . . . , µs} such that

l k (a) = µ^. We define it is sufficient to argue

n+1 that

(x) µ^ 

a=cleqn((xS)Y{)l. kW(xi)th=oµ^u}t. loBsys

construction of generality

this type is consistent. we may assume that

Therefore,

(x) = S B  (x) = min(S)  Y  C+  C-,

where C+ is a conjunction of basic positive congruence formulas that in previous stages we were forced to chose in a class. While C- is a finite conjunction of basic negative formulas. In fact the cosets mentioned in C- are those that in previous stages we have decided that x lies in a different coset than all the elements in . And B  S is a proper definable end-segment. Let W = (S  (x) = min(S))  (Y  C+). The code W   acleq(S  Y ), because min(S)  dcleq(S) and by construction all the congruences that appear in C+ lie in acleq(S  Y ).

Thus, it is sufficient to prove that µ^  acleq(W ). We observe that only finitely many cosets module k + l are co-initial in W  C-, because there are only finitely many cosets which are co-initial in (x) as (x)   l k (x) = µi.
is
By Lemma 4.4, there are only finitely many cosets modulo k + l co-initial in W . Therefore, the formula stating that the coset µ^ is co-initial in W witnesses that µ^  acleq(W )  acleq(S  Y ) as required.
Proposition 4.7. Let  be an ordered abelian group of bounded regular rank and X   be a definable set. There is a global type p(x)  x  X such that p(x) is definable over acleq(X).
Proof. Let X   be a 1-definable set. By Corollary 2.13 X is a finite union of nice sets Ci  Xi, where each convex set Ci = Ui  Li where Ui is a divisibility end-segment and Li is a divisibility initial segment. Without loss of generality we may assume that S = U1 is the smallest end-segment in this decomposition, i.e. for any other index i, we have Ui  U1. In view of Fact 3.7, we may assume that Y =  Xi is co-initial in S. In
ik
particular, there must an index i0 such that Xi0 is co-initial in S, let Z = S  Xi0 then Z  acleq(X). If Z has a minimum m, then the statement follows trivially. If Z does not have a minimum, we can apply Lemma 4.6 to obtain a sequence (n(x) n  N) of partial types and let (x) =  n(x) and let p(x) be
nN
any completion of (x). By the quantifier elimination the type p(x) is completely determined by the data in (x), which by construction is definable over acleq(Z)  acleq(X) as required.

5 Main Results
Theorem 5.1. Let  be an ordered abelian group of bounded regular rank (equivalently with finite spines). Then  admits weak-elimination of imaginaries in the language LQ, once the quotient sorts are added.
Proof. By Theorem 4.1 , it is sufficient to check that we have density of definable types and that we can code definable types in the quotient sorts. The first condition is Proposition 4.7 and the second one is Proposition 4.2.

5.1 The dp-minimal case
In this section we show that a better statement can be achieve for the dp-minimal case. By Proposition 2.16, an ordered abelian group is dp-minimal if and only if it does not have singular primes, i.e. for any prime number p, [  p] < . We consider the laguage Ldp exteding LQ, where for each   RJ() and k  N2, we add a set of constant k   which is a complete set of representatives for the cosets of  + k in .
Corollary 5.2. Let  be a dp-minimal ordered group. Then  admits elimination of imaginaries in the languange Ldp, where the quotient sorts are added.
Proof. By Theorem 5.1 and Fact 2.2 it is sufficient to show that we can also code finite sets. Since we added constants to distinguish each of the elements in the quotients   + k, it is enough to prove that finite sets of tuples in S = {    RJ()} can be coded in the quotient sorts. As each of the sorts   is linearly ordered, there is a definable order induced over the finite products of quotients of  , and thereby any finite set of tuples in S is already coded in S.

12

References
[1] R. Farré, Strong ordered abelian groups and dp-rank, Pre-print: http://arxiv.org/abs/1706.05471 . [2] R. Cluckers and I. Halupczok, Quantifier elimination in ordered abelian groups, Confluentes Math. 3 (2011), no. 4, 587­615. [3] Y. Gurevich and P. H. Schmitt, The theory of ordered abelian groups does not have the independence property,Trans. Amer.
Math. Soc. 284, (1984) no. 1, 171­182. [4] E. Hrushovski, Imaginaries and definable types in algebraically closed valued fields, Valuation theory in interaction, EMS
Ser. Congr. Rep., Eur. Math. Soc., Zürich, (2014), 297-319. [5] A. Robinson and E. Zakon, Elementary properties of ordered Abelian groups, Trans. Amer. Math. Soc. 96, (1960), 222-236. [6] V. Weispfenning, Elimination of quantifiers for certain ordered and lattice-ordered abelian groups, Bull. Soc. Math. Belg.
Sér. B 33 (1981), no. 1, 131­155. [7] O. Belegradek, Poly-regular ordered abelian groups, in: Yi Zhang (Ed.), Logic and Algebra (Contemp. Math. 302), AMS,
Providence, RI, (2003). [8] F. Jahnke, P. Simon and E. Walsberg, Dp-minimal valued fields, The Journal of Symbolic Logic, 82(1), 151-165.
doi:10.1017/jsl.2016.15 . [9] M. Aschenbrenner, A. Chernikov, A. Gehret, and M. Ziegler, Distality in valued fields and related structures, Pre-print:
https://www.math.ucla.edu/~matthias/pdf/DistalExamples.pdf . [10] Y. Gurevich and P. Schmitt, The theory of ordered abelian groups does not have the independence property, Trans. Am.
Math. Soc. 284(1),(1984), 171­182. [11] Y. Haleviand A. Hasson, Strongly dependent ordered abelian groups and Henselian fields. Isr. J. Math. 232, (2019), 719­758.
https://doi.org/10.1007/s11856- 019- 1885- 3 . [12] A. Dolich and J. Goodrick, Strong theories of ordered Abelian groups, Fundamenta Mathematicae volume 236 (2017),
number 3, p. 267-296. [13] Will Johnson, PhD thesis, Fun with fields, University of California at Berkeley, (2016). [14] S. Shelah, Classification theory, North Holland P.C., Amsterdam,(1978). [15] M. Makkai, A survey of basic stability theory with particular emphasis on orthogonality and regular types, Israel Journal
of Mathematics, 49 (1984), 181-238. [16] M. Liccardo, Elimination of imaginaries in lexicographic products of ordered abelian groups,
https://arxiv.org/abs/2105.14646 .
13

