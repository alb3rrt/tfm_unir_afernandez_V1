Background Independence and Quantum Causal Structure
L. Parker and F. Costa Centre for Engineered Quantum Systems, School of Mathematics and Physics, University of Queensland, QLD 4072 Australia
One of the key ways in which quantum mechanics differs from relativity is that it requires a fixed background reference frame for spacetime. In fact, this appears to be one of the main conceptual obstacles to uniting the two theories. Additionally, a combination of the two theories is expected to yield non-classical, or "indefinite", causal structures. In this paper, we present a backgroundindependent formulation of the process matrix formalism--a form of quantum mechanics that allows for indefinite causal structure--while retaining operationally well-defined measurement statistics. We do this by postulating an arbitrary probability distribution of measurement outcomes across discrete `chunks' of spacetime, which we think of as physical laboratories, and then requiring that this distribution be invariant under any permutation of laboratories. We find (a) that one still obtains nontrivial, indefinite causal structures with background independence, (b) that we lose the idea of local operations in distinct laboratories, but can recover it by encoding a reference frame into the physical states of our system, and (c) that permutation invariance imposes surprising symmetry constraints that, although formally similar to a superselection rule, cannot be interpreted as such.

arXiv:2106.01038v2 [quant-ph] 3 Jun 2021

I. INTRODUCTION
In a quantum theory of gravity it is expected that spacetime itself will be quantised, giving rise to indefinite, or `quantum', causal structures [1, 2]. The process matrix formalism was developed to describe these causal structures [3]. In fact, it describes the most general causal relations between a finite set of regions, or `parties', compatible with the local validity of quantum mechanics in each region. However, the framework relies on an a priori labelling of the parties, which tacitly presupposes the existence of a background reference frame. This is in conflict with the background independence of general relativity, which associates no absolute meaning to individual spacetime points or regions [4, 5]. Incorporating background independence into the quantum formalism is in fact one of the main challenges in the development of a theory of quantum gravity [6, 7].
In order to represent a viable approach to quantum gravity, the process matrix formalism should be able to describe indefinite causal structures without reference to a fixed background. Here, we show how this can be done. We treat a process matrix as a particular configuration of a discretised spacetime, with laboratories that correspond to the discrete units of that spacetime. A process
 l.parker@uq.net.au  f.costa@uq.edu.au

matrix will be background independent if it is invariant under any arbitrary permutation of `laboratories' or volumes of spacetime.
In this paper, we introduce background independent processes and describe some of their properties. First, we note that non-classical causal structures still arise in permutation-invariant processes. We show that imposing permutation invariance results in the loss of a distinction between spacetime points. As in general relativity, one recovers a distinction between spacetime points by using a material reference frame (a reference frame made up of physically observable systems, the `rods and clocks' picture).
Finally, we discuss the symmetry properties of permutation-invariant processes. We expect permutation-invariant processes to obey a superselection rule (no coherence between different `charges') but observe, surprisingly, that not all processes obeying the superselection rule are physically valid. We show explicitly why this occurs in the case of a bipartite qubit process (where a `qubit' process is just one with two-dimensional local Hilbert spaces). We also present a partial proof generalising that result to any process matrix dwelling in the symmetric or antisymmetric subspaces of the symmetric group. Our results suggest that no invariant processes with a definite charge may exist, although more work will be needed to substantiate this conjecture. The breakdown in the association between symmetries and superselection rules indicates

2

that background independence in quantum mechanics cannot be interpreted analagously to other known symmetries of nature, and that a new interpretation may be necessary.
II. THE PROCESS MATRIX FORMALISM
The process matrix formalism is a framework for quantum mechanics that does not assume any global background causal structure, just that quantum mechanics is obeyed locally. Conceptually, it extends quantum mechanics in a similar way in which, relaxing global Lorentz invariance, one can extend special relativity to general relativity. Relaxing the assumption of causal structure allows one to obtain new, `indefinite' causal relations that are incompatible with a fixed ordering of events. Relationships of this type have been observed in the laboratory [8­16], where the lack of causal order arises from temporally delocalised events, rather than from a quantum spacetime. Much of the experimental interest derives from the applications of indefinite causal relations to computation and communication [17­25]. Here, we briefly describe the aspects of the process formalism that are relevant to this work. For more details, see references [3, 26, 27].
The simplest way to think of process matrices is as follows. Consider a system of N laboratories. Each laboratory is occupied by an experimenter capable of performing all of the preparations, operations, and measurements compatible with the standard measurement formalism of quantum mechanics. Formally, this means that each experimenter has the ability to perform a quantum instrument --a set Ix = {MXi }ni=1 of completely positive (CP) maps that sum to a completely positive and trace preserving (CPTP) map. The superscript X denotes that the maps MX : L HXI  L HXO act on laboratory X. The Hilbert spaces HXI , HXO , respectively represent the incoming and outgoing state-spaces of laboratory X, with L (H) denoting the linear operators on H.
Consider the case where we have two parties, Alice and Bob, who respectively have access to instruments IA = {MAi } and IB = {NjB}. The probability that Alice and Bob realise a particular combination of operations MAi , NjB is given by some probability distribution P (MAi , NjB). To be consistent with quantum mechanics, P must be a multilinear map [26]. The

Choi-Jamiolkowski isomorphism [28, 29] allows us to represent these operations by sending CP maps MX to positive semidefinite linear operators MiXI XO := [I  MXi (|+ +|)]T  L(HXI  HXO ), where |+ =
i |i XI  |i XI is a non-normalised maximally entangled state and T denotes transposition in the com-
putational basis. These operators act over an input
Hilbert space XI and an output Hilbert space XO.
In this representation, the trace preserving condition
reads TrXO M XIXO = ½XI ; this means that, for a
set of maps that form an instrument, we must have
½ TrXO [ i MiXI XO ] = XI .
Our complete list of probabilities P now becomes a
multilinear map over linear operators. This map is
equivalent to [30, prop. 2.38]

P (MiAI AO  NjBI BO )

= Tr W AI AOBI BO · (MiAI AO  NjBI BO ) ,

(1)

for some linear operator W AIAOBIBO  L(HAI AOBI BO ). W AIAOBI BO is called a process matrix, and is the gen-
eralisation of a joint quantum state (from the point of view of a probability measure) to correlations that can be spacelike, timelike, or neither--those with indefinite causal structure. Process matrices must satisfy the constraints

W AI AOBI BO  0,

(2)

Tr W AI AOBI BO · (M AI AO N BI BO ) = 1,

(3)

M, N  0, TrAO [M AIAO ] = ½AI , TrBO [N BI BO ] = ½BI ,

which ensure that probabilities are nonnegative and sum
to one. We have left out tensor product symbols for
convenience, and will continue to do so where it is clear. In a Hilbert-Schmidt basis, i.e. a basis {iX } of
L (H) satisfying 0X = ½X , Tr iX jX = dX ij, (dX :=
dim(HX )) and Tr iX = 0 for i > 0, a process matrix can be represented as

W AI AOBI BO =

wijkl iAI jAO kBI lBO ,

(4)

ijkl

where wijkl  R since W AIAOBIBO is hermitian. The probability normalisation requirement forbids cer-
tain Hilbert-Schmidt terms from appearing in the decomposition of an allowed process. We call terms with identity on all outputs except X type X process terms,

3

all outputs except X, Y terms of type XY etc. Forbidden bipartite process terms are terms like AO, BO, AOBO, AI AOBO, AOBI BO, and AI AOBI BO. We require that Tr[W ] = 0 for any such terms . Thus, we effectively have linear constraints on the matrix elements of allowed processes.
One consequence of not making a priori assumptions about the causal structure is the appearance of novel types of causal order that cannot be expressed in the standard formalism of quantum mechanics. Process matrices can be causally ordered, which corresponds to the familiar situation where A comes before B comes before C, or they can be causally separable, convex combinations of processes that have different causal orders such as `A before B' and `B before A', representing classical ignorance of causal order. One novel aspect of the process matrix formalism is that one can also have indefinite causal order, where it does not make sense to say that `A is before B' or vice versa: there are signalling correlations from A to B and also from B to A, which cannot be interpreted as classical ignorance.
Throughout this section we have only discussed bipartite processes, for simplicity. Everything we have discussed generalises straightforwardly to an arbitrary number of parties. We refer the reader to references [3, 26, 27, 31­33] for a more complete discussion.
Finally, note that although we refer to the local regions in process matrices as `laboratories', this is not an essential interpretation. Rather, here we will treat the process matrix as a discretised model of spacetime, with local regions corresponding to points in spacetime, without having an a priori global causal structure.
III. WHY PERMUTATION INVARIANCE?
By thinking of a process matrix as representing a particular configuration of a discrete spacetime, we can make an analogy between background independence in the process matrix formalism and background independence in general relativity.
In general relativity, background independence is a consequence of the fact that observable quantities must be invariant under any arbitrary coordinate transformation. Formally, these transformations are smooth, invertible mappings from a manifold to itself, and are called diffeomorphisms.
In the process matrix formalism, the statistical proper-

ties of observables are given by e.g. eq. (1), the Born-rule generalisation for processes. In general, eq. (1) generates a multipartite probability distribution P (i1, ..., in) given a particular process W . Although P does not assume any causal structure, it does in general assume that it is possible to distinguish between and label the different laboratories. Operationally, this implies the existence of some background reference frame, which allows one to determine that outcome i1 corresponds to party 1, outcome i2 to party 2, and so on. In a backgroundindependent theory, such a labelling should not be possible. As a consequence, the probability distribution P must be invariant under permutation of the parties, i.e. P (i1, i2, ..., in) = P (i(1), i(2), ..., i(n)), for all permutations . Permutation invariance as a discrete analogue of diffeomorphism invariance is also discussed, for example, in Ref. [34].
Invariance under permutations is a particular case of invariance under an arbitrary symmetry group. A general framework for dealing with this has been developed in Ref. [35]. Although this framework deals with Lie groups rather than finite groups (such as permutations), the main results, which we will use below, also hold for finite groups.
First, we must introduce a mathematical representation for permutations, which we will use throughout the paper. Just as the group of diffeomorphisms are represented by a (continuous) diffeomorphism group, the (finite) group of permutations of a set of n elements is known as the symmetric group and is denoted Sn.
We define the representation of the symmetric group Sn on the space of n-party process matrices as the map from elements g  Sn to operators Ug such that UgW Ug performs a permutation on the laboratories. For example, the action of the `swap' permutation UAB on a bipartite process in the Hilbert-Schmidt basis is





UAB 

ijkl iAI jAO kBI lBO  UA B

ijkl

=

ijkl kAI lAO iBI jBO . (5)

ijkl

Note that input and output spaces are always swapped together. In order to make permutations well-defined, we assume that the input spaces of all laboratories have equal dimensions, and similarly all output spaces. It is not difficult to generalise, but we will not do so here [36].

4

We say that a linear operator A (which can be a process matrix or a measurement, or more generally even a quantum state or POVM element) is permutation invariant if it is unchanged by the action of any permutation, i.e. UgAUg = A, g  Sn. Equivalently, A is permutation invariant if G[A] = A, where G is the twirl operation,

G[W ]

:=

1 n!

UgW Ug,

(6)

gSn

IV. PROCESS MATRICES WITHOUT SPACETIME EVENTS.
Now we can formalise the ideas we introduced in the previous section. Our overarching goal is to develop a framework for processes in which measurement statistics are permutation-invariant, so that the processes are background-independent. We find that there are different ways to achieve this.
Permutation-invariant measurement statistics are implied by permutation-invariant measurements: If M = G[M ] (i.e. the joint measurement operator M  M1AM2B..., is permutation-invariant), then Tr[W M ] = Tr W UgM Ug g  Sn. However, Tr W UgM Ug = Tr UgW UgM , so W = G[W ] also implies that measurement statistics are invariant, even if M = G[M ]. Finally, the measurement statistics will be permutationinvariant if both W and M are permutation-invariant. We mention this because each choice corresponds to a different interpretation or philosophy of background independence:
If measurement operators are permutation-invariant, but not the processes themselves, then we can think of processes as being described relative to some fixed background that we cannot access, so that we are restricted to using permutation-invariant measurements.
If process matrices are permutation-invariant, but not the measurement operators, then we can say that we are making measurements relative to some background reference frame, but that what we observe is permutationinvariant--choosing a different reference frame will give us the same statistics.
If both process and measurements are permutationinvariant, then we have totally abandoned the concept of a reference frame as a physically meaningful idea.
It is sometimes convenient to focus on one of these three mathematically equivalent points of view. For

example, by requiring that process matrices W are permutation-invariant, W = G[W ], we can see that even with as strict a constraint as permutation-invariance one still obtains nontrivial behaviour of processes. Consider the process matrix

W

=

1 4

½4 + a0z½z½ - a1(z½½½ + ½½z½)

- a2(z½½z + ½zz½) + a3(z½zz + zzz½)

+ a4(z½xx - z½yy + xxz½ - yyz½) ,

(7)

which was presented in reference [37], with coefficients a = (0.0390, 0.3355, 0.2451, 0.4291, 0.2097). In eq. (7) we have omitted labels, so that ABCD = AAI BAO CBI DBO . As shown in [37], this process can violate a causal inequality--a device-independent test for indefinite causal order similar to a Bell inequality. Therefore, it represents a minimal example of permutation-invariant process with no definite causal order (in the sense that it involves only two parties, each with a single-qubit system).
There is another significant consequence that arises from imposing permutation invariance on process matrices. Consider, for simplicity, the framework in which we impose permutation invariance on processes but not on measurements. Take a process representing a state  prepared in laboratory A and sent to laboratory B
through a channel T , W = ½ AI T AOBI BO . This is
not permutation-invariant: A can signal to B, but B cannot signal to A. We can make the process invari-
ant by taking the mixture W inv = ½ (AI T AOBI BO + ½ BI T BOAI AO )/2, noting the change in superscripts in
the second term. W inv may be permutation-invariant, but we have lost the ability to determine whether the state  was prepared in laboratory A and then sent to laboratory B, or the reverse: we cannot perform a measurement that will tell us where the state preparation occurred. We have lost a way to label laboratories or, equivalently, a definition of spacetime points-- we no longer have a reference frame for spacetime. This appears to be a general feature of backgroundindependence, as it is also found in general relativity. A striking consequence is that permutation-invariant processes cannot be causally ordered, except for the trivial case of non-signalling processes.
A related phenomenon is that one cannot have an instrument where all operations are (a) products of local

5

operations, and (b) permutation-invariant (aside from the degenerate case where each of the measurement operators Mi = NiNi...Ni act identically on every laboratory). This arises because any permutation invariant product of local measurement operators Mi1 Mi2 ...Min must satisfy M = UgM Ug for all Ug and therefore Mi = Mj for all i, j. This might appear alarming: one of the fundamental tenets of the process matrix formalism is that measurements can be performed locally. However, in the next section we will discuss how a definition of locality can be recovered.

V. INVARIANCE WITH A REFERENCE FRAME.

Although in the previous section we found that permutation invariance removes the distinction between points in spacetime, it is possible to recover a definition of spacetime points using a material reference frame--a `rods and clocks' reference frame constructed out of physical systems. This builds upon results from the theory of quantum communication without a (shared) reference frame [35].
The idea of a material reference frame is to take the original process matrix, which identifies the Hilbert spaces (e.g. AI AO, BI BO etc.) with local regions labelled by spacetime events, and add to each laboratory a physical reference system whose quantum state encodes a label uniquely specifying that laboratory. Then, a local observer can measure this reference system to obtain information about which region of space they occupy. In this way, we have encoded the information from the old abstract reference frame into a physical, observable reference frame.
This being done, the invariant process is simply the sum of all possible permutations acting on the extended process (consisting of the system and referece frame), which gives

W inv

=

1 n!

L(W

),

(8)

where

L(A) :=

UgSRAS [01...(n - 1)]RI ½RO UgSR (9)

gSn

is a superoperator that applies to arbitrary operators (not necessarily process matrices). In eq. (9), the su-

perscript on AS denotes that it is a part of the system space S = SI1SO1 ...SInSOn , while the superscripts R = RI RO = RI1RO1 ...RInROn denote the reference frame space, which contains inputs and outputs. We have used the notation [] = | |, so that [01...(n - 1)]RI = |0 0|R1I ... |n - 1 n - 1|RnI . Finally, UgSR = UgSUgR, which acts separately on the system and reference frame spaces. Ug is a representation of the permutation g. This means that a given permutation will act on the input and output spaces of both the system and the reference frame together, so that each reference system remains associated with its corresponding laboratory, and each output space remains associated with its corresponding input space.
Essentially, we have moved from a particular process W to an equivalence class of processes (the terms in eq. (9), related by permutations) described by L(W ), which we treat as the fundamentally meaningful physical object, just as we consider equivalence classes of diffeomorphism-invariant spacetimes as the meaningful physical system in relativity.
Using eq. (9), we can construct permutation-invariant processes that reproduce the statistics of arbitrary, noninvariant processes. However, as a consequence of adding a locally observable reference system to each laboratory, instruments now need to be extended so that the probability of some measurement occurring is one. This completion turns out to be somewhat arbitrary, suggesting that there exist physically distinct instruments that are indistinguishable when using any reference frame.
To obtain permutation-invariant processes and measurements, we use the following maps:

W



W inv



1 n!

L(W

),

MiS1...in  MiS11 ...MiSnn



Mii1n.v..in



L(MiS11 ...MiSnn )

+

1 N dO

(10)
½SR - L ½S .
(11)

W inv and Mii1n.v..in are now invariant under the action of Sn.
In the appendix, we prove that W inv are valid processes, that the Mii1n,v...,in are each valid elements of instruments, and that {i} Mii1n,v...,in is a CPTP map. In addition, we can show that the Born rule is maintained
by the permutation invariance. Using Lemma 2 from the

6

appendix,

Tr W invMiinv

= Tr

1 n!

L(W

)(L(Mi

)

+

1 N

(½SR

-

L(½S ))

= Tr

1 n!

L(W

Mi

)

+ Tr

1 n!

(L(W

)

-

L(W

))

(12)

= Tr

1 n!

L(W

Mi

)

= Tr[W Mi].

In the previous section, we mentioned that it is impossible to have an instrument in which all elements are both permutation-invariant and decompose into a product of local measurements. Since one of the central ideas of the process matrix formalism is locality, this was surprising. Here, we see that, conditionally on measuring in a particular reference frame, the elements of a permutation-invariant instrument once more decompose into local measurements. Thus, we recover our definition of locality and see that it is only meaningful relative to a physical reference frame.

VI. SYMMETRY AND SUPERSELECTION.
Usually, symmetry constraints in quantum mechanics give rise to superselection rules on allowed states. That is, states have some `definite property' and coherences between different `types' of that property cannot exist.
The archetypal example of a superselection rule is a U (1) gauge symmetry. For example, electromagnetism obeys a global U (1) symmetry. This symmetry is associated with a superselection rule for electric charge: states can have any integer value of charge, but they cannot be in a superposition of two different charge values. However, it is possible to have a classical statistical mixture of positive and negative charge, such as for example when there is some classical uncertainty as to the nature of the particle being prepared such as an electron or positron.
The reason superselection rules arise can be seen by decomposing the Hilbert space of states in terms of copies of irreducible representations of the symmetry group (in our case the group of permutations Sn).
A Hilbert space with a representation Ug of a group G can be decomposed into a direct sum of charge sectors Hq, each containing an inequivalent representation of G. Each charge sector can in turn be decomposed into a tensor product of a gauge space Mq, carrying an

irreducible representation of G, and a multiplicity space Nq, carrying an identity representation of G. The entire space decomposes as

H = Mq  Nq,

(13)

q

so that each charge sector contains a number of copies of a particular irreducible representation. Each inequivalent representation corresponds to a different `type' of charge (in the U (1) example, the number of elementary electric charges). In this decomposition, the twirl which, we recall, is the `average over all transformations' superoperator - can be expressed as [35]

G = (DMq  INq )  Pq,
q

(14)

where D is the completely depolarising map that sends each state to the maximally mixed state, I is the identity map, and Pq is the projector onto Hq. Eq. (14) tells us that linear operators that are G-invariant (and therefore twirl-invariant) must decompose as

A=

q

1 dMq

½Mq



ANq ,

(15)

where dMq = dim(Mq). This restriction is a superselection rule: requiring that allowed operators are blockdiagonal in the different inequivalent representations is the same as saying that there can be no coherences between different charges. Additionally, eq. (15) gives us information about the physical degrees of freedom associated with each `type' of charge: for a charge q, the physical state space reduces to the invariant subspace Nq .
So goes the typical interpretation of a superselection rule: physical objects have some well-defined charge that can be subject to classical uncertainty but not quantum indeterminacy. It turns out that, for processes, this standard interpretation fails. The reason it fails is because some inequivalent representations do not contain any valid processes (whether there are no representations that contain valid processes is an open question). Here, we will show that for any n-partite process with two-dimensional (qubit) local Hilbert spaces, the symmetric and antisymmetric representations never contain valid processes. First, we will consider the base case of a bipartite process, and then prove by induction that this

will hold for a process with any number of laboratories, as long as each laboratory carries a single qubit.
A bipartite process with two-dimensional input and output spaces gives rise to a 16-dimensional Hilbert space spanned by |i AI |j AO |k BI |l BO  |ijkl , i, j, k, l  {0, 1}. Permutations of the two laboratories are obtained by the action of S2, which has two elements: the identity element and the swap element UAB |ijkl = |klij . There are two ineqivalent representations, the symmetric and antisymmetric representations (denoted W+ and W-), which are respectively spanned by

S(1) = |ijij , i, j  {0, 1},

(16)

S(2)

= 1 (|ijkl + |klij ), i, j = k, l, 2

(17)

for the `symmetric representation', and

|A

= 1 (|ijkl 2

- |klij ), i, j = k, l,

(18)

for the `anti-symmetric'. In all, the symmetric representation is 10-dimensional, and the antisymmetric is 6-dimensional. The superselection rule tells us that any physically realisable (permutation invariant) process must have the form

W AI AOBI BO = W + + W -,

(19)

where W + =

i,j ij wi+ wj+ and W - =

ij ij wi- wj- , where wi± are respectively basis el-

ements of the symmetric (+) or antisymmetric (-) rep-

resentations given in eqs. (16)-(18).

Matrices of the form of eq. (19) will not in general

be valid processes. Process matrices must also satisfy

eqs. (2) and (II). Solving algebraically for a closed-form

constraint on the diagonals (which can be done with a

computer algebra program such as Mathematica, or by

hand) reveals that the trace of any W + or W - must

be zero. This violates the normalisation constraint of

eq. (II).

We can use the result for bipartite qubit processes

as the base case to show that for any number of qubit

laboratories, there will be no valid processes living in

the symmetric or antisymmetric representations. There

are two essential parts to this argument. The first is

that, given a process matrix W , tracing out any num-

ber of laboratories must result in a valid process. In

7

particular, for a process W S1...Sn with n laboratories,

Tr [W ] 1
dS 1 ...S n \S i S j

S 1 ...S n \S i S j

S 1 ...S n

=


W

S

iS

j

,

where

TrS1...Sn\SiSj denotes the trace over all laboratories ex-

cept Si and Sj and dS1...Sn\SiSj is the dimension of all

the

spaces

except

Si, Sj

,

must

be

a

valid

process.


W

S

i

Sj

is known as a reduced process.

The second part of the argument is that for any state

living in the symmetric (antisymmetric) representation

of Sn, any (n - 1)-dimensional subsystem of that state

will be in the symmetric (antisymmetric) representation

of Sn-1. To see this, observe that we can write any ndimensional state | as

| =

cj |j S1...Sn-1 |j Sn ,

j

(20)

where |j is an (n - 1)-dimensional state, cj are some coefficients, and |j , j = 1, ..., n is a basis state of Sn.
Then, we have

k|Sn |

= k|Sn

cj |j S1...Sn-1 |j Sn

j

= ck |k . S1...Sn-1

(21)

If | lives in the symmetric representation, then Ug | = | g  G. In particular, this holds for all g that leave the state |j Sn in system Sn unchanged. From this, we can see that, for g  Sn-1 and Ug acting on the first n - 1 subsystems,

Ug | = |



cj Ug |j S1...Sn-1 |j Sn

j

=

cj |j S1...Sn-1 |j Sn

j

 k|Sn

cj Ug |j S1...Sn-1 |j Sn

j

= k|

cj |j S1...Sn-1 |j Sn

j

 ckUg |k S1...Sn-1 = ck |k S1...Sn-1

 Ug |k S1...Sn-1 = |k . S1...Sn-1

(22)

Therefore, the |j S1...Sn-1 will all be in the symmetric subspace, and TrSn [| |]/dSn will be a linear combination of operators on the symmetric subspace. This holds analagously for the antisymmetric

8

subspace, where Ug | = sgn(g) | . The same result

holds if we `project out' any number of subspaces. Tak-

ing the partial trace of a matrix in the (anti)symmetric

subspace will therefore result in a matrix that is still

in the (anti)symmetric subspace, where we define the

(anti)symmetric subspace for matrices as the space of

matrices that act on the (anti)symmetric subspace for

states. We will equivalently say that these matrices be-

long to the (anti)symmetric representation.

Combining these two arguments, we see that for an

n-partite process W living in the symmetric (antisym-

metric)

representation

of

Sn,


W

S

i

S

j

must

be

a

valid

bi-

partite process and live in the symmetric (antisymmet-

ric) representation for all i, j = 1, .., n, i = j. But, we

saw that there are no valid symmetric or antisymmet-

ric bipartite processes, so this is a contradiction. This

tells us that there are no symmetric or antisymmetric

n-partite qubit processes. This proof generalises to any

local Hilbert space dimension once one has proved the

base case.

VII. CONCLUSION
In this paper, we have used the process matrix formalism to show that it is possible to describe quantum causal order with background independence built in, under the assumption of a discretised spacetime. We have also seen that some properties of background independent processes have counterparts in general-relativistic background independence, e.g. the `washing out' of spacetime and the need to construct a material reference frame to recover a definition of spacetime points.
Our results show that background independence is consistent with the principles of the process matrix formalism, including, with some reinterpretation, locality-- which must be defined relative to a reference frame. This

follows from our discussion on local vs. background independent measurements.
We also investigated the general symmetry constraints imposed on processes by permutation invariance, and discovered that the constraint is stronger than the typical superselection rule: the standard interpretation is simply that physical systems must have a well-defined `charge', but for permutation-invariance not all charges correspond to physically realisable processes. Instead, valid processes can be block-diagonal combinations of subprocesses that are not themselves physically realisable. This implies that background independence in quantum mechanics cannot be interpreted analogously to other known symmetries of nature, and that a new interpretation may be necessary. Whether or not this `charge' can be taken seriously as a physical quantity is, for the moment, an open question.
Finally, our attention has focused on permutations-- namely relabellings of laboratories. These can be understood as "classical" coordinate transformations, which do not change, for example, whether a particle is localised at a point or in a superposition. It has been proposed that combining quantum mechanics and general relativity requires considering more general, "quantum" coordinate transformations [38, 39]. It is an interesting open question whether it is possible to extend our treatment to include such "quantum relabellings".
ACKNOWLEDGMENTS
This work was partially supported through an Australian Research Council Discovery Early Career Researcher Award (DE170100712). We acknowledge the traditional owners of the land on which the University of Queensland is situated, the Turrbal and Jagera people.

[1] J. Butterfield and C. Isham, in Physics meets philosophy at the Planck scale, edited by C. Callender and N. Huggett (Cambridge University Press, 2001) p. 33, arXiv:gr-qc/9903072.
[2] L. Hardy, (2005), arxiv:0509120 [gr-qc]. [3] O. Oreshkov, F. Costa, and C. Brukner, Nat. Commun.
3 (2012), 10.1038/ncomms2076.

[4] C. Rovelli, Class. Quantum Grav. 8 (1991), 10.1088/0264-9381/8/2/011.
[5] J. D. Norton, in The Stanford Encyclopedia of Philosophy, edited by E. N. Zalta (Metaphysics Research Lab, Stanford University, 2019) summer 2019 ed.
[6] A. Ashtekar and J. Lewandowski, Classical and Quantum Gravity 21, R53 (2004).

9

[7] L. Smolin, in The Structural Foundations of Quantum

Gravity (Clarendon Oxford University Press, Oxford

New York, 2006) p. 196, arXiv:hep-th/0507235.

[8] L. Procopio, A. Moqnaki, M. Araujo, F. Costa,

I. Calafell, E. Dowd, D. Hamel, L. Rozema,

C. Brukner, and P. Walther, Nat. Comms. 6 (2015),

10.1038/ncomms8913.

[9] G. Rubino, L. A. Rozema, A. Feix, M. Arau´jo, J. M. Zeuner, L. M. Procopio, C . Brukner, and P. Walther,

Science Advances 3, e1602589 (2017).

[10] G. Rubino, L. A. Rozema, F. Massa, M. Arau´jo,

M. Zych, C . Brukner,

and P. Walther,

arXiv:1712.06884v4 [quant-ph] (2017).

[11] K. Goswami, C. Giarmatzi, M. Kewming, F. Costa,

C. Branciard, J. Romero, and A. G. White, Phys. Rev.

Lett. 121 (2018), 10.1103/PhysRevLett.121.090503.

[12] K. Goswami, Y. Cao, G. A. Paz-Silva, J. Romero, and

A. G. White, Phys. Rev. Research 2, 033292 (2020).

[13] K. Wei, N. Tischler, S.-R. Zhao, Y.-H. Li, J. M. Arra-

zola, Y. Liu, W. Zhang, H. Li, L. You, Z. Wang, et al.,

Physical Review Letters 122, 120504 (2019).

[14] M. M. Taddei, J. Carin~e, D. Mart´inez, T. Garc´ia,

N. Guerrero, A. A. Abbott, M. Arau´jo, C. Branciard,

E. S. G´omez, S. P. Walborn, L. Aolita, and G. Lima,

arXiv:2002.07817 [quant-ph] (2020).

[15] Y. Guo, X.-M. Hu, Z.-B. Hou, H. Cao, J.-M. Cui, B.-H.

Liu, Y.-F. Huang, C.-F. Li, G.-C. Guo, and G. Chiri-

bella, Physical Review Letters 124, 030502 (2020).

[16] G. Rubino, L. A. Rozema, D. Ebler, H. Kristj´ansson,

S. Salek, P. Allard Gu´erin, A. A. Abbott, C. Branciard,

i. c. v. Brukner, G. Chiribella, and P. Walther, Phys.

Rev. Research 3, 013093 (2021).

[17] G. Chiribella, G. M. D'Ariano, P. Perinotti, and B. Val-

iron, Phys. Rev. A 88, 022318 (2013).

[18] G. Chiribella, Phys. Rev. A 86, 040301 (2012).

[19] T. Colnaghi, G. D'Ariano, S. Facchini, and

P. Perinotti, Phys. Lett. A 376 (2012),

10.1016/j.physleta.2012.08.028. [20] M. Arau´jo, F. Costa, and C . Brukner, Phys. Rev. Lett.

113, 250402 (2014). [21] A. Feix, M. Arau´jo, and C . Brukner, Phys. Rev. A 92,

052326 (2015). [22] P. A. Gu´erin, A. Feix, M. Arau´jo, and C . Brukner, Phys.

Rev. Lett. 117, 100502 (2016).

[23] D. Ebler, S. Salek, and G. Chiribella, Phys. Rev. Lett.

120, 120502 (2018).

[24] S. Salek, D. Ebler,

and G. Chiribella,

arXiv:1809.06655v2 [quant-ph].

[25] M. K. Gupta and U. Sen, arXiv:1909.13125v1 [quan-

t-ph].

[26] S. Shrapnel, F. Costa, and G. Milburn, New J. Phys.

20 (2018), 10.1088/1367-2630/aabe12.

[27] M. Araujo, C. Branciard, F. Costa, A. Feix, C. Gi-

armatzi, and C. Brukner, New. J. Phys. 17 (2015),

10.1088/1367-2630/17/10/102001.

[28] A. Jamiolkowski, 3, 275 (1972).

[29] M.-D. Choi, 10, 285 (1975).

[30] T. Heinosaari and M. Ziman, The Mathematical Lan-

guage of Quanum theory (Cambridge University Press,

2012).

[31] A. Abbott, G. Giarmatzi, F. Costa, and C. Branciard,

Phys. Rev. A 94 (2016), 10.1103/PhysRevA.94.032131.

[32] A. Abbott, J. Wechs, F. Costa, and C. Branciard, Quan-

tum 1, 39 (2017).

[33] J. Wechs, A. Abbott, and C. Branciard, New J. Phys.

21 (2019), 10.1088/1367-2630/aaf352.

[34] P. Arrighi, M. Christodoulou, and A. Durbec,

2010.13579.

[35] S. Bartlett, T. Rudolph, and R. Spekkens, Rev. Mod.

Phys. 79 (2007), 10.1103/RevModPhys.79.555.

[36] L. Parker, "Permutation invariance in quantum pro-

cesses." (2020), available from author upon request.

[37] C. Branciard, M. Araujo, A. Feix, F. Costa,

and C. Brukner, New J. Phys. 27 (2015),

10.1088/1367-2630/18/1/013008.

[38] L. Hardy, arXiv:1608.06940 [gr-qc] (2016).

[39] M. Zych, F. Costa, and T. C. Ralph, arXiv:1809.14999

[quant-ph] (2018).

VIII. APPENDIX Here, we prove some results stated in the main text.
A. Some facts about the L map. It's useful to first prove two properties of the L map, namely that L(A)+L(B) = L(A+B) and L(A)L(B) = L(AB). For the first, we see that

10 Lemma 1. L(A) + L(B) = L(A + B), for A and B linear operators.

Proof.

L(A) + L(B) =

UgSRAS [01...(n - 1)]RUgSR +

UgSRBS[01...(n - 1)]RUgSR

gSn

gSn

=

UgSR AS [01...(n - 1)]R + BS [01...(n - 1)]R UgSR

gSn

=

UgSR AS + BS [01...(n - 1)]Ri UgSR = L(A + B).

gSn

(23)

The second takes slightly more work, but we obtain

Lemma 2. L(A)L(B) = L(AB), for A and B linear operators.

Proof.

L(A)L(B) =

(UgSRAS [01..(n - 1)]RUgSR)(UhSRBS[01...(n - 1)]RUhSR)

gSn hSn

=

(UgS

AS

Ug S

UhS

B

S

UhS

)(UgR

[01..(n

-

1)]R

UgR

UhR[01...(n

-

1)]R

Uh

R
)

gSn hSn

=

(UgSAUgS UhSBUhS)((g-1h)UgR[01..(n - 1)]UgR)

gSn hSn

=

UgSR(AB)S [01...(n - 1)]RUgSR = L(AB),

gSn

(24)

using Ug[01...(n - 1)]UgUh[01...(n - 1)]Uh = [g(0)g(1)...g(n - 1)][h(0)h(1)...h(n - 1)] = g(0)h(0)...g(n-1)h(n-1)[g(0)...g(n - 1)] = (g-1h)Ug[01...(n - 1)]Ug, with ij being the kronecker delta and (g-1h) being 1 if g-1h is identity and 0 otherwise (the delta function on Sn).

B. Permutation-invariant processes.
For W inv to be a valid process, it must be a positive semi-definite matrix that has trace 1 when multiplied with any tensor product of CPTP maps. The positive semidefinite requirement is satisfied by eq. (10) because both the tensor product and the sum of positive semidefinite matrices is positive semidefinite. We can also demonstrate that W inv gives normalised probabilities. We will do this for the bipartite case: the general case is analogous but the

11

notation is very cumbersome. For CPTP maps M1A, M2B, M3RA , and M4RB , we have:

Tr W invM1AM2B M3RA M4RB

= Tr

1 2

½ UgSR(W AB [01]RI RO )M1AM2B M3RA M4RB UgSR

g

= Tr

1 2

UgSRUgSR(W ABM1AM2B)([01]RI ½RO M3RA M4RB )

g

= TrAB [W AB M1AM2B TrRA I RB I [[01]RA I RB I TrRA ORB O [M3RA M4RB ]] = TrAB [W AB M1AM2B TrRA I RB I [[01]RA I RB I ]] = TrAB[W ABM1AM2B] = 1,

(25)

where we have used the fact that UgUg = ½, that TrO[M X ] = ½XI for the Choi-Jamiolkowski representation of a
CPTP map, and that Tr [01]RI = 1. Thus, we see that W inv is always a valid process matrix.

C. Permutation-invariant instruments.

is

Here a CP

we show that the Mii1n.v..in map, and that the trace

, as defined in eq. (11), is a valid instrument. To do over the combined system-reference frame output is

this, we TrSO RO

show [M inv

that each element
] = ½SIRI , so that

the maps sum to a CPTP map:

½ ½ TrSORO [
i1 ...in

Mii1n.v..in ]

=

TrSORO [

L(MiS1...in )

i1 ...in

+

1 N dO

SR - L( S ]

=

TrSORO [L(
i1 ...in

MiS1...in )]

+

1 dO

TrO [½SR ]

-

1 dO

TrO[L(½S )]

= TrSORO [L(M S )] + ½SIRI - TrO[ UgSR½S [01...(n - 1)]RI ½RO UgSR]

g

= TrSORO [ UgSRM S [01...(n - 1)]RI ½RO UgSR] + ½SI RI
g

- TrSORO [ UgSR½S [01...(n - 1)]RI ½RO UgSR]
g

= Tr UgSRUgSRM S  [01...(n - 1)]RI ½RO ½ + SIRI

- TrSORO [ ½ UgSRUgSR S  [01...(n - 1)]RI ½RO ]
g

= TrSO [M S] TrRO [[01...(n - 1)]RI ½RO ] + ½SIRI
g

- TrSO [½S ] TrRO [[01...(n - 1)]RI ½RO ]
g

= (n!dSO ½SI TrRO [[01...(n - 1)]RI ½RO ] - n!dSO ½SI TrRO [[R]RI ½RO ]) + ½SIRI ½ = SI RI .

(26)

12

We now show that the Mii1n.v..in are all positive semidefinite. Observe that

Mii1n.v..in

=

L(MiS11 ...MiSnn )

+

1 N dO

½SR - L ½S

(27)

is a sum of two terms. It suffices to show that both of the two terms are positive semidefinite. For the first, we see that

L(MiS11 ...MiSnn ) =

Ug(MiS11 ...MiSnn )Ug[R],

(28)

which, as Ug(MiS11...MiSnn )Ug and [R] are both positive semidefinite, is just a sum of positive semidefinite operators.
Therefore, it is positive semidefinite. For the second term, note that ½SR is simply the sum of all projectors, while L(½S ) = ½RI [R]RO is a sum containing only projectors, so that

1 ½SR - L ½S
N dO

0

(29)

because ½SR contains all terms that appear in L(½S ), but the reverse is not true. Since both terms are diagonal, we
can see that this results in all eigenvalues being positive or zero.

