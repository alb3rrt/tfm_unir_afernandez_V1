NECESSARY CONDITIONS FOR FEEDBACK STABILIZATION AND SAFETY
MATTHEW D. KVALHEIM AND DANIEL E. KODITSCHEK

arXiv:2106.00215v1 [math.OC] 1 Jun 2021

Abstract. Brockett's necessary condition yields a test to determine whether a system can be made to stabilize about some operating point via continuous, purely state-dependent feedback. For many real-world systems, however, one wants to stabilize sets which are more general than a single point. One also wants to control such systems to operate safely by making obstacles and other "dangerous" sets repelling.
We generalize Brockett's necessary condition to the case of stabilizing general compact subsets having a nonzero Euler characteristic. Using this generalization, we also formulate a necessary condition for the existence of "safe" control laws. We illustrate the theory in concrete examples and for some general classes of systems including a broad class of nonholonomically constrained Lagrangian systems. We also show that, for the special case of stabilizing a point, the specialization of our general stabilizability test is stronger than Brockett's.

Contents

1. Introduction

2

1.1. Contributions and organization of the paper

2

1.2. Related work

3

2. The Euler characteristic

4

2.1. Motivation: the Euler characteristic of a CW complex

4

2.2. The Euler characteristic of an asymptotically stable set

5

3. Main results: stabilization and safety

7

4. Examples

10

5. Applications

12

5.1. A class of systems affine in control

12

5.2. Nonholonomically constrained Lagrangian systems

13

6. Comparison with selected point stabilization results

18

6.1. Comparison with Brockett's necessary condition

18

6.2. Comparison with Coron's necessary condition

19

7. Conclusion

21

Dedication

22

Acknowledgments

22

References

23

Appendix A. Unique integrability, asymptotic stability, and Lyapunov functions

26

A.1. Unique integrability

26

A.2. Asymptotic stability

26

Appendix B. Low-dimensional manifolds with boundary and zero Euler characteristic

27

(Kvalheim, Koditschek) School of Engineering and Applied Science, University of Pennsylvania, Philadelphia, PA 19104, USA
E-mail addresses: kvalheim@seas.upenn.edu, kod@seas.upenn.edu. 1

2

NECESSARY CONDITIONS FOR FEEDBACK STABILIZATION AND SAFETY

1. Introduction

In a seminal paper [Bro83], Brockett considered control systems of the form (x = dx/dt)

(1)

x = f (x, u),

and proved a beautiful theorem providing three necessary conditions for the existence of a continu-
ously differentiable feedback law u(x) rendering some specified point x = x0 asymptotically stable. The third of these conditions, which we will simply refer to as Brockett's necessary condition, is as follows. Here x  Rn, u  Rm, and f : Rn × Rm  Rn is continuously differentiable.

Theorem ([Bro83, Thm 1.(iii)]). If a continuously differentiable control law u(x) rendering x0 an asymptotically stable equilbrium exists, then the image of the mapping (x, u)  f (x, u) contains a neighborhood of 0  Rn.

Brockett indicates one proof based on Wilson's converse Lyapunov function theorem [Wil67, Wil69, FP19] and the Poincaré-Hopf index theorem. Since Wilson's theorem applies to merely continuous vector fields under the assumption of unique integrability, and since the Poincaré-Hopf theorem applies to merely continuous vector fields [Pug68]1, the Poincaré-Hopf version of Brockett's proof actually yields the same result assuming only that the vector field x  f (x, u(x)) is continuous and has unique trajectories. That uniquely integrable continuous feedback suffices was also noted by [Zab89], who studied the problem via different techniques.
To paraphrase [Bro83, pp. 1­2], the theorem above is powerful enough to show that there is no continuous feedback law (u, v) = (u(x, y, z), v(x, y, z)) with unique trajectories making the origin asymptotically stable for the "nonholonomic integrator" or "Heisenberg system" [Blo15]

x = u

(2)

y = v

z = yu - xv.

This provides a counterexample to what was, in 1983, the oft-repeated conjecture that a reasonable form of local controllability implies the existence of a stabilizing control law [Bro83, p. 2].

1.1. Contributions and organization of the paper. Motivated by problems arising in robotics and other settings of underactuated control systems, this paper introduces tests to determine if it is possible to use continuous feedback to make a system stabilize around--or, alternatively, operate safely relative to--some subset of state space. We generalize Brockett's necessary condition to one for the stabilization of any compact subset A of a smooth manifold M for a control system on M , subject to the limitation that the Euler characteristic (A) of A is nonzero.2 In the special case that A is a point, we show (Ex. 4) that this necessary condition is stronger than Brockett's. Our necessary condition for stabilization yields a corresponding condition for safety--an obstruction to the possibility of rendering a "bad" set B repelling via continuous feedback, subject to the limitation again that the complement of B is precompact with nonzero Euler characteristic.
These results are powerful enough to prove the following additional facts about (2).
· If A is a compact connected submanifold with or without boundary, then there is no continuous feedback law (u, v) = (u(x, y, z), v(x, y, z)) with unique trajectories making A asymptotically stable if A is not homeomorphic to a circle, cylinder, torus, Möbius band, or a

1The statements of the Poincaré-Hopf theorem in [Mil65, GP10, pp. 32­35, p. 134] refer to smooth vector fields, but the proofs in these references can be used to prove the result for continuous vector fields with only superficial changes. Cf. [Mil65, p. 41]: "...our strong differentiability assumptions are not really necessary...".
2In this paper, the Euler characteristic is defined using Cech-Alexander-Spanier cohomology; as we will discuss in §2, this Euler characteristic is always well-defined for a compact asymptotically stable subset of a continuous flow on a manifold, and it agrees with the standard Euler characteristic for submanifolds and other "reasonable" subsets.

NECESSARY CONDITIONS FOR FEEDBACK STABILIZATION AND SAFETY

3

3-dimensional submanifold with boundary (just because a compact 3-dimensional submanifold without boundary cannot embed in R3). · More generally, an arbitrary compact subset A cannot be rendered asymptotically stable by such a feedback law if the real Cech-Alexander-Spanier cohomology of A is not finitedimensional (two examples are given below Def. 1 in §2.2) or if the Euler characteristic of
A defined using Cech-Alexander-Spanier cohomology is nonzero. · If S = R3 \ B is bounded, where B is some hypothetical "bad" set, then such a feedback law
cannot ensure that cl(S) immediately flows into int(S) if the real Cech-Alexander-Spanier cohomology of S is not finite-dimensional or if the Euler characteristic of S is nonzero.

These facts also hold for, e.g., the "kinematic unicycle" model

x = cos()u y = sin()u  = v

on R2 × S1 commonly employed in the robot motion planning literature [CLH+05, BR11, PA14, PK15, PAK18] for modeling differential-drive or even legged [VTVB+18, VPS+20, RKM20] robots, and can be used to show that certain tasks of importance for applications are impossible to achieve using continuous feedback alone. Results such as these underscore the importance of discontinuous (or "hybrid") [BRM92, BD94, KRM94, KDW95, BD96, Ast96, BDK00, AL01, PT05, LK07] or time-varying [DWS91, Cor92, Pom92, TMW92, MM93, WB93, SE95, MPS99, MS00, TL02, Ura15, Ura18] stabilization strategies for control systems.
The remainder of this paper is organized as follows. After discussing related work below, we consider a version of the Euler characteristic of a compact asymptotically stable set in §2 and explain why it is well-defined. We establish our main results in §3 and illustrate them with examples in §4. In §5 we prove results showing that our necessary conditions for feedback stabilization and safety are not satisfied by some general classes of control systems including a class of nonholonomic Lagrangian systems. In §6 we compare Theorem 1 in the special case of point stabilization with results of Brockett and Coron. In §7 we summarize our contributions and discuss prospects for future work. The paper concludes with two appendices. In App. A we review some facts about continuous and uniquely integrable vector fields, asymptotic stability, and Lyapunov functions. In App. B we determine which compact connected manifolds with boundary of dimension less than or equal to 2 have vanishing Euler characteristic.

1.2. Related work. Following the work of Brockett described above, [Zab89] studied the problem using different techniques and observed that Brockett's necessary condition applies with uniquely integrable continuous state-feedback as opposed to the continuously differentiable feedback assumed in [Bro83, Thm 1.(iii)]. Necessary conditions stronger than Brockett's for stabilization of equilibria were formulated in [Cor90] in terms of homology and in terms of stable homotopy groups; see also [Cor07, p. 292]. In [Cor92] it was shown that, if time-varying feedback is allowed, then a certain accessibility condition implies the existence of smooth feedback stabilizing a point. Brockett's necessary condition for stabilizing an equilibrium was extended to account for discontinuous feedback under the assumption that the control system satisfies a convexity condition in [Rya94]; see also [CLS98]. Further necessary conditions for stabilization of an equilibrium based on [Cor90] were given in [IS98]. In [OPM03] the observation of [Zab89] was strengthened by further showing that unique integrability of the closed-loop vector field is not needed. For control systems on Rn, Byrnes

4

NECESSARY CONDITIONS FOR FEEDBACK STABILIZATION AND SAFETY

proved a version of Brockett's necessary condition for rendering a compact set A  Rn globally3 asymptotically stable [Byr08, Cor. 4.1].4

2. The Euler characteristic
An introductory discussion motivating the Euler characteristic is given in §2.1. The reader familiar with (co)homology theory can proceed straight to §2.2, where we define the Euler characteristic of an asymptotically stable set using Cech-Alexander-Spanier cohomology and review some relevant facts.

2.1. Motivation: the Euler characteristic of a CW complex. As motivation for our definition of the Euler characteristic, consider a topological space X constructed in the following way [Hat01, p. 5].
· Begin with a discrete collection X0 = {x1, . . . , xn} of finitely many points, or 0-cells. · Inductively, form the n-skeleton Xn from Xn-1 by attaching finitely many copies of the
n-dimensional disk Dn = {x  Rn : x  1} via continuous maps Dn  Xn-1 from the boundaries; the interiors of the copies of Dn are called n-cells. (For example, when n = 1, X1 is obtained from X0 by gluing the endpoints of finitely many intervals to the points comprising X0.) · Stop at some finite step n  0 and define X := Xn. Give X a topology by declaring that a subset U  X is open if and only if the intersection of U with every cell of X is open.
The space X constructed in this way is called a finite CW complex (or, sometimes, "finite cell complex") [Hat01, p. 5] of dimension n. A finite CW complex is, in particular, a compact metrizable space; finite CW complexes are a useful and broad class of topological spaces. For example, every compact smooth manifold with boundary has a finite CW decomposition, i.e., is homeomorphic to a finite CW complex [Mor01, Thm 3.3].
The Euler characteristic (X) of a finite CW complex X is defined to be [Hat01, p. 6]:

(3) (X) := (number of even-dimensional cells) - (number of odd-dimensional cells).

A finite CW decomposition of a topological space X is generally not unique. However, the number on the right side of (3) does not depend on the numbers of cells in any specific choice of finite CW decomposition of a topological space X; this justifies the undecorated notation (X). One way to prove this is to show that, for a finite CW complex X [Hat01, Thm 2.44, Cor 3A.4, Prop 3A.5],



dim X

(4)

(X) = (-1)i dim Hi(X; R) = (-1)i dim Hi(X; R).

i=0

i=0

3Note that being globally asymptotically stable imposes strong topological restrictions; cf. Prop. 1. For example,

any compact 2-dimensional manifold (without boundary) smoothly embedded in R3 can be made asymptotically stable for the flow of some smooth vector field, but there does not exist a continuous flow on R3 rendering any of these

submanifolds globally asymptotically stable. Our generalization (Theorem 1) of Brockett's necessary condition is for

local asymptotic stabilization, and is both considerably broader than [Byr08, Cor. 4.1] with respect to stabilization

while affording a dual set of conclusions regarding safety which would be difficult even to translate into that "global"

framework.

4[Kap94, Thm 1] states that a necessary condition for continuous feedback (not necessarily global) stabilization

of a general compact subset A of Rn+1 is that the (Riemannian) Gauss map S  Sn from a compact level set S of a smooth Lyapunov function to the sphere Sn is surjective. However, the Gauss map of any compact (boundaryless) hypersurface in Rn+1 is always surjective; thus, while correct, this condition provides zero information. If F is a

closed-loop vector field rendering A asymptotically stable, one could instead consider the "vector field Gauss map"

F F

: S  Sn as in [Kap95], but examples of asymptotically stable periodic orbits in R3 show that surjectivity of

this map is not necessary for asymptotic stability.

NECESSARY CONDITIONS FOR FEEDBACK STABILIZATION AND SAFETY

5

Here Hi(X; R) is the i-th singular homology group with real coefficients, a finite-dimensional real vector space. It follows that (X) does not depend on the specific finite CW decomposition of X,
because (3) and (4) are equivalent, and because Hi(X; R) depends only on the topology of X. The latter statement is also true of the i-th singular real cohomology group Hi(X; R), and in fact one obtains an equivalent definition of (X) by replacing each Hi(X; R) in (4) with Hi(X; R).
Using either (4) or its cohomological variant just mentioned, one obtains a definition of (X)
for any topological space X not necessarily admitting a CW decomposition, as long as each dim Hi(X; R) (or dim Hi(X; R)) is finite and becomes zero when i is sufficiently large. However, many spaces X (including even certain compact subsets of Rn; see the two examples mentioned after Def. 1 in §2.2) do not satisfy these requirements. To define (X) for such spaces, one possibil-
ity is to replace the singular homology groups in (4) with those from an alternative (co)homology
theory (of which there are several) which might be better behaved. As will be explained in §2.2, the real Cech-Alexander-Spanier cohomology groups H i(X; R) will be of particular use (this terminology follows [Mas91, p. 371]).

Remark 1. When X is a paracompact, Hausdorff, and locally contractible space (such as a manifold or CW complex), dim H i(X; R) = dim Hi(X; R) = dim Hi(X; R) [Spa66, pp. 334, 340]. Thus, for such a space X, a definition of the Euler characteristic equivalent to (4) can be obtained by replacing Hi(X; R) with H i(X; R) in (4). As previously remarked, such a definition is also equivalent to (3) in the case that X is a finite CW complex.

2.2. The Euler characteristic of an asymptotically stable set. With the discussion in §2.1 as motivation, we first state the definition of Euler characteristic that we will use. We denote by H i(X; R) the i-th real Cech-Alexander-Spanier cohomology group of a topological space X and refer the reader to [Spa66, Ch. 6, Sec. 4 and 5] or [Mas78, Ch. 8] for the definition and an extensive treatment; alternatively, the reader is referred to [Gob01, Sec. 3] and [Mas91, pp. 371­375] for brief introductions aligned with our needs.

Definition 1. Let X be a topological space. Assume that the dimensions dim H i(X; R) of the real Cech-Alexander-Spanier cohomology groups are finite and vanish for i sufficiently large. Then the Euler characteristic (X) of X is defined as



(5)

(X) := (-1)i dim H i(X; R).

i=0

Next, suppose that the compact subset A  M is asymptotically stable for some continuous flow on the manifold M . For reasons which will be made clear, we would like to consider the Euler characteristic (A) defined according to Def. 1. However, as examples such as

(6)

K = {0}  {1/n : n  N}  R

or K  R2 the "Hawaiian earring"( or "shrinking wedge of circles") [Hat01, Ex. 1.25] show, arbitrary compact subsets of manifolds need not have finite-dimensional real Cech-Alexander-Spanier cohomology (or singular (co)homology).5 Hence for general compact K, Def. 1 cannot be used to define (K) is not well-defined. However, if K = A  M is asymptotically stable for a continuous

5The set K of (6) has infinite-dimensional real Cech-Alexander-Spanier cohomology since H 0(K; R) is isomorphic
to the vector space of locally constant R-valued functions on K [Gob01, Thm 3.2(i)], which is infinite-dimensional in the present case. The set K of (6) also has infinite-dimensional singular cohomology since H0(K; R) is isomorphic to
iI R, where I is the set of path components of K [Gob01, Thm 3.2(ii)], which is infinite in the present case. For K the Hawaiian earring, [EK00, Prop. 2.4] implies that H 1(K; R) is infinite-dimensional; [EK00, Thm 3.1] and the universal coefficient theorem for cohomology [Hat01, pp. 195­197] imply that H1(K; R) is also infinite-dimensional.

6

NECESSARY CONDITIONS FOR FEEDBACK STABILIZATION AND SAFETY

and uniquely integrable vector field F , the situation is better: the real Cech-Alexander-Spanier cohomology of A is always finite-dimensional.6
To see this, denote by B(A) the basin of attraction of A (App. A.2), let  : dom()  R×M  M be the unique maximal continuous local flow generated by F (Lem. 3 in App. A.1), and recall that R × B(A)  dom() so that the restriction |R×B(A) is a flow rather than merely a local flow. We may then appeal to a known result (for flows) to deduce that the real Cech-Alexander-Spanier cohomology of A is always isomorphic to that of its basin B(A) [Shu74, p. 28], [Has79, Rem. 2.3(b)], [Gob01, Thm 6.3].7
Next, let V : B(A)  [0, ) be a proper C Lyapunov function for A (Lem. 4 in App. A.2) and fix c > 0. Then the sublevel set Mc := V -1([0, c]) is a compact C manifold with boundary, and B(A) deformation retracts onto Mc by following trajectories of  [Wil67, Thm 3.2]. Thus, B(A) is homotopy equivalent to Mc, so the real Cech-Alexander-Spanier cohomologies of B(A) and Mc are isomorphic [Spa66, p. 240]. Thus, for each i we have isomorphisms
H i(A; R) = H i(B(A); R) = H i(Mc; R) = Hi(Mc; R),
where the last term is real singular cohomology of Mc. Since the smooth manifold with boundary Mc is compact, each Hi(Mc; R) is finite-dimensional and vanishes when i > dim Mc. Thus, we have obtained the following result.
Proposition 1. Fix any proper C Lyapunov function V : B(A)  [0, ) for A (see Lem. 4 in App. A.2), c > 0, and define Mc := {x  B(A) : V (x)  c}. The real Cech-Alexander-Spanier cohomology H (A; R) of A is finite-dimensional and isomorphic to the Cech-Alexander-Spanier cohomologies of both H (Mc; R) and H (B(A); R), where B(A) is the basin of attraction of A. Thus, the Euler characteristic (A) is well-defined according to Def. 1.

Remark 2. We remind the reader of the following fact discussed in §2.1. When A has a finite CW decomposition (or, more generally, is homotopy equivalent to a finite CW complex), then (A) is just the number of even-dimensional cells minus the number of odd-dimensional cells, as in (3).

For the hypotheses of our main results, it is only relevant whether the Euler characteristic of some set is zero or nonzero. The following well-known result completely characterizes those compact smooth manifolds with boundary having zero Euler characteristic; one of the two implications will be invoked in the proof of Theorem 1. For the statement, a vector field F on a smooth manifold with boundary M points strictly inward at M if, for every x  M , F (x) points strictly inward in the usual sense [Lee13, p. 118]; thus, every vector field on a smooth manifold M without boundary vacuously points strictly inward at M = .
Lemma 1. A compact smooth manifold M with (or without) boundary M has vanishing Euler characteristic (M ) = 0 if and only if there exists a continuous, nowhere-vanishing vector field F on M which points strictly inward at M .

That the existence of such a vector field F implies (M ) = 0 follows directly from the PoincaréHopf theorem [Pug68]. We will not need the opposite implication, but it can be established by "canceling" the isolated zeros of a generic smooth and inward pointing vector field F against one another; this can be accomplished using the Hopf degree theorem [GP10, p. 146], the Poincaré-Hopf theorem, and the fact that the isolated zeros of F are contained in a single coordinate chart [MV94].

6A uniquely integrable vector field is one whose maximal integral curves are unique; see App. A.1 for more details. 7However, as counterexamples involving the Warsaw circle show, A might not be homotopy equivalent to its basin
B(A) if A is sufficiently pathological [Has78, Has79, RS88, GS93].

NECESSARY CONDITIONS FOR FEEDBACK STABILIZATION AND SAFETY

7

3. Main results: stabilization and safety
In this section we state and prove our main results, which apply to control systems of the usual form (1), as well as a more general class of control systems which we now describe.
Let M be a smooth manifold. Loosely following [Bro77], we say that a control system is a 4-tuple (U, M, p, f ) such that the following diagram commutes:

U

f

TM

(7)

.

p



M

Here U is a set, p is a surjective map, and  is the tangent bundle projection. A (state-feedback) control law is a section u : M  U of p, which means that p  u = idM .8 Given a control law u, we refer to the vector field f  u on M as defining the closed-loop system. Note that (7) specializes to the form (1) in the case that U = M × Rm and p(m, u) = m. The generality afforded by (7) is quite useful for modeling systems in which the set of admissible controls depends on the state.
There are many common assumptions on U and p; it seems most authors assume that U is a smooth manifold and that p is a smooth (i) vector bundle [Bro83], or (ii) fiber bundle [vdS81, GM85, Blo15], or (iii) submersion [Ler18]. For our purposes, we can obtain more general results by not imposing further conditions on U or p (including continuity properties) except for surjectivity of p (so that sections exist), so we will not do so unless explicitly specified.

Definition 2. Let (U, M, p, f ) be a control system and A  M be a compact subset. We say that A is stabilizable if there exists a control law u : M  U such that (i) the closed-loop vector field f  u is continuous and uniquely integrable and (ii) A is asymptotically stable for f  u.
If U is a smooth manifold and both f and u are locally Lipschitz,9 then the assumptions of continuity and unique integrability in Def. 2 are automatic (see Rem. 12 in App. A.1).

Remark 3. In Def. 2 it is not assumed that p is continuous or even that U is a topological space. This is because the proofs of Theorem 1 and related results only require continuity of the closed-loop vector field f  u, a somewhat weaker property.

The following is the first of our two main results; it provides a necessary condition for stabilizability of a compact subset.

Theorem 1. Let (U, M, p, f ) be a control system and A  M be a compact subset. Assume that A is stabilizable.
· Then the Euler characteristic (A) of A is well-defined according to Def. 1. · Assume additionally that (A) = 0. Then for any neighborhood W  M of A, there exists a
neighborhood V  T M of the zero section 0TM  T M such that, for any continuous vector field X : W  V  T M on W taking values in V,

(8)

f (p-1(W))  X(W) = .

We like to think of the vector fields X in Theorem 1 as adversaries which need to be "defeated" via intersection of their images with the image of f somewhere. See Fig. 1.

8We remark that control systems are sometimes also called "open systems" [Ler18]. 9Local Lipschitz-ness is a well-defined, metric-independent notion of maps between smooth manifolds which de-
pends only on the smooth structures of the manifolds [KR19, Rem. 1].

8
TM
  
V
 

NECESSARY CONDITIONS FOR FEEDBACK STABILIZATION AND SAFETY
TM

(f  u)(M )
A W



X(M )

 

V

 

(f  u)(M )
A W

Xconst.(M )

Figure 1. Depiction of the objects from Theorem 1 with a general continuous adversary X and with a constant (with respect to some local trivialization of T M ) adversary (see Rem. 4).

Remark 4. Theorem 1 is a generalization of Brockett's necessary condition [Bro83, Thm 1.(iii)]. To obtain Brockett's necessary condition from Theorem 1, first specialize Theorem 1 by taking M = Rn, U = Rn × Rm, and p(x, u) = x (see (7)). Then take A to be a singleton. Then weaken this specialization by restricting attention only to those adversaries X (see Theorem 1) which are constant (using the canonical identification T Rn  Rn × Rn to to view X as Rn-valued and thus define "constant"). This yields [Bro83, Thm 1.(iii)]. If, in this special case, we did not restrict attention to constant adversaries X, then we show in Ex. 4 that Theorem 1 is in fact strictly stronger than [Bro83, Thm 1.(iii)].

Remark 5. The following proof is inspired by one presented by Brockett [Bro83, Thm 1.(iii)] for stabilizing a point. It differs from Brockett's proof essentially only in the following two ways. First, A is a singleton in Brockett's case, so it is immediate that (A) = 1 = 0 (see Eq. (5) and Rem. 1); however, in our case we need to refer to Prop. 1 to ensure that (A) is well-defined. Second, Brockett restricts attention to constant adversaries X  c  Rn on Rn, but we do not. (On a general manifold smooth manifold M , "constant" vector fields are not even well defined).

Proof of Theorem 1. Let B(A) be the basin of attraction of A. Since A is asymptotically stable for
the continuous and uniquely integrable vector field F := f  u, it follows from Prop. 1 that (A) is
well-defined via Def 1. Next, assume that (A) = 0. Let V : B(A)  [0, ) be a proper C Lyapunov function for
A (Lem. 4 in App. A.2) and fix > 0. Since the sublevel sets Mc := {x  B(A) : V (x)  c} are compact, there exists c > 0 sufficiently small that Mc  W.10 By Prop. 1,

(9)

(Mc) = (A) = 0.

Since the Lie derivative LF V (x) < 0 when x  A, LF V (x) < 0 for all x  Mc. Since Mc is compact, there exists > 0 such that LF V (x) < - for all x  Mc. Continuity and compactness of Mc imply the existence of a neighborhood V of 0T M such that, for any vector field X on W taking values in V, the translated vector field

FX := F - X

satisfies LFX V < 0. Thus, FX points strictly inward at Mc. By (9) and Lem. 1, it follows that FX|Mc has a zero for all such X. But a zero of FX|Mc is a point x  Mc  W such that
0 = FX(x) = F (x) - X(x) = f  u(x) - X(x).

Thus, for any X taking values in V, there exists x  Mc  W such that f  u(x) = X(x). This implies that f (p-1(W))  X(W) =  and completes the proof.

10Proof: the family (M1 \ Mc)c>0 of sets are open relative to M1 and form a cover of the compact set M1 \ W. Thus, there is a finite subcover. Since c1 < c2 implies Mc1  Mc2 , it follows that there exists 0 < c < 1 such that M1 \ Mc  M1 \ W, which is equivalent to Mc  M1  W  W.

NECESSARY CONDITIONS FOR FEEDBACK STABILIZATION AND SAFETY

9

Using Theorem 1, we now proceed towards deriving a necessary condition for the existence of a "safe" control law rendering some "bad" set repelling (Theorem 2).

Definition 3. We say that a subset S  M is strictly positively invariant for a continuous and uniquely integrable vector field F on M if, for all x0  cl(S), the unique trajectory t  x(t) of F with initial condition x(0) = x0 satisfies x(t)  int(S) for all t > 0.
Note that a sufficient condition for S to be strictly positively invariant is that S be a a compact codimension-0 smooth submanifold with boundary such that F points strictly inward on S.
Definition 4. Let (U, M, p, f ) be a control system and S  M be a precompact subset. We say that S can be rendered safe if there exists a control law u : M  U such that (i) the closed-loop vector field f  u is continuous and uniquely integrable and (ii) S is strictly positively invariant for f  u.

Lemma 2. Assume that S  M is precompact and strictly positively invariant for the continuous and uniquely integrable vector field F on M . Then R := int(S) contains a unique maximal
(with respect to set inclusion) compact asymptotically stable subset A. Moreover, the real CechAlexander-Spanier cohomology H (A; R) of A is finite-dimensional and isomorphic to both H (S; R) and H (R; R). Thus, the Euler characteristics (A), (S), and (R) are well-defined according to Def. 1 and (A) = (S) = (R).

Proof. Let  be the unique maximal continuous local flow of F (see Lem. 3 in App. A.1). Since cl(S) is compact and strictly positively invariant, [0, ) × cl(S)  dom(), and there is a unique maximal compact asymptotically stable subset A  R given by
A := t(R).
t>0
See for example [Con78, Sec. II.5.C] (cf. (49)). Let  : M  [0, ) be a C function satisfying -1(0) = M \ R [Lee13, Thm 2.29] and define
the uniquely integrable continuous vector field F~ := F . Then A is asymptotically stable for F~ with basin of attraction R. By Prop. 1 and Def. 1, H (A; R) is finite-dimensional and isomorphic to H (R; R); hence also the Euler characteristics of A and R are well-defined via Def. 1 and are equal.
To complete the proof, it suffices to show that H (S; R) is isomorphic to H (R; R). And to do this, by the homotopy invariance of Cech-Alexander-Spanier cohomology [Spa66, p. 240], it suffices to prove that S is homotopy equivalent to its interior R = int(S). Letting  be as above, define g : S  R via g := 1|S and define h : R  S to be the inclusion map. Since h  g = 1|S and g  h = 1|R, the maps G : [0, 1] × S  S and H : [0, 1] × R  S defined by G := |[0,1]×S and H := |[0,1]×R are continuous homotopies from h  g to idS and from g  h to idR, respectively. Thus, h is a homotopy equivalence with homotopy inverse g; this completes the proof.
The following is the second of our two main results; it follows directly from Theorem 1 and Lem. 2.

Theorem 2. Let (U, M, p, f ) be a control system and S  M be a precompact subset. Assume that S can be rendered safe.
· Then the Euler characteristic (S) is well-defined according to Def. 1. · Assume additionally that (S) = 0. Then there exists a neighborhood V  T M of 0TM such
that, if X is any continuous vector field taking values in V, then
f (p-1(S))  X(S) = .

10

NECESSARY CONDITIONS FOR FEEDBACK STABILIZATION AND SAFETY

4. Examples

We illustrate Theorems 1 and 2 on Examples 1 and 2 below, respectively.

Example 1. Consider the Heisenberg system

x = u

(10)

y = v

z = yu - xv

from §1, shown here again for convenience. As observed in [Bro83], the adversaries X

:=

 z

are

not in the image of the control system f (x, y, z, u, v) defined by the right side of (10) for any = 0.11

It follows from [Bro83, Thm 1.(iii)] that no point x  R3 can be made asymptotically stable by a continuously differentiable control law u(x, y, z), v(x, y, z).

Since X  0 as  0 uniformly on compact sets, the following stronger fact follows from

Theorem 1: no compact subset A  R3 with a nonzero Euler characteristic (A) (Def. 1) can be made asymptotically stable by continuously differentiable feedback u(x, y, z), v(x, y, z).12 Moreover,

we do not need to assume that the control law is continuously differentiable or even locally Lipschitz;

we just need to assume that the closed-loop vector field (x, y, z)  f (x, y, z, u(x, y, z), v(x, y, z)) is

continuous and uniquely integrable.

Of course, Theorem 2 can also be applied to deduce interesting conclusions using the adversaries

X , but to minimize redundancy we instead discuss Theorem 2 in Ex. 2 below.

Example 2. Consider the kinematic unicycle model

x = cos()u

(11)

y = sin()u

 = v

of a differential drive robot from §1, shown here again for convenience. Let us imagine a differential drive robot mounted with a fixed-angle camera with which we wish the robot to autonomously film an experiment happening at the origin (x, y) = (0, 0)  R2; see Fig. 2. The camera has a viewing angle of 180 degrees, so we would like the robot not to face away from the origin: that is, we would like
(x, y, )  S0 := {x cos() + y sin()  0}.
The camera should not get closer than some distance  > 0 to the origin, and the camera also has a finite range R > 0, so we would also like
(x, y, )  S1 := {2  x2 + y2  R2}.
Next, we imagine that there are n  1 of obstacles O1, . . . , On  R2 contained in {(x, y) : 2 < x2 + y2 < R2} which are bounded by continuous simple closed curves (i.e., images of continuous injective maps S1  R2 from the circle), and which we do not want the robot to come into contact with. For simplicity, we assume that the size of the robot itself is negligible. Finally, we would

11Defining f (x, y, z, u, v) to be the right side of (10), denoting by p : Rn × Rm  Rn the projection onto the first factor, and identifying f with a T Rn  Rn × Rn valued map, (10) defines a control system (Rn × Rm, Rn, p, f ) in
the sense of (7). 12For example, if A  R3 is a topological submanifold with (or without) boundary, then it is not possible to
render A asymptotically stable by such feedback if A is not homeomorphic to one of the following: the circle S1, the cylinder S1 × [0, 1], the torus T2, the Möbius band M, or a 3-dimensional manifold with boundary; this is because these are the only topological manifolds with boundary embeddable in R3 which also have zero Euler characteristic (see App. B and note that the Klein bottle does not topologically embed in R3 [Hat01, p. 256]).

NECESSARY CONDITIONS FOR FEEDBACK STABILIZATION AND SAFETY

11

y



x

Figure 2. This figure illustrates Ex. 2. It is desired for a differential-drive robot to simultaneously (i) aim the line of sight of a mounted camera to point within 90 degrees of the origin, (ii) avoid n  1 obstacles, and (iii) remain inside of a big disk and outside of a small disk centered at the origin. For simplicity, in Ex. 2 we assume that the size of the robot itself is negligible. (In the figure, the camera is aimed away from the origin.)

like to control (11) by purely state-dependent feedback, so as to generate robust, purely "reactive"

behavior; we would also like the behavior to be deterministic and depend continuously on the state

(e.g., to avoid "chattering"), so we would also like the control law to be time-independent and

continuous, and such that the closed-loop vector field is uniquely integrable.

Define O :=

n i=1

Oi,

and

define

the

set

S := {(x, y, )  S0  S1 : (x, y)  O}.

Then the desiderata of the preceding paragraph will be obtained if, in the terminology of Def. 4, S can be rendered safe by a control law u(x, y, ), v(x, y, ) (which, as part of Def. 4, requires that the closed-loop vector field be continuous and uniquely integrable). Using Theorem 2, we show below that this seemingly reasonable task is impossible; some of the desiderata (e.g., continuity of the control law) must be relaxed.
To do this, we first observe that S deformation retracts onto

(12)

{(x, y, )  S : (cos(), sin()) = -(x, y)/ x2 + y2}

via the continuous homotopy which simply turns the robot in place to face the origin (this homotopy
is well-defined and continuous on S since S0  S). Next, the set in (12) is homeomorphic to {(x, y)  R2 \ O : 2  x2 + y2  R2}, which is homotopy equivalent to a punctured disk with n other disks removed from its interior. The Euler characteristic of the latter set is equal to
1 - 1 - n = -n, and the Euler characteristic is a homotopy invariant, so

(13)

(S) = -n = 0.

Next, notice that the adversaries X

:=

(sin()

 x

-

cos()

 y

)

are

not

in

the

image

of

the

control

system f (x, y, z, u, v) defined by the right side of (7) for any = 0. Since X  0 as  0 uniformly

on compact sets, (13) and Theorem 2 imply that S cannot be rendered safe in the sense of Def. 4, as

claimed above. The same result follows for any "bad" set (R2 × S1) \ S, as long as S is precompact

12

NECESSARY CONDITIONS FOR FEEDBACK STABILIZATION AND SAFETY

and has a well-defined and nonzero Euler characteristic; such a bad set might represent physical
and/or perceptual obstacles [LK07] differing from those in the present example. Theorem 1 can also be applied to deduce that no compact subset A  R2 × S1 with nonzero Euler
characteristic (A) is stabilizable (Def. 2) for (11). See Footnote 12 for some consequences of this
fact valid also for the present example. (However, for the present example, the fact that the Klein bottle K does not topologically embed in R2 × S1 instead follows since R2 × S1 topologically embeds in S2 × S1 but K does not [Jac70, Prop. 4.3]).

5. Applications
In this section we discuss some implications of the results of §3. An application to a class of affine control systems is given in §5.1, and an application to nonholonomic Lagrangian control systems is given in §5.2. The latter application is illustrated on a model of a vertical rolling disk in Ex. 3.

5.1. A class of systems affine in control. Let M be a smooth manifold, and consider the control system

N

(14)

x = F (x) + gi(x)ui

i=1

which is affine in the control inputs, where F, g1, . . . , gn are vector fields on M which are not assumed to be continuous. Formally, (14) defines a control system (U, M, p, f ) in the sense of (7) with U = M ×RN , f (x, u) equal to the right side of (14) with u = (u1, . . . , uN ), and p : M ×RN  M projection onto the first factor.

Proposition 2. Consider the control system defined by (14). Let A  M be a compact subset and S  M be a precompact subset. Assume there exists a continuous vector field Y on M such that, for all x  M :

(15)

F (x) = 0 = F (x)  span{Y (x), g1(x), . . . , gN (x)}

(16)

F (x) = 0 = Y (x)  span{g1(x), . . . , gN (x)}.

Then:

· if either (i) the Euler characteristic (A) is not well-defined according to Def. 1, or if (ii) (A) is well-defined and (A) = 0, then A is not stabilizable (Def. 2); and
· if either (i) the Euler characteristic (S) is not well-defined according to Def. 1, or if (ii) (S) is well-defined and (S) = 0, then S cannot be rendered safe (Def. 4).

Remark 6. The dimensions of the spans in (15) and (16) are not assumed to be constant.

Proof of Prop. 2. If the Euler characteristic of A is not well-defined, then the first conclusion of Theorem 1 implies that A is not stabilizable. Similarly, if the Euler characteristic of S is not welldefined, then the first conclusion of Theorem 2 implies that S cannot be rendered safe. Thus, we henceforth assume that (A) and (S) are both well-defined and nonzero.
For each > 0 we define the continuous vector field X := Y on M . We claim that

N

(17)

x  M, u  RN ,  (0, 0) : X (x) = F (x) + gi(x)ui.

i=1

Indeed, (15) implies that X (x) = F (x) +

N i=1

gi(x)ui

whenever

F (x)

=

0,

and

(16)

implies

the

same when F (x) = 0. This establishes (17). Since X  0 as  0 on compact subsets of D,

considering the adversaries X = X in the final statements of Theorems 1 and 2 implies that A is

not stabilizable and S cannot be rendered safe.

NECESSARY CONDITIONS FOR FEEDBACK STABILIZATION AND SAFETY

13

5.2. Nonholonomically constrained Lagrangian systems. We first prove a general result about second-order control systems on linear subbundles of a tangent bundle, of which the nonholonomic systems we consider are a special case.
Let Q be a smooth manifold, TQ : T Q  Q be its tangent bundle projection and let D  T Q be a (constant rank) smooth linear subbundle or distribution. The rank rankD of D is the dimension of its fibers. Referring to (7), we consider here any control system of the form (U, M, p, f ) = (U, D, p, f ) satisfying

(18)

T T Q  f =   p,

where f : U  T D  T (T Q), p : U  D, T TQ : T (T Q)  T Q, and  : D  T Q is the inclusion.

We refer to such a control system as second order. To see why, let (qi, vµ) be the coordinates of

a local trivialization induced by a smooth local frame (eµ)rµa=n1kD for D defined over a chart for Q,

and first note that the effect of the system evolving according to f =

i

f

i

 qi

+

µ

f

µ

 vµ

is

the

following:

(19)

qi = f i, v µ = f µ.

Next, observe that (18) and (19) imply

i

qi

 qi

=

i

f

i

 qi

=

µ vµeµ. Since we may express

each eµ as eµ =

i

ciµ

 qi

with

suitable

smooth

coefficients

ciµ(q)



R,

it

follows

that

qi

=

µ ciµvµ;

differentiating the latter expression with respect to time, it follows that (19) can be expressed as a

constrained system of second order equations:

q¨i = ciµf µ +

µ

µ

j

ciµ qj

qj

qµ

,

q  D,

justifying the terminology.

Proposition 3. Let (U, D, p, f ) be a second-order control system on a smooth linear subbundle D  T Q with rankD < dim Q. Let A  D be a compact subset and S  D be a precompact subset. Assume there exists a continuous vector field Y on Q which is nowhere tangent to D. Then:
· if either (i) the Euler characteristic (A) is not well-defined according to Def. 1, or if (ii) (A) is well-defined and (A) = 0, then A is not stabilizable (Def. 2); and
· if either (i) the Euler characteristic (S) is not well-defined according to Def. 1, or if (ii) (S) is well-defined and (S) = 0, then S cannot be rendered safe (Def. 4).

Remark 7. Note that a vector field Y nowhere tangent to D is, in particular, nowhere zero. Thus, in particular, if Q is compact (and boundaryless, which we are assuming), then the existence of such a Y implies that (Q) = 0. On the other hand, such a Y exists if and only if the quotient vector bundle T Q/D admits a nowhere-zero section. Such a section exists if, for example, Q is a contractible space like Rn (since every vector bundle over a contractible base is trivial, i.e., isomorphic to a product bundle), but there are also many examples with Q not contractible (e.g., let D be a left or right invariant distribution on a Lie group Q).

Proof. If the Euler characteristic of A is not well-defined, then the first conclusion of Theorem 1 implies that A is not stabilizable. Similarly, if the Euler characteristic of S is not well-defined, then the first conclusion of Theorem 2 implies that S cannot be rendered safe. Thus, we henceforth assume that (A) and (S) are both well-defined and nonzero.
By approximating Y with a smooth vector field if necessary, we may assume that Y is smooth [Hir94, Ch. 2.2]. Let the vector field Y~ : D  T D be any lift of Y to D satisfying T T Q Y~ = Y T Q

14

NECESSARY CONDITIONS FOR FEEDBACK STABILIZATION AND SAFETY

[Lee13, p. 202, Ex. 8-18]. Defining Y := Y and Y~ := Y~ for > 0, Y~ is the horizontal lift of Y by linearity of horizontal lifts, so

(20)

T T Q  Y~ = Y  T Q

for all > 0. On the other hand, since (U, D, p, f ) is second-order,

(21)

T T Q  f =   p

Since Y is nowhere tangent to D, the image of the right side of (20) is contained in T Q \ D. On
the other hand, the image of the right side of (21) is contained in D. Thus, examination of the left sides of (20) and (21) reveals that Y~ (D)  f (U) = . Since Y~  0 as  0 on compact subsets of D, considering the adversaries X = Y~ in the final statements of Theorems 1 and 2 implies that
A is not stabilizable and S cannot be rendered safe.

We now turn to nonholonomically constrained Lagrangian systems in a fairly general setting,
although we do not strive for ultimate generality. Let Q be a smooth manifold (the configuration
space of a mechanical system, for example), let L : T Q  R be a smooth Lagrangian, and let T Q : T Q  Q be the cotangent bundle projection. Following [AM87, Def. 3.5.2], the fiber derivative FL : T Q  T Q is a fiber-preserving map given in local coordinates by

FL

qi  = L dqi.

i qi

i qi

A Lagrangian is regular if FL is a local diffeomorphism [AM87, Def. 3.5.8]; in local coordinates,

this

means

that

the

matrix

2L qiqj

is

everywhere

invertible.

Let D  T Q be a (constant rank) smooth linear subbundle representing the nonholonomic

constraint q  D. Let U be a smooth manifold, p : U  D be a surjective locally Lipschitz map,

and let F : U  T Q be a locally Lipschitz control force satisfying T Q  F = T Q  p; this simply means that F assigns to each u  U a covector in TqQ over the same basepoint q = T Q(p(u))  Q as that of p(u)  Dq. Assuming that the constraint forces do no work, trajectories q(t) of the
system satisfy, in local coordinates, the Lagrange-d'Alembert equations [Blo15, Eq. 1.3.6] and

constraint equations

(22)

d L L -=
dt qi qi

j

jaji + Fi

aij(q)qj = 0,
j

where ai = j aij(q)dqj are locally defined 1-forms satisfying D = i ker ai and the j(t) are Lagrange multipliers determined to enforce satisfaction of the constraint q  D.
Alternatively, we can write (22) in a global form. Let  be the canonical symplectic form on T Q, L := (FL) be the Lagrange 2-form [AM87, Def. 3.5.5] on T Q, iXL be the interior product of a vector field X on T Q with L, and EL := ( FL(v), v - L) : T Q  R the energy. Then (22) is
equivalent to (see [AM87, Def. 3.5.11, Thm 3.5.17] or [Blo15, Eq. 3.4.6]):

(23)

(dEL - iX L)v  (TvT Q)F + (TvT Q)D0TQ(v),

v  D,

where13 q = v  T Q, q¨ = X  T (T Q), and D0  T Q is the annihilator of D.14

13Here,

note

that

q

and

q¨ are

not

local

coordinate

notations:

t



q(t)

is

a

curve

in

Q,

so

t



d dt

q(t)

=:

q(t)

is

a

curve

in

T Q,

and

thus t 

d dt

q(t)

=:

q¨(t)

is

a

curve

in

T (T Q).

Thus,

q  T Q contains

both position

and velocity

information and q¨  T (T Q) contains position, velocity, and acceleration information.

14A similar global formulation, but without an external force, can be found in [Mon04, Eq. 3.12]. However, the

left side (dEL - iX L) of (23) differs from that of [Mon04, Eq. 3.12] by a minus sign, which is necessary for the left

side of (23) to coincide with that of (22) in local coordinates; cf. [Blo15, Eq. 3.4.6].

NECESSARY CONDITIONS FOR FEEDBACK STABILIZATION AND SAFETY

15

Proposition 4. Let L : T Q  R be a smooth Lagrangian which is regular, and let D  T Q be a (constant rank) smooth linear subbundle.
(1) Then (23) (or, equivalently, (22)) defines a second order control system (U, D, p, f ) such that a curve q(t) satisfies (23) if and only if q¨(t) = X = f , and f : U  T D is locally Lipschitz.
(2) Let A  D be a compact subset and S  D be a precompact subset. Assume there exists a continuous vector field Y on Q which is nowhere tangent to D. Then: · if either (i) the Euler characteristic (A) is not well-defined according to Def. 1, or if (ii) (A) is well-defined and (A) = 0, then A cannot be rendered asymptotically stable by any locally Lipschitz control force F : U  T Q in (23); and · if either (i) the Euler characteristic (S) is not well-defined according to Def. 1, or if (ii) (S) is well-defined and (S) = 0, then S cannot be rendered strictly positively invariant (Def. 3; cf. Def. 4) by any locally Lipschitz control force F : U  T Q in (23).

Remark 8. With only minor changes, a more general result can be formulated assuming only that the force law produces a closed-loop vector field X which is continuous and uniquely integrable. However, the present formulation of Prop. 4 has the virtue of giving sufficient conditions under which f : U  T D is locally Lipschitz, so that closed-loop vector fields X produced by locally Lipschitz forces F are locally Lipschitz and thus uniquely integrable.

Remark 9. The nonholonomic distribution D is locally defined by the Pfaffian constraints j aij(q)qj = 0 of (22), where the ai are locally-defined 1-forms. Suppose that at least one of
these 1-forms can be globally defined, i.e., suppose there exists a continuous 1-form  on Q with D  ker . Then if the vector field Y on Q is the dual of  with respect to any Riemannian metric, Y is nowhere tangent to D, so that the hypothesis in item 2 of Prop. 4 is satisfied. Conversely, if there exists a continuous vector field Y defined on all of Q which is nowhere tangent to D, then the metric dual of the orthogonal projection of Y onto the orthogonal complement of D (with respect to any Riemannian metric) is a continuous 1-form  satisfying D  ker . See Rem. 7 for more discussion on the existence of Y or, equivalently, .

Remark 10. In [BRM92, Sec. 5], sufficient conditions are given under which a smooth equilibrium submanifold N  0D  D of the zero section of D can be stabilized for a certain broad subclass of nonholonomically constrained Lagrangian systems encompassed by (22) (or (23)). For this subclass, these sufficient conditions essentially amount to assuming that (i) the configuration space factors as a product Q = Q1 × Q2 of smooth manifolds (without boundary), so that the configuration decomposes as q = (q1, q2), and (ii) the determinants of a certain pair of matrix-valued functions are nowhere vanishing [BRM92, Eq. 15]. Restated in geometric language, the first determinant being nowhere vanishing is equivalent (by the implicit function theorem) to the existence of a smooth function h : Q2  Q1 such that the equilibrium manifold

(24)

N = {(q1, q2) : q1 = h(q2)} =: graph(h)

is the graph of h (identifying N  0D  Q with a submanifold of Q in the standard way), and the second determinant being nowhere vanishing is equivalent to the statement that

(25)

T Q|N = T N  D|N

splits as the indicated direct (Whitney) sum. Under these and mild additional sufficient conditions, [BRM92, Thm 3] guarantees that N can be rendered asymptotically stable by substituting a rather explicit smooth control force field T Q  T Q for F in (22) (or (23)). As we now explain, this is entirely consistent with the non-stabilizability claim in item 2 of Prop. 4 (with A = N ). First note (24) implies that N is diffeomorphic to Q2, so item 2 of Prop. 4 gives no information concerning

16

NECESSARY CONDITIONS FOR FEEDBACK STABILIZATION AND SAFETY

stabilizability of A = N if either Q2 is noncompact or if Q2 is compact with (Q2) = 0. On the other hand, it is easy to construct examples satisfying the sufficient conditions of [BRM92, Thm 3]
regardless of the topology of Q2, so one might worry that this contradicts the non-stabilizability claim in item 2 of Prop. 4 if Q2 is compact and (Q2) = 0. However, there is no contradiction because Prop. 4 assumes the existence of a continuous vector field Y nowhere tangent to D, and
such a Y cannot exist if Q2 is compact with (Q2) = 0. Indeed, if such a Y existed then the image of Y |N under the linear projection T Q|N = T N  D|N  T N would yield a nowhere-vanishing vector field on N  Q2, contradicting the Poincaré-Hopf theorem (Lem. 1) in light of the assumption that (N ) = (Q2) = 0. Thus, Prop. 4 is in harmony with [BRM92, Thm 3]. However, Prop. 4 can still be used to obtain striking conclusions concerning concrete examples of nonholonomic systems such
as the "vertical rolling disk" treated in Ex. 3 below.

Proof of Prop. 4. The claims in item 2 of the proposition follows directly from item 1, Prop. 3, and
the Picard-Lindelöf theorem, so we need only prove the claim in item 1.
Define LY := iY L for a vector Y and define the vector bundle isomorphism L : T (T Q)  T (T Q) to be the inverse of L : T (T Q)  T (T Q); that L is an isomorphism follows since the regularity of L implies that L is symplectic (nondegenerate) [AM87, Prop. 3.5.9]. Using the fact that L is regular, a local coordinate computation using [AM87, Prop. 3.5.6] reveals that

(26) so

v  D : Tv(T Q) = TvD  L(TvT Q)(D0TQ(v)),
Ev

(27)

T (T Q)|D = T D  E|D,

where E  T (T Q) is defined by (26). Given any Y  T (T Q)|D, we uniquely decompose Y as
Y = YT D + YE according to the splitting (27). Defining G := LdEL and F by Fv := L(TvT Q)Fv for v  D, we may thus rewrite (23) as

(28)

X = XT D  GT D + GE - FT D - FE + E.

Because (27) is a direct sum, (28) implies that

(29)

X = GT D - FT D.

If we define the linear projection  : T D  E|D  T D onto the first factor, we can write (29) more explicitly as

(30)

q¨ = Xq = ((LdEL)q - L(TqT Q)F ),

q  D.

This expression is smooth in q and F since , L, EL, and T Q are smooth. Since the map F : U  T Q is assumed to be locally Lipschitz, so is the map f : U  T (T Q) defined by the right
side of (30) (to define this map, substitute q = p(u) so that T (T Q)f = p, where  : D  T Q is the inclusion map). That the control system (U, T Q, p, f ) is second order follows since the right side of
(30) is the sum of the second order vector ((LdEL)q) with the vertical vector -(L(TqT Q)Fq), so T T (T Q)  f = p. This completes the proof.

Example 3 (Vertical rolling disk). To illustrate Prop. 4 we consider the controlled vertical rolling
disk using steering and driving torque inputs, following [Blo15, Sec. 1.4]. The configuration space Q for this system is Q = SE(2) × S1, with ("generalized") coordinates q = (x, y, , ). The Lagrangian

NECESSARY CONDITIONS FOR FEEDBACK STABILIZATION AND SAFETY

17

for this system is equal to its total kinetic energy, namely:15

(31)

L(q, q) = L(x, y, , , x , y,  , ) = 1 m(x 2 + y2) + 1 I2 + 1 J 2,

2

2

2

where m > 0 is the mass of the disk, I > 0 is the moment of inertia of the disk about the axis perpendicular to the plane of the disk, and J is the moment of inertia about an axis in the plane of the disk (both axes passing through the disk's center) [Blo15, Eq. 1.4.1]. If R > 0 is the radius of the disk, the nonholonomic constraints of rolling without slipping are:

a1 · (x , y,  , ) := x - R(cos ) = 0

(32)

a2 · (x , y,  , ) := y - R(sin ) = 0,

which state that a point P0 fixed on the rim of the disk has zero velocity at its point of contact with the horizontal plane [Blo15, Eq. 1.4.2]. Assuming we have controls in the directions of the two angles  and , the Lagrange-d'Alembert equations (22) in the present case are:

d dt

L q

=

ug

+

u g 

+

1a1

+

2a2,

where g = (0, 0, 1, 0) and g = (0, 0, 0, 1) [Blo15, Eq. 1.4.3]. Here u and u are control inputs, so the control force of (22) and (23) is F = ug + ug, and the i are Lagrange multipliers chosen
to ensure satisfaction of the constraints (32). The set D of points (x, y, , , x , y,  , ) satisfying (32) is a smooth, constant-rank distribution
D  T (SE(2) × S1), and the smooth vector field

Y

:= sin() 

 - cos()

x

y

is nowhere tangent to D. Moreover, the Lagrangian (31) is regular since the matrix

m/2 0 0 0 

2L 

=

qq

 

0 0

m/2 0 0 J/2

0

0


0 0 0 I/2

is everywhere invertible. Thus, if A  D is any compact subset having a well-defined (according to Def. 1) and nonzero Euler characteristic (A), then Prop. 4 implies that A cannot be made asymptotically stable for the closed-loop system determined by any locally Lipschitz control law (q, q)  u(q, q), u(q, q). In particular, if A  D is a 2-dimensional compact submanifold (without boundary), A cannot be made asymptotically stable by such feedback if A is not homeomorphic to either a 2-torus or a Klein bottle.16 On the other hand, [BRM92, Prop. 2] gives a sufficient condition under which a 2-dimensional equilibrium submanifold N  0D  D (compact or not) can be made asymptotically stable for the vertical rolling disk; the preceding sentence implies that, if N is compact, N cannot satisfy these conditions if N is not a torus or a Klein bottle (cf. Rem. 10).
Finally, if S  D is any precompact subset having a well-defined and nonzero Euler characteristic, then the preceding considerations and Prop. 4 imply that S cannot be rendered strictly positively invariant (Def. 3; cf. Def. 4) for the closed-loop system determined by any locally Lipschitz control law (q, q)  u(q, q), u(q, q).

15For notational simplicity, in this example we view q  R4 and write (q, q) in lieu of the more global notation explained in Footnote 13 and used earlier in this section.
16This is because the only compact connected 2-dimensional manifolds (without boundary) with zero Euler char-
acteristic are the 2-torus and the Klein bottle (see Lem. 6 in App. B).

18

NECESSARY CONDITIONS FOR FEEDBACK STABILIZATION AND SAFETY

6. Comparison with selected point stabilization results
Our motivation for Theorem 1 was to introduce a stabilizability test for compact subsets which are more general than single points; our motivation was not to sharpen existing stabilizability tests for single points. However, for completeness, in this section we compare Theorem 1 with [Bro83, Thm 1.(iii)] and a weakened version of [Cor90, Thm 2] in specialized settings in which (in particular) A = {x0} is a single point.
The examples we present in this section are trivial from the perspective of control, since they essentially merely concern vector fields (control systems without control), but they are nonetheless adequate to compare the relative strengths of the three mentioned results.

6.1. Comparison with Brockett's necessary condition. In Rem. 4 we explained that Theorem 1 is at least as strong as [Bro83, Thm 1.(iii)] in the special case that A = {x0} is a point. In this subsection we present an example in which a lack of stabilizability is detected by Theorem 1 but not by [Bro83, Thm 1.(iii)]. Thus, Theorem 1 is strictly stronger than [Bro83, Thm 1.(iii)] in the special case that A is a point.

Example 4. Consider the system of ordinary differential equations (Fig. 3)

x = x2 - y2

(33)

y = 4xy2

on R2.17 We can view the vector field (x, y)  f (x, y) defined by (33) as the trivial control system (U , M, p, f ) = (R2, R2, idR2, f ) "without control", where the notation is as in (7). Here, however, we identify vector fields including f : R2  T R2 with maps R2  R2 using the canonical identification T R2  R2 × R2. The origin of R2 is not asymptotically stable (hence not stabilizable) for f since, e.g., it has index 0 = ±1.18 We will show that (i) this is detected by Theorem 1, but (ii) it is not
possible to detect this using only [Bro83, Thm 1.(iii)].
We begin with the latter claim. Consider the equations

 = x2 - y2

(34)

 = 4xy2

for any constant vector (, )  R2. From the first equation of (34), y2 = x2 - ; substituting this into the second equation yields  = 4x(x2 - ) = 4x3 - 4x. When  = 0, the solutions to the latter equation are 0, ±; because the function x  4x3 - 4x is increasing when |x| > , it follows that the latter equation always has at least one solution x with |x| > . At this solution, x2 -   0, so (x, x2 - ) is a solution to (34). Since ,  can be made arbitrarily small, we see that Brockett's necessary condition is satisfied; thus, it is not possible to deduce from [Bro83, Thm 1.(iii)] that the origin is not stabilizable.
We now show that it is possible to deduce that the origin is not stabilizable from Theorem 1. Consider, for > 0, the equations

= x2 - y2

(35)

- x = 4xy2,

which correspond to the adversary X

=

(

 x

-

x

 y

)

in

the

context

of

Theorem

1.

From

the

second

17Alternatively,

in

terms

of

complex

numbers

z

=

x + iy



C,

with

i

=

 -1,

the

right

side

of

(33)

can

be

written

as f (z) =

1 2

+

y

z2 +

1 2

-

y

z¯2, where z¯ = x - iy.

18For the standard definition of the index of an isolated equilibrium point see, e.g., [Mil65, p. 32] or [GP10, p. 133].

NECESSARY CONDITIONS FOR FEEDBACK STABILIZATION AND SAFETY

19

Trajectories of f
0.4 0.3 0.2 0.1 0.0 0.1 0.2 0.3 0.4 0.4 0.3 0.2 0.1 0x.0 0.1 0.2 0.3 0.4

0.4

Trajectories of X0.01

0.3

0.2

0.1

0.0

0.1

0.2

0.3

0.4 0.4 0.3 0.2 0.1 0.0 0.1 0.2 0.3 0.4

Trajectories of f X0.01
0.4 0.3 0.2 0.1 0.0 0.1 0.2 0.3 0.4 0.4 0.3 0.2 0.1 0.0 0.1 0.2 0.3 0.4

y

Figure 3. This figure illustrates Ex. 4. Shown are numerical approximations of trajectory segments of the vector fields: f defined by (33) (left); -X , with = 0.01, defined by the left side of (35) (middle); and f - X0.01 (right), illustrating the fact that f - X has no equilibria for any > 0. For visualization purposes, the width of each trajectory is proportional to the norm of its instantaneous velocity, and the same proportionality constant was used in all three plots. Each plot was generated using the function streamplot from the Python library matplotlib [Hun07].

equation of (34), (36)

0 = 4x(y2 + ).

Since the term in parentheses is strictly positive, (36) implies that x = 0. Substituting this into the first equation of (35) yields y2 = - , which does not have a (real) solution. Thus, (35) does not have a real solution (x, y) for any > 0. Since X  0 as  0 uniformly on any bounded neighborhood of the origin, Theorem 1 indeed implies that the origin is not stabilizable, as claimed.

6.2. Comparison with Coron's necessary condition. In this subsection we first show (Prop. 5)
that a weakened version of [Cor90, Thm 2] is at least as strong as Theorem 1 in a special case that
A is a point and the mild assumptions described in the paragraph below are satisfied. We then
present an example in which a lack of stabilizability of a point is detected by [Cor90, Thm 2] but
not by Theorem 1. Thus, the weakened version of [Cor90, Thm 2] we present is strictly stronger
than Theorem 1 in the setting of the present subsection.
We begin by introducing the setting and some definitions from [Cor90] in order to state a somewhat weakened version of [Cor90, Thm 2]. Fix integers n  2, m  1, let   Rn be an open neighborhood of 0, and let f :  × Rm  Rn be a continuous map. Denoting by p :  × Rm  Rn the projection onto the first factor and identifying f with a T Rn  Rn × Rn valued map, this defines a control system ( × Rm, , p, f ) in the sense of (7). Given  (0, +], define19

(37)

 := {(x, u)   × Rm : f (x, u) = 0, x < }.

Given an integer k, topological spaces X and Y , and a continuous map g : X  Y , Hk(X) denotes the k-th singular homology of X with coefficients in Z and f : Hk(X)  Hk(Y ) denotes the induced homomorphism on homology.

19Coron's definition of  includes the additional stipulation that u < . This is because Coron considers stabilizability of the origin for control systems f satisfying f (0, 0) = 0 via control laws x  u(x) satisfying u(0), a requirement which Coron can impose without loss of generality in the setting of point stabilization. However, it does not make sense to impose such a requirement in the more general context of our Theorem 1. For this reason, we have modified Coron's definition of  (and also ) in order to state a weakened version of [Cor90, Thm 2] to facilitate comparison with Theorem 1.

20

NECESSARY CONDITIONS FOR FEEDBACK STABILIZATION AND SAFETY

Theorem (weakened version of [Cor90, Thm 2]). Let the control system ( × Rm, , p, f ) and the set    × Rm  Rn × Rm be as defined above. Assume that the origin A = {0} is stabilizable
(Def. 2). Then

(38)

  (0, +] : f(Hn-1( )) = Hn-1(Rn \ {0}).

We now show that this result is at least as strong as the corresponding specialization of Theorem 1,
in the sense that satisfaction of (38) implies satisfaction of the condition of Theorem 1 containing (8) for the control system ( × Rm, , p, f ). When combined with Example 5, it follows that this weakened version of [Cor90, Thm 2] result is strictly stronger than Theorem 1 in the special case of stabilizing a point in Rn.

Proposition 5. Assume that (38) is satisfied in the setting of the weakened version of [Cor90, Thm 2] stated above. Then for any neighborhood W   of 0    Rn, there exists a neighborhood V  Rn of 0  Rn such that, for any continuous adversary X : W  V,

(39)

f (W × Rm)  X(W) = .

Remark 11. Our proof is a minor modification of [Cor90, Sec. 2.(B)].

Proof. We assume (38) and want to show that the condition containing (39) holds. Let W    Rn be any neighborhood of 0 and fix > 0 small enough that B  W, where B  Rn is the open ball of radius centered at 0. Let K be a compact subset of   B × Rm such that

(40)

f(Hn-1(K)) = Hn-1(Rn \ {0}) (= Z);

the condition (38) implies the existence of such a compact set. Since K is a compact subset of  , there exists  > 0 such that

(41)

(x, u)  K : f (x, u)  B.

Since B  W, to show that the condition containing (39) holds for some V it suffices to establish the claim that, for any continuous adversary X : B  B, X(B )  f (B × Rm) =  (taking V = B). Indeed, if this is not the case then there exists a continuous adversary X : B  B such that

(42)

(x, u)  B × Rm : f (x, u) = X(x).

Let  : Rn  [0, 1] be any continuous function satisfying -1(1)  B and -1(0)  f (K) [Lee13, Lem. 2.22], and define the continuous map  : B × Rn  Rn by

(43)

(x, y) := y - (y)X(x).

Since sX(x)  B for all x  B and 0  s  1, it follows that (x, y) = 0 if and only if y  B and y = (y)X(x), which in turn holds if and only if y = X(x). Thus,

(44)

x  B , y  Rn : (x, y) = 0  y = X(x).

It follows from (42) and (44) that (x, f (x, u)) = 0 is nonzero for all x  B and u  Rm, so the formula
h(t, (x, u)) := (tx, f (tx, tu))
defines a continuous homotopy h : [0, 1] × K  Rn \ {0} with h(0, · ) a constant map. Moreover, (43) and the fact that (f (K)) = {0} imply that h(1, · ) = f |K, so f |K is nullhomotopic. Thus, f(Hn-1(K)) = {0}  Hn-1(Rn \ {0}), contradicting (40) and completing the proof.

NECESSARY CONDITIONS FOR FEEDBACK STABILIZATION AND SAFETY

21

Example 5. In this example we show that Theorem 1 can fail to detect that a point A = {x0} is not stabilizable while the weakened version of [Cor90, Thm 2] does detect non-stabilizability. Thus, this example together with Prop. 5 imply that the weakened version of [Cor90, Thm 2] stated above is strictly stronger than Theorem 1 under the assumptions of the present subsection.
Consider the system of ordinary differential equations (Fig. 4)

x = x2 - y2 (45)
y = 2xy.

on R2.20 Let (x, y)  g(x, y) be the vector field defined by the right side of (45). In order to apply the weakened version of [Cor90, Thm 2], which formally requires controls u  Rm with m  1, we fix any m  1 and view (45) as defining a trivial control system (R2 × Rm, R2, p, g  p) "without control", where p(x, y, u) := (x, y) and the notation is as in (7). Here, however, we identify vector fields R2  T R2 with maps R2  R2 using the canonical identification T R2  R2 × R2. The origin of R2 is not asymptotically stable (hence not stabilizable) for g since, e.g., it has index 2 = ±1. We
will show that (i) this is not detected by Theorem 1, but (ii) it is detected by [Cor90, Thm 2]. We begin with the former claim. Let W  R2 be an arbitrary neighborhood of the origin.
Since the origin is the unique zero of g and since the origin has index 2 = 0 for g, there exists a neighborhood V  R2 of the origin such that, for any continuous adversary X : W  V taking values in V, the perturbed vector field g - X has a zero in W.21 Thus, f (p-1(W))  X(W) =
g(W)  X(W) = , so Theorem 1 cannot detect that the origin is not stabilizable (asymptotically
stable for g).
However, the fact that the origin has index 2 for g implies that the induced map

(46)

g : H1(R2 \ {(0, 0)})  H1(R2 \ {(0, 0)})

on singular homology (with integer coefficients) sends a generator 1  H1(R2 \ {(0, 0)}) = Z to

twice itself. In other words, g : Z  Z is the doubling map g : k  2k, which is not surjective. Since f | = (g  p)| and p( ) = R2 \ {(0, 0)}, it follows that f(H1( )) = g(p(H1( ))) = H1(R2 \ {(0, 0)}). Thus, the weakened version of [Cor90, Thm 2] indeed implies that the origin is

not stabilizable (asymptotically stable for g) as claimed.

7. Conclusion

We have generalized Brockett's necessary condition for feedback stabilization of points to one for

feedback stabilization of general compact subsets having a nonzero Euler characteristic, where Euler

characteristic is defined using Cech-Alexander-Spanier cohomology (Def. 1). This generalization

furnishes a test which can be used to rule out stabilizability of a compact subset for a fairly general

class of control systems (Eq. (7)). Using this generalization, we have formulated an analogous

necessary condition which can be used to test whether a control system can be made to operate

safely relative to some subset of state space with a precompact complement having nonzero Euler

characteristic. As evidenced by §4 and 5, both tests appear readily applicable in a variety of concrete

and fairly general situations. In the special case that the compact subset under consideration for

stabilization is a point, we showed in §6 that our necessary condition (Theorem 1) is strictly stronger

20Alternatively,

in

terms

of

complex

numbers

z

=

x + iy



C,

with

i

=

 -1,

the

right

side

of

(33)

can

be

written

as g(z) = z2.

21This is because the index 2 of (0, 0) for g is the winding number (Brouwer degree [Mil65, p. 27]) of the map

g g

: B



S1,

where

B

is

a small ball

centered

at (0, 0),

and

continuity

implies

that

the

winding

number of

g-X g-X

: B  S1 is well-defined and matches that of

g g

if the norm of X|S is sufficiently small. Thus, the winding

number of

g-X g-X

is nonzero if X is small enough, and this in turn implies that g - X has at least one zero in int(B)

[Mil65, p. 28, Lem. 1].

22

NECESSARY CONDITIONS FOR FEEDBACK STABILIZATION AND SAFETY

0.4

Trajectories of g

0.3

0.2

0.1

y

0.0

0.1 0.2 0.3

0.4 0.4

0.3

0.2

0.1

0x.0

0.1

0.2

0.3

0.4

Figure 4. This figure illustrates Ex. 5. Shown are numerical approximations of trajectory segments of the vector field g defined by the right side of (45). For visualization purposes, the width of each trajectory is proportional to the norm of its instantaneous velocity. This plot was generated using the function streamplot from the Python library matplotlib [Hun07].

than Brockett's ([Bro83, Thm 1.(iii)]), but is strictly weaker than one due to Coron ([Cor90, Thm 2]) under certain mild assumptions.
This raises an interesting prospect of generalizing the results of [Cor90] to devise tests for stabilization of subsets more general than points and for safety. Arguably even more interesting is the prospect of devising necessary conditions which--unlike Theorems 1 and 2--can be used to test stabilizability and safety without the assumption of nonzero Euler characteristic. Such necessary conditions would be needed, for example, to test for stabilizability of topological circles (which have zero Euler characteristic) such as limit cycles. Finally, the stabilizability tests devised in the present paper and, to our knowledge, in previous work (see §1.2) apply only to continuous-time control systems. It seems important to develop analogous tests for discrete-time systems and, more generally [KGK20, Ex. 1], hybrid system22 models necessitated by the study of systems from robotics and biomechanics for which the making and breaking of contacts is an intrinsic feature [KFB04, Kod21].
Dedication. We dedicate this paper to Anthony M. Bloch on the occasion of his 65th birthday. Kvalheim would like to thank Bloch for his mentorship and, in particular, for introducing him to Brockett's necessary condition and to geometric mechanics during an inspiring course taught by Bloch at the University of Michigan in 2014. Koditschek would like to thank Bloch for his inspirational work and many decades of kind, unstinting tutorial wisdom.
Acknowledgments. This work is supported in part by the Army Research Office (ARO) under the SLICE Multidisciplinary University Research Initiatives (MURI) Program, award W911NF1810327, and in part by grant N00014-16-1-2817, a Vannevar Bush Faculty Fellowship held by the second author, sponsored by the Basic Research Office of the Assistant Secretary of Defense for Research and Engineering. The authors gratefully acknowledge helpful conversations with Yuliy Baryshnikov, William Clark, George Council, and Eugene Lerman. We owe special gratitude to Clark for carefully reading the manuscript and making suggestions which improved its quality.
22See, e.g., [SJLS05, HTP05, GST09, JBK16, Ler16, CGKS19]; more references can be found in [KGK20].

NECESSARY CONDITIONS FOR FEEDBACK STABILIZATION AND SAFETY

23

References

[AL01] [AM87] [Ast96] [BD94] [BD96] [BDK00] [Blo15] [BR11] [BRM92] [Bro77] [Bro83] [Byr08] [CGKS19] [CLH+05] [CLS98] [Con78] [Cor90] [Cor92] [Cor07] [DWS91] [EK00] [FP19] [GM85] [Gob01] [GP10] [GS93] [GST09] [Har02] [Has78]

A A Agrachev and D Liberzon, Lie-algebraic stability criteria for switched systems, SIAM Journal on Control and Optimization 40 (2001), no. 1, 253­269. R Abraham and J E Marsden, Foundations of mechanics, 2 ed., Addison-Wesley, 1987. A Astolfi, Discontinuous control of nonholonomic systems, Systems & control letters 27 (1996), no. 1, 37­45. A Bloch and S Drakunov, Stabilization of a nonholonomic system via sliding modes, Proceedings of 1994 33rd IEEE Conference on Decision and Control, vol. 3, IEEE, 1994, pp. 2961­2963.
, Stabilization and tracking in the nonholonomic integrator via sliding modes, Systems & Control Letters 29 (1996), no. 2, 91­99. A M Bloch, S V Drakunov, and M K Kinyon, Stabilization of nonholonomic systems using isospectral flows, SIAM Journal on Control and Optimization 38 (2000), no. 3, 855­874. A M Bloch, Nonholonomic mechanics and control, 2 ed., vol. 24, Springer-Verlag, 2015. A Bry and N Roy, Rapidly-exploring random belief trees for motion planning under uncertainty, 2011 IEEE international conference on robotics and automation, IEEE, 2011, pp. 723­730. A M Bloch, M Reyhanoglu, and N H McClamroch, Control and stabilization of nonholonomic dynamic systems, IEEE Transactions on Automatic control 37 (1992), no. 11, 1746­1757. R W Brockett, Control theory and analytical mechanics, Geometric Control Theory, Lie Groups: History, Frontiers and Applications (1977), 1­46.
, Asymptotic stability and feedback stabilization, Differential geometric control theory 27 (1983), no. 1, 181­191. C I Byrnes, On Brockett's necessary condition for stabilizability and the topology of Liapunov functions on Rn, Communications in Information and Systems 8 (2008), no. 4, 333­352. J Culbertson, P Gustafson, D E Koditschek, and P F Stiller, Formal composition of hybrid systems, arXiv preprint arXiv:1911.01267 (2019). H M Choset, K M Lynch, S Hutchinson, G Kantor, W Burgard, L Kavraki, S Thrun, and R C Arkin, Principles of robot motion: theory, algorithms, and implementation, MIT press, 2005. F H Clarke, Y S Ledyaev, and Ronald J Stern, Asymptotic stability and smooth lyapunov functions, Journal of differential Equations 149 (1998), no. 1, 69­114. C C Conley, Isolated invariant sets and the Morse index, no. 38, American Mathematical Society, 1978. J-M Coron, A necessary condition for feedback stabilization, Systems & Control Letters 14 (1990), no. 3, 227­232.
, Global asymptotic stabilization for controllable systems without drift, Mathematics of Control, Signals and Systems 5 (1992), no. 3, 295­312.
, Control and nonlinearity, no. 136, American Mathematical Soc., 2007. C C De Wit and O J Sordalen, Exponential stabilization of mobile robots with nonholonomic constraints, [1991] Proceedings of the 30th IEEE Conference on Decision and Control, IEEE, 1991, pp. 692­697. K Eda and K Kawamura, The singular homology of the hawaiian earring, Journal of the London Mathematical Society 62 (2000), no. 1, 305­310. Albert Fathi and Pierre Pageault, Smoothing lyapunov functions, Transactions of the American Mathematical Society 371 (2019), no. 3, 1677­1700. J W Grizzle and S I Marcus, The structure of nonlinear control systems possessing symmetries, IEEE Transactions on Automatic Control 30 (1985), no. 3, 248­258. Massimo Gobbino, Topological properties of attractors for dynamical systems, Topology 40 (2001), no. 2, 279­298. V Guillemin and A Pollack, Differential topology, AMS Chelsea Publishing, Providence, RI, 2010, Reprint of the 1974 original. MR 2680546 Bernd Günther and Jack Segal, Every attractor of a flow on a manifold has the shape of a finite polyhedron, Proceedings of the American Mathematical Society 119 (1993), no. 1, 321­329. R Goebel, R G Sanfelice, and A Teel, Hybrid dynamical systems, Control Systems, IEEE 29 (2009), no. 2, 28­93. P Hartman, Ordinary differential equations, 2 ed., SIAM, 2002. Harold M Hastings, Shape theory and dynamical systems, The structure of attractors in dynamical systems, Springer, 1978, pp. 150­159.

24

NECESSARY CONDITIONS FOR FEEDBACK STABILIZATION AND SAFETY

[Has79]
[Hat01] [Hir94]
[HTP05]
[Hun07]
[Hur82]
[IS98]
[Jac70] [JBK16]
[Kap94]
[Kap95]
[KDW95]
[KFB04]
[KGK20]
[Kod21]
[KR19]
[KRM94]
[Lee10] [Lee13] [Ler16] [Ler18] [LK07]
[Mas78]
[Mas91] [Mil65] [Mil85]
[Mil06] [MM93]
[Mon04] [Mor01] [MPS99]
[MS00]

H M Hastings, A higher-dimensional Poincaré-Bendixson theorem, Glas. Mat. Ser. III 14 (1979), no. 34, 263­268. A Hatcher, Algebraic topology, 1 ed., Cambridge University Press, 2001. M W Hirsch, Differential topology, Graduate Texts in Mathematics, vol. 33, Springer-Verlag, New York, 1994, Corrected reprint of the 1976 original. MR 1336822 E Haghverdi, P Tabuada, and G J Pappas, Bisimulation relations for dynamical, control, and hybrid systems, Theoretical Computer Science 342 (2005), no. 2-3, 229­261. J D Hunter, Matplotlib: A 2d graphics environment, Computing in Science & Engineering 9 (2007), no. 3, 90­95. M Hurley, Attractors: persistence, and density of their basins, Transactions of the American Mathematical Society 269 (1982), no. 1, 247­271. M Ishikawa and M Sampei, On equilibria set and feedback stabilizability of nonlinear control systems, IFAC Proceedings Volumes 31 (1998), no. 17, 609­614. W Jaco, Surfaces embedded in M 2 × S1, Canadian Journal of Mathematics 22 (1970), no. 3, 553­568. A M Johnson, S A Burden, and D E Koditschek, A hybrid systems model for simple manipulation and self-manipulation systems, The International Journal of Robotics Research 35 (2016), no. 11, 1354­1392. E Kappos, The role of Morse-Lyapunov functions in the design of nonlinear global feedback dynamics, Variable Structure and Lyapunov Control, Springer, 1994, pp. 249­267.
, Necessary conditions for global feedback control, Proc Internat Symp on Nonlinear Theory and its Applications, Las Vegas, LA, Citeseer, 1995. H Khennouf and C C De Wit, On the construction of stabilizing discontinuous controllers for nonholonomic systems, IFAC Proceedings Volumes 28 (1995), no. 14, 667­672. D E Koditschek, R J Full, and M Buehler, Mechanical aspects of legged locomotion control, Arthropod structure & development 33 (2004), no. 3, 251­272. M D Kvalheim, P Gustafson, and D E Koditschek, Conley's fundamental theorem for a class of hybrid systems, arXiv preprint arXiv:2005.03217 (2020). D E Koditschek, What is robotics? Why do we need it, and how can we get it?, Annual Review of Control, Robotics, and Autonomous Systems 4 (2021), no. (to appear), 1­37. M D Kvalheim and S Revzen, Existence and uniqueness of global Koopman eigenfunctions for stable fixed points and periodic orbits, arXiv preprint arXiv:1911.11996 (2019). L V Kolmanovksy, M Reyhanoglu, and N H McClamroch, Discontinuous feedback stabilization of nonholonomic systems in extended power form, Proceedings of 1994 33rd IEEE Conference on Decision and Control, vol. 4, IEEE, 1994, pp. 3469­3474. J M Lee, Introduction to topological manifolds, 2 ed., Springer Science & Business Media, 2010.
, Introduction to smooth manifolds, 2 ed., Springer-Verlag, 2013. E Lerman, A category of hybrid systems, arXiv preprint arXiv:1612.01950 (2016).
, Networks of open systems, Journal of Geometry and Physics 130 (2018), 81­112. G A D Lopes and D E Koditschek, Visual servoing for nonholonomically constrained three degree of freedom kinematic systems, The International Journal of Robotics Research 26 (2007), no. 7, 715­736. W S Massey, Homology and cohomology theory: an approach based on Alexander-Spanier cochains, vol. 46, Marcel Dekker, 1978.
, A basic course in algebraic topology, Springer-Verlag, 1991. J Milnor, Topology from the differentiable viewpoint, Princeton university press, 1965.
, On the concept of attractor: Correction and remarks, Communications in Mathematical Physics 102 (1985), no. 3, 517­519. J W Milnor, Attractor, Scholarpedia 1 (2006), no. 11, 1815. R T M'Closkey and R M Murray, Convergence rates for nonholonomic systems in power form, 1993 American Control Conference, IEEE, 1993, pp. 2967­2972. J C Monforte, Geometric, control and numerical aspects of nonholonomic systems, Springer, 2004. S Morita, Geometry of differential forms, no. 201, American Mathematical Soc., 2001. Pascal Morin, Jean-Baptiste Pomet, and Claude Samson, Design of homogeneous time-varying stabilizing control laws for driftless controllable systems via oscillatory approximation of lie brackets in closed loop, SIAM Journal on Control and Optimization 38 (1999), no. 1, 22­49. Pascal Morin and Claude Samson, Control of nonlinear chained systems: From the routh-hurwitz stability criterion to time-varying exponential stabilizers, IEEE Transactions on Automatic Control 45 (2000), no. 1, 141­146.

NECESSARY CONDITIONS FOR FEEDBACK STABILIZATION AND SAFETY

25

[MV94] P W Michor and C Vizman, n-transitivity of certain diffeomorphism groups, Acta Math. Univ. Come-

nianae 63 (1994), no. 2, 221­225.

[OPM03] R Orsi, L Praly, and I Mareels, Necessary conditions for stability and attractivity of continuous systems,

International Journal of Control 76 (2003), no. 11, 1070­1077.

[PA14]

L Palmieri and K O Arras, A novel rrt extend function for efficient and smooth mobile robot motion

planning, 2014 IEEE/RSJ International Conference on Intelligent Robots and Systems, IEEE, 2014,

pp. 205­211.

[PAK18] V Pacelli, O Arslan, and D E Koditschek, Integration of local geometry and metric information in

sampling-based motion planning, 2018 IEEE International Conference on Robotics and Automation

(ICRA), IEEE, 2018, pp. 3061­3068.

[PK15]

J J Park and B Kuipers, Feedback motion planning via non-holonomic rrt* for mobile robots, 2015

IEEE/RSJ International Conference on Intelligent Robots and Systems (IROS), IEEE, 2015, pp. 4035­

4040.

[Pom92] J-B Pomet, Explicit design of time-varying stabilizing control laws for a class of controllable systems

without drift, Systems & control letters 18 (1992), no. 2, 147­158.

[PT05]

C Prieur and E Trélat, Robust optimal stabilization of the Brockett integrator via a hybrid feedback,

Mathematics of Control, Signals and Systems 17 (2005), no. 3, 201­216.

[Pug68] C C Pugh, A generalized Poincaré index formula, Topology 7 (1968), no. 3, 217­226.

[RKM20] S F Roberts, D E Koditschek, and L J Miracchi, Examples of Gibsonian affordances in legged robotics

research using an empirical, generative framework, Frontiers in neurorobotics 14 (2020), 12.

[RS88]

Joel W Robbin and Dietmar Salamon, Dynamical systems, shape theory and the Conley index, Ergodic

Theory and Dynamical Systems 8 (1988), no. 8*, 375­393.

[Rya94] E P Ryan, On Brockett's condition for smooth stabilizability and its necessity in a context of nonsmooth

feedback, SIAM Journal on Control and Optimization 32 (1994), no. 6, 1597­1604.

[SE95]

O J Sordalen and O Egeland, Exponential stabilization of nonholonomic chained systems, IEEE trans-

actions on automatic control 40 (1995), no. 1, 35­49.

[Shu74] M Shub, Dynamical systems, filtrations and entropy, Bulletin of the American Mathematical Society 80

(1974), no. 1, 27­41.

[SJLS05] S N Simi, K H Johansson, J Lygeros, and S Sastry, Towards a geometric theory of hybrid systems,

Dynamics of Continuous, Discrete and Impulsive Systems Series B: Applications and Algorithms 12

(2005), no. 5-6, 649­687.

[Spa66] E H Spanier, Algebraic topology, Springer Science & Business Media, 1966.

[TL02]

Y-P Tian and S Li, Exponential stabilization of nonholonomic dynamic systems by smooth time-varying

control, Automatica 38 (2002), no. 7, 1139­1146.

[TMW92] A R Teel, R M Murray, and G Walsh, Nonholonomic control systems: From steering to stabilization

with sinusoids, [1992] Proceedings of the 31st IEEE Conference on Decision and Control, IEEE, 1992,

pp. 1603­1609.

[Ura15] T Urakubo, Feedback stabilization of a nonholonomic system with potential fields: application to a

two-wheeled mobile robot among obstacles, Nonlinear Dynamics 81 (2015), no. 3, 1475­1487.

[Ura18]

, Stability analysis and control of nonholonomic systems with potential fields, Journal of Intelli-

gent & Robotic Systems 89 (2018), no. 1, 121­137.

[vdS81] Arjan van der Schaft, Symmetries and conservation laws for Hamiltonian systems with inputs and

outputs: A generalization of noether's theorem, Systems & Control Letters 1 (1981), no. 2, 108­115.

[VPS+20] V Vasilopoulos, G Pavlakos, K Schmeckpeper, K Daniilidis, and D E Koditschek, Reactive navi-

gation in partially familiar planar environments using semantic perceptual feedback, arXiv preprint

arXiv:2002.08946 (2020).

[VTVB+18] V Vasilopoulos, T T Topping, W Vega-Brown, N Roy, and D E Koditschek, Sensor-based reactive

execution of symbolic rearrangement plans by a legged mobile manipulator, 2018 IEEE/RSJ International

Conference on Intelligent Robots and Systems (IROS), IEEE, 2018, pp. 3298­3305.

[WB93] G Cs Walsh and L G Bushnell, Stabilization of multiple input chained form control systems, Proceedings

of 32nd IEEE Conference on Decision and Control, IEEE, 1993, pp. 959­964.

[Wil67] F W Wilson, Jr., The structure of the level surfaces of a Lyapunov function, J. Differential Equations

3 (1967), 323­329. MR 0231409

[Wil69]

, Smoothing derivatives of functions and applications, Trans. Amer. Math. Soc. 139 (1969),

413­428. MR 0251747

26 [Zab89]

NECESSARY CONDITIONS FOR FEEDBACK STABILIZATION AND SAFETY
J Zabczyk, Some comments on stabilizability, Applied Mathematics and Optimization 19 (1989), no. 1, 1­9.

Appendix A. Unique integrability, asymptotic stability, and Lyapunov functions
In this appendix we review some facts about continuous vector fields for the convenience of the reader. In addition to definitions, we recall here two key facts that we use: a continuous and uniquely integrable vector field (i) generates a unique maximal continuous local flow (Lem. 3), (ii) for which any compact asymptotically stable subset possesses a (strict) proper C Lyapunov function (Lem. 4).

A.1. Unique integrability. Let M be a smooth manifold and F be a continuous vector field on M . Consider the following ordinary differential equation:

(47)

x = F (x).

For every initial condition x0  M , the Peano existence theorem asserts existence (but not uniqueness) of a solution t  x(t) of (47) defined on some open interval in R containing 0 and satisfying x(0) = x0 [Har02, Sec. II.2]. Such a solution is maximal if it does not admit an extension to a solution of (47) defined on a strictly larger interval. If maximal solutions of (47) happen to be unique, we say that the vector field F is uniquely integrable. We remind the reader of the following fact, which follows from the Picard-Lindelöf theorem [Har02, Sec. II.1].

Remark 12. Every locally Lipschitz continuous vector field is uniquely integrable.

Solutions to an ordinary differential equation determined by a locally Lipschitz vector field depend continuously on the initial condition; this is also true when the vector field is merely continuous and uniquely integrable [Har02, p. 94, Thm 2.1]. Thus, in the same way that a smooth or locally Lipschitz vector field on a manifold gives rise to a unique maximal smooth or locally Lipschitz continuous local flow (e.g., see the proof of [Lee13, Thm 9.12]), a continuous and uniquely integrable vector field F gives rise to a unique maximal continuous local flow  : dom()  R × M  M . Here t  t(x0) is the (assumed unique) maximal solution to (47) with initial condition x0; see [Lee13, pp. 211­212] for the standard definition and properties of a maximal continuous local flow.
We record this observation in the following.

Lemma 3. If F is a continuous and uniquely integrable vector field on M , then there exists a unique maximal continuous local flow  on M generated by F .

A.2. Asymptotic stability. Let F be a continuous and uniquely integrable vector field on the smooth manifold M . A subset A  M is invariant if, for all x0  A, the unique maximal solution to (47) with x(0) = x0 is defined and belongs to A for all time (x(t)  A for all t  R). A compact invariant subset A  M is Lyapunov stable if, for every open set U  A, there exists an open set V  A such that x(t)  V for all t  0 when x(0)  U . A compact invariant subset A  M is asymptotically stable if A is Lyapunov stable and if there is an open set W  A such that, if x0  W and x(t) is the unique maximal solution to (47) with x(t) = x0,

(48)

lim dist(x(t), A) = 0,

t

where dist( · , · ) is any distance compatible with the topology of M . The basin of attraction B(A) of an asymptotically subset A is is an open set defined to be the largest possible set W with the above property. We say that A  M is globally asymptotically stable if A is asymptotically stable and if B(A) = M .

NECESSARY CONDITIONS FOR FEEDBACK STABILIZATION AND SAFETY

27

A useful result is the following [Hur82, Lem. 1.6] (see also [Mil85, Mil06]). Let  be the unique maximal continuous local flow generated by F (Lem. 3). Then A  M is asymptotically stable if and only if there exists a precompact open set U  A with [0, ) × U  dom() and

(49)

A = t(U ).

t>0

Thus, despite the presence of the distance function in (48), asymptotic stability of a compact subset is a well-defined, metric-independent notion.

Remark 13. In this paper, we only discuss asymptotic stability for compact subsets A  M . If A is noncompact then, as explained by Wilson [Wil69, pp. 425­426], A does not have a countable neighborhood basis, so a reasonable definition of asymptotic stability for A requires the presence of a specific metric on M . If A is compact, however, then asymptotic stability of A is a purely topological notion as demonstrated by the characterization (49) above.

If A is asymptotically stable for the continuous and uniquely integrable vector field F , we say that V : B(A)  [0, ) is a (strict) proper C Lyapunov function for A if
· V : B(A)  [0, ) is C; · for every c  0, the sublevel set {x  B(A) : V (x)  c} is compact; · A = {x  B(A) : V (x) = 0}; · the Lie derivative LF V satisfies LF V  0 and LF V (x) < 0 when x  A.
We will use the following result.

Lemma 4 ([Wil69, FP19]). Let A  M be a compact set which is asymptotically stable for the continuous and uniquely integrable vector field F on M . Then there exists a C proper Lyapunov
function V for A.

Appendix B. Low-dimensional manifolds with boundary and zero Euler
characteristic
In this appendix we explain why (in Lem. 5 and 6) the only compact connected manifolds with (or without) boundary having zero Euler characteristic and dimension less than or equal to two are the circle S1, the torus T2, cylinder S1 × [0, 1], the Möbius band (with boundary) M, and the Klein bottle K. To do this, we rely on the standard classification theorems for compact connected manifolds of dimensions 1 and 2. (The only connected 0-dimensional manifold is a point, which has Euler characteristic equal to 1.)
In the following two statements, a C0 diffeomorphism means a homeomorphism.
Lemma 5. Let k  N0  {+} and M be a compact and connected 1-dimensional Ck manifold with (or without) boundary. Then if the Euler characteristic (M ) = 0, M is Ck diffeomorphic to a circle.
Proof. First assume that k = 0 (resp. k = ). The classification theorem for topological (resp. C) 1-manifolds with boundary implies that M is homeomorphic (resp. C diffeomorphic) to S1 or to [0, 1]. The former has zero Euler characteristic while the latter has Euler characteristic equal to 1 = 0. Thus, if (M ) = 0, M must be homeomorphic (resp. C diffeomorphic) to S1. Finally, M is Ck diffeomorphic to a C manifold in the case that k  N1 [Hir94, p. 52, Thm 2.10(a)], so the lemma in the present case follows from the case k = .
Lemma 6. Let k  N0  {+} and M be a compact and connected 2-dimensional Ck manifold with (or without) boundary M . Then if the Euler characteristic (M ) = 0, M is Ck diffeomorpic to one of the following: the 2-torus T2, the cylinder S1 × [0, 1], the Möbius band (with boundary) M, or the Klein bottle K.

28

NECESSARY CONDITIONS FOR FEEDBACK STABILIZATION AND SAFETY

Proof. We first note that every Ck manifold with k  N1 is Ck diffeomorphic to a C manifold [Hir94, p. 52, Thm 2.10(a)] so that, as in the proof of Lem. 5, it suffices to consider the case of C0 and C surfaces with boundary.
Now, if such a surface with boundary M is orientable, then the classification theorem for surfaces with boundary implies that M is either homeomorphic or (C) diffeomorphic to a sphere or to a connected sum of g  N1 tori with some finite number b  N0 of open disks removed [Lee10, Thm 6.15, Problem 6-5], [Hir94, p. 205, Thm 3.7]. Define g to be zero in the case of the sphere. The Euler characteristic of a connected sum of g tori is 2 - 2g, and the Euler characteristic of a sphere is 2 [Lee10, Prop. 6.19]. Since the Euler characteristic of a disk is 1 and the Euler characteristic of a circle is 0, the inclusion-exclusion property of the Euler characteristic [Spa66, p. 205, Ex. B.2] implies the following formula:
(M ) = 2 - 2g - b.
We see that (M ) = 0 implies that either (i) g = 1 and b = 0 or (ii) g = 0 and b = 2. In the first case, M is homeomorphic or diffeomorphic to T2. In the second case, M is homeomorphic or diffeomorphic to a sphere with two open disks removed, which is homeomorphic or diffeomorphic to S1 × [0, 1].
In the case that M is nonorientable, M is homeomorphic or diffeomorphic to the connected sum of g  N1 projective planes with b  N0 open disks removed [Lee10, Thm 6.15, Problem 6-5], [Hir94, p. 206, Thm 3.10]. The Euler characteristic of a connected sum of g projective planes is 2 - g [Lee10, Prop. 6.19], so--as in the orientable case--the inclusion-exclusion property of the Euler characteristic implies the formula
(M ) = 2 - g - b.
We see that (M ) = 0 implies that either (i) g = 1 and b = 1 or (ii) g = 2 and b = 0. Since the projective plane can be obtained by gluing a disk along its boundary circle to the boundary of a Möbius band [Lee10, Problem 6-2], [Hir94, p. 29, Ex. 15], in the first case M is homeomorphic or diffeomorphic to a Möbius band. In the second case M is homeomorphic or diffeomorphic to a Klein bottle [Lee13, Lem. 6.16], [Hir94, p. 192]. This completes the proof.

