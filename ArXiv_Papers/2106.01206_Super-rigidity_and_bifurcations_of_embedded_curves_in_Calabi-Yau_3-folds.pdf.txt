SUPER-RIGIDITY AND BIFURCATIONS OF EMBEDDED CURVES IN CALABI­YAU 3-FOLDS
SHAOYUN BAI AND MOHAN SWAMINATHAN
Abstract. We study certain bifurcations of moduli spaces of embedded pseudoholomorphic curves in symplectic Calabi­Yau 3-folds and associated obstruction bundles. As a corollary, we give a direct definition of the Gopakumar­Vafa invariant in a special case.

arXiv:2106.01206v2 [math.SG] 9 Jun 2021

1. Introduction

Let (X, ) be a symplectic Calabi­Yau 3-fold, i.e., it is a closed symplectic manifold of (real) dimension 6 with c1(T X, ) = 0  H2(X, Z). After choosing an -compatible almost complex structure J  J (X, ), the genus g Gromov­
Witten invariant of (X, ) of class 0 = A  H2(X, Z) with no marked points, denoted by GWA,g(X), is defined by certain counts of J-holomorphic maps into X and it is independent of J. In general, GWA,g(X)  Q because of the non-triviality of the automorphism groups of certain J-holomorphic maps. Nonetheless, they are
determined by the Z-valued BPS numbers nA,h(X) via the formula

GWA,g(X)t2g-2qA =

1

kt

nA,h (X )

2 sin

k

2

A=0

A=0

k=1

g0

h0

2h-2
qkA,

(1.1)

conjectured by Gopakumar­Vafa [GV98] and proved by Ionel­Parker [IP18]. However, Ionel­Parker's proof of nA,h(X)  Z does not illustrate the meaning of
these Gopakumar­Vafa invariants. When (X, ) is further assumed to be a smooth projective variety, Maulik­Toda [MT18] propose a sheaf-theoretic definition of the Gopakumar­Vafa invariants, based on earlier works of Hosono­Saito­Takahashi [HST01] and Kiem­Li [KL12]. Despite the beauty of the definition, it is not known how to prove the deformation invariance of Maulik­Toda's ansatz and the proof of formula (1.1) using this definition seems to be out of reach in general. Moreover, the sheaf-theoretic definition relies crucially on the algebraicity of X, making it hard to generalize it to general symplectic Calabi­Yau 3-folds (equipped with not necessarily integrable almost complex structures).
There are several pieces of evidence indicating that the BPS numbers nA,h(X) should be related to certain counts of embedded J-holomorphic curves in X. The following is Conjecture 7.4.5 in Cox­Katz's book [CK99].

Conjecture 1.1. Suppose (X, ) is a symplectic Calabi­Yau 3-fold. For a generic almost complex structure J tamed by , we have:
(1) For any homology class A  H2(X, Z), there are finitely many immersed J-holomorphic curves of genus 0 and class A. These curves are embedded, and no two intersect.
1

2

SHAOYUN BAI AND MOHAN SWAMINATHAN

(2) All J-holomorphic maps   X of genus 0 are multiple covers of the above embeddings.
(3) For each A  H2(X, Z), the BPS number nA,0(X) satisfies

nA,0(X) = nA,0(X) +

c(k, C),

A=kB kZ2

CM0 (X,J,B)

where nA,0(X) is the signed count of embedded J-curves of genus 0 and class A and each c(k, C) is an integer determined by degree k covers of the
embedded curve C.

In fact, Katz proposes an algebro-geometric counterpart of the above conjecture in [Kat08] using Donaldson­Thomas invariants. For a second piece of evidence, Ionel­Parker [IP18, Equation (8.1)] prove that the Gromov­Witten generating function satisfies

GWA,g(X)t2g-2qA =

eA,g(X) · GWeglem(qA, t)

A=0,g0

A=0,g0

(1.2)

where GWeglem is some universal generating series and eA,g(X)  Z is regarded as a "virtual count of embedded clusters in X". They also show that nA,h(X) and eA,g(X) actually determine each other via the formula [IP18, Equation (8.9)]

h

nA,h(X) =

nd,h(g) · eB,g(X)

A=dB g=0 BZ>0

(1.3)

where nd,h(g)  Z are certain universal coefficients determined by d, h, g. In other words, Ionel­Parker's proof hints that nA,h(X) should be a weighted sum of counts of embedded J-holomorphic curves. As a third piece of evidence, results of Zinger [Zin11] and Doan­Walpuski [DW19] show that nA,h(X) indeed comes from counts of embedded J-holomorphic curves when A is a primitive homology class.
In view of these results, it is natural to ask the following pair of questions.

Question 1.2. Given a symplectic Calabi­Yau 3-fold (X, ) and J  J (X, ), how to define symplectic invariants by counting embedded J-holomorphic curves in X? How to related these counts to the Gromov-Witten invariants and the GopakumarVafa invariants?

The analogous question in real dimension 4 for all symplectic 4-manifolds was answered using Taubes' Gromov invariants in [Tau00]. Taubes' construction is generalized to immersed curves by Ionel­Parker in [IP97] and the comparison with Gromov­Witten invariants is made in the same paper.
Question 1.2 seemed to be out of reach until Wendl's recent breakthrough [Wen19] on the generic super-rigidity (see Definition 2.13) conjecture. Wendl shows that for a generic J  J (X, ), all J-holomorphic maps   X have no non-trivial (first order) normal deformations. As a result, (1) and (2) of Conjecture 1.1 are answered affirmatively for all genera.
The finiteness result is a necessary preliminary for counts of embedded J-curves. But the naive count of embedded J-curves, even after taking into account the signs coming from the orientations of relevant moduli spaces, fails to be an invariant independent of J in general since bifurcations may occur. Indeed, given a generic 1-parameter family of {Jt}t[-1,1], super-rigidity could fail over a discrete subset

EMBEDDED CURVES IN CALABI­YAU 3-FOLDS

3

F  [-1, 1]. Given t0  F and a sequence ti  t0, there could be a sequence of embedded Jti ­holomorphic curves ti that convergences to a multiply-covered Jt0 ­ holomorphic map t0  X. Similar problems arise in special Lagrangian geometry [Joy02] and the study of associative submanifolds in Riemannian manifolds with
holonomy group G2 [Joy16]. Based on a detailed analysis of local Kuranishi models, our first main result
shows that bifurcations of embedded J-holomorphic curves do occur for any generic
1-parameter family {Jt}t[-1,1] passing through the codimension 1 locus in J (X, ) where super-rigidity fails to hold. Moreover, the change of the signed count of the
corresponding embedded curves is computed.

Theorem 1.3 (see Theorem 3.4). Let {Jt}t[-1,1] be a generic path in J (X, ). Assume that there exists an embedded rigid J0-curve   X along with a d-fold genus h branched multiple cover  :    which has non-trivial normal deformations. If this cover determines an elementary wall type (see Definition 3.1), then Aut()  Z/2Z and, moreover, the change in the signed count of embedded curves of genus h and class d[] near  is given by ±2/|Aut()|.

Remark 1.4. The technical condition of "elementary wall type" is satisfied in practice by a large class of examples (see Example 3.3).

As far as we know, this is the first general result studying equivariant bifurcations of pseudo-holomorphic curves in dimension 6. The result applies to branched covers, which generalizes Taubes' study of bifurcations of embedded pseudo-holomorphic tori in dimension 4 arising from unbranched covers [Tau00]. We point out that our setup and arguments have many formal similarities with other moduli problems of calibrated submanifolds [Don19], see Remark 3.5.
Wendl's result on generic super-rigidity also allows one to compute the Gromov­ Witten invariants as the sum of the so-called local Gromov­Witten invariants from J-holomorphic maps with images contained in a fixed embedded curve. Our second main result computes the variations of these local contributions in a precise form.

Theorem 1.5 (see Theorem 5.4). Suppose N  C is a rank 2 complex vector bundle of degree 2g - 2 on a curve C of genus g. Let D = {Dt}t[-1,1] be a generic 1-parameter family of Cauchy­Riemann operators on N . Fix integers d  2, h  g and consider the moduli stack Mh(C, d) of stable genus h maps to C of degree d. Assume further that D is (d, h)-rigid (see Definition 5.2) except over a finite set

 × {0}  Mh(C, d) × [-1, 1]. Then, the assignment
[f : C  C]  Mh(C, d)  coker (f Dt)

(1.4) (1.5)

gives a well-defined vector bundle on Mh(C, d), equipped with a natural orientation, for small t = 0. Denote the Euler number of this bundle by ed,h(C, D±) for small ±t > 0. Then, we have

2 · sgn(D, p)

ed,h(C, D+) - ed,h(C, D-) =

|Aut(p)|

p

(1.6)

where sgn(D, p)  {-1, +1} are determined by the local behavior of D near p.

4

SHAOYUN BAI AND MOHAN SWAMINATHAN

The proof of Theorem 1.5 relies on certain formal properties of virtual fundamental cycles of spaces equipped with an implicit atlas in the sense of [Par16] (Lemma 5.5) and a concrete local computation (Lemma 5.6).
The third main result of this paper proves part (3) of Conjecture 1.1 when the homology class is two times a primitive homology class.
Theorem 1.6 (See Theorems 6.11 and 6.14). Given any primitive homology class A  H2(X, Z), the Gopakumar­Vafa invariant n2A,0(X) of genus 0 and class 2A is a virtual count of embedded J-holomorphic curves when J is super-rigid.
We remark that the ideas of the construction of the weight function w2(·) in Definition 6.10 have been used in various gauge-theoretic problems before, including the construction of the SU(3)­Casson invariants [BH98] and the definition of the Seiberg­Witten invariants for homology S1 × S3 [MRS11].
We do not give a full solution to Conjecture 1.1 or Question 1.2 because of the following obstacles. Although the statement of the bifurcation result Theorem 1.3 includes essentially all places where an equivariant bifurcation could occur corresponding to branched covers, the conclusion is concerned with minimal covers. It is not a priori clear whether embedded curves could be constructed from a larger cover. Moreover, our Kuranishi analysis is carried out for curves with smooth domains, but it is possible that embedded curves could be constructed from suitably perturbing nodal curves. Considering the second half of Question 1.2, the geometric meaning of the invariants GWA,g(X) as an enumeration of J-holomorphic curves is difficult to understand due to the existence of multiply-covered J-holomorphic maps and maps with ghost components. Regarding the contributions from multiple covers to GWA,g, the Aspinwall­Morrison formula [Voi96] gives a complete answer for g = 0. As for separating out the contribution of J-holomorphic maps with ghost components, Zinger's reduced Gromov­Witten invariants [Zin08] give the solution when g = 1. General multiply-covered formulas and ghost contribution formulas are needed to make comparisons of various conjectural/existing invariants. We hope to address these issues in future work.
We end the introduction by outlining the structure of this paper. In Section 2, we recall the necessary background from Wendl's paper [Wen19] adapted to our setting. Section 3 states our main bifurcation result Theorem 1.3 and gives examples to which the bifurcation analysis can be applied. The proof of Theorem 1.3 is carried out in Section 4. Section 5 analyzes the change of Euler numbers while Section 6 defines the invariant n2A,0(X) and makes the expected comparisons.
Acknowledgements. The authors thank their advisor John Pardon for his constant support and encouragement. We would also like to thank Chris Wendl for helpful correspondences and for pointing out an error in an earlier version of Lemma 4.2. We are also grateful to Aleksander Doan, Eleny Ionel, Sridhar Venkatesh and Thomas Walpuski for useful discussions.

2. Background
In this section, we will summarize the background on super-rigidity in a form relevant for our discussion. The notation closely follows that of [Wen19, §2]. We will begin by recalling some basic facts about branched covers of curves and Cauchy­ Riemann operators (in §2.1) and then move onto super-rigidity (in §2.2).

EMBEDDED CURVES IN CALABI­YAU 3-FOLDS

5

2.1. Cauchy­Riemann operators and Galois covers. We will consistently use the word `curve' to mean `irreducible smooth projective algebraic curve over C' (i.e. a closed connected smooth Riemann surface). A `morphism' between curves will mean a `non-constant holomorphic map'.

Definition 2.1 (Function field). Let  be a curve. Define C() to be the function field of  (i.e., the field of meromorphic functions on ). Given a degree d  1 morphism of curves  :   , we get the associated degree d field extension  : C()  C( ). It is a basic fact from algebraic geometry that this is a contravariantly functorial one-to-one correspondence (i.e. an equivalence of categories) between curves and fields of transcendence degree 1 over C.

Definition 2.2 (Galois closure). Let  :    be a morphism of curves. We say
that  is Galois if and only if the associated field extension is Galois. In general,  may not be Galois and we can form the Galois closure, a morphism ~   - , by taking the Galois closure of the function field extension  : C()  C( ). For a Galois cover ~  , we define the Galois group Gal(~ /) to be the group of automorphisms of ~ over  (or equivalently the Galois group of the associated
function field extension).

Given a morphism  :    of curves, we call its critical points as ramification points and its critical values as branch points. Away from the ramification points,  restricts to a covering map with connected domain over the complement of the branched points, which is called the associated covering space. It is a basic fact that  :    is Galois if and only if the associated covering space is normal. Also, the associated covering space of the Galois closure of  is the normal closure of the associated covering space of .

Definition 2.3 (Branched covers and Galois groups). Let the following data be

given: integers g  0 and d  2 and branching data b = (b1, . . . , br) where each bi = (b1i , . . . , bqii ) is a tuple of positive integers adding up to d with at least one bji  2. Define

r qi

b=

(bji - 1)

(2.1)

i=1 j=1

and define h using the formula 2h - 2 = b + d(2g - 2). Assume that h is a non-
negative integer. Now, let  :    be a morphism of curves of type (g, b),
i.e., h = genus( ), g = genus(), d = deg() and  has exactly r critical values w1, . . . , wr   with -1(wi) = {i1, . . . , iqi } and  is bji -to-1 in a punctured neighborhood of each ij   . We define the generalized automorphism group of  to be the Galois group of the Galois closure of .
Given a finite group G and a genus g curve , define Mdb,G() to be the orbifold of pairs ( :   , ), up to isomorphism, where  is a morphism of type (g, b)
and  is an isomorphism of G with the generalized automorphism group of .

We will next discuss Cauchy­Riemann operators on curves and their pullbacks along Galois covers. Denote by E a complex vector bundle over a curve .

Definition 2.4 (Serre dual). Let D : 0(, E)  0,1(, E) be an R-linear Cauchy­Riemann operator. Define the Serre dual bundle of E to be

E = 1,0T C E

(2.2)

6

SHAOYUN BAI AND MOHAN SWAMINATHAN

and the Serre dual operator D to be the R-linear Cauchy­Riemann operator on E determined by the following condition: for all s  0(, E) and s  0(, E),

Ds, s + s, Ds = 0.

(2.3)



The pairing ·, · followed by integration gives the Serre duality isomorphisms

ker D = (coker D)

(2.4)

ker D = (coker D).

(2.5)

Definition 2.5 (Twisted operators). Let D : 0(, E)  0,1(, E) be an Rlinear Cauchy­Riemann operator on the curve  and let  : ~   be a Galois cover with Galois group G = Gal(~ /). We can then form the pullback operator

D : 0(~ , E)  0,1(~ , E)

(2.6)

which is G-equivariant with respect to the natural linear G-actions on the source and
target. Let  be a linear G-representation over R. We define the twisted operator D, to be the one obtained by applying HomG(, -) to the operator (2.6). The operator D, is naturally linear over the endomorphism algebra K = EndG().

Remark 2.6. This definition is easily seen to be equivalent to the twisted operators from [Wen19, §2.2 and §3.4] since taking G-invariant sections of   E on ~ amounts to taking sections of (~ × V )/G on the orbifold ~ /G (which has a natural
map to  being an isomorphism except over the branch points).

Remark 2.7. Suppose G  G is a quotient map between groups, corresponding
to a factorization ~ -  -  of  as the composition of two Galois covers ,
 and G = Gal( /). Also, suppose that  is a G -representation and that  is its pullback to G. Then,  gives a natural map of complexes from D , to D, and this map is easily seen to be a quasi-isomorphism (using the removable singularity theorem near the branch points of  for D and D). Similarly, if H  G is any subgroup and ~ = ~ /H with the associated morphism  : ~  , then the natural pullback map from ( )D to (D)H is also a quasi-isomorphism (i.e. an
isomorphism on kernels and cokernels).

The following result, which appears in [DW20, Remark 1.4.15] in a slightly different form, will also be useful for the discussion below.

Lemma 2.8. Let i for i = 1, . . . , p be an enumeration of all the irreducible representations of G over R with Ki = EndG(i). Then, the tautological map

i Ki D,i  D
i

(2.7)

of G-equivariant two term complexes is a quasi-isomorphism.

Proof. This is because for any finite dimensional R[G]-module V , the tautological map i i Ki HomG(i, V )  V is an isomorphism of R[G]-modules by Maschke's theorem. We apply this to the (co)kernels of the operators in question.

Given a family of curves and a corresponding family of Cauchy­Riemann operators, we introduce the following definition which measures the variation of the Cauchy­Riemann operators on a particular finite-dimensional vector space. It will be used later in the analysis of Kuranishi maps.

EMBEDDED CURVES IN CALABI­YAU 3-FOLDS

7

Definition 2.9. Let  : C  B be a smooth family of curves, i.e.,  is a proper
submersion with fibers of R-dimension 2 along with a smooth endomorphism j of ker(d) = TC/B satisfying j2 = -1. Let E  C be a C-vector bundle and set

F = 0,1TC/B,j C E.

(2.8)

Assume that we have a smooth family D = {Db}bB of Cauchy­Riemann operators

Db : 0(Cb, Eb)  0(Cb, Fb)

(2.9)

where Cb = -1(b), Eb = E|Cb and Fb = F |Cb for b  B. For any point a  B, define the linearized map at a associated to the family D

D |a : TaB  Hom(ker Da, coker Da)

(2.10)

as follows. Given   ker Da, extend it arbitrarily to a section ~  0(C, E). Then, the section ~ = D(~)  0(C, F ) defined by ~|Cb = Db(~|Cb ) for b  B vanishes
along Ca and thus, has a well-defined normal derivative

~|a  Hom(NCa/C, Fa) = Hom(TaB, 0(Ca, Fa))

(2.11)

where we have used the identification NCa/C = (TaB) in the last equality. Now, for any v  TaB we set D |a(v) ·   coker Da to be the projection of the section ~|a · v  0(Ca, Fa). This is well-defined because if  = 0, then any choice of ~
has a well-defined normal derivative

~|a  Hom(NCa/C, Ea) = Hom(TaB, 0(Ca, Ea))

(2.12)

which satisfies Da(~|a · v) = ~|a · v for all v  TaB. If a finite group G acts
compatibly on B, C, E, F , with the action on B being trivial, such that the family D is G-equivariant, then (2.10) factors through HomG(ker Da, coker Da).

Remark 2.10. It is easily seen from Definition 2.9 that we can define the linearized map D |a by first choosing suitable trivializations to regard D as a family of Gequivariant operators

b  Db : 0(Ca, Ea)  0(Ca, Fa)

(2.13)

and setting D |a(v) ·  to be the projection of

d dt

D

(t)

|t=0

onto coker Da, where

 is any smooth path in B with (0) = a and  (0) = v.

2.2. Review of super-rigidity.

Definition 2.11 (Normal deformation operator). Let J  J (X, ) and let C  X be a smooth closed embedded J-curve, i.e. the tangent bundle of C, written as TC , is invariant under the J­action. The normal bundle NC = TX |C /TC is then naturally a complex vector bundle. The linearized Cauchy­Riemann operator on TX |C descends to an operator

DCN,J : 0(C, NC )  0,1(C, NC )

(2.14)

called the normal deformation operator of the embedded curve C.

Remark 2.12. It is a basic fact (see [DW20, Theorem 2.1.18] for example) that away from a codimension 2 subset of J (X, ), all simple J-curves are embedded and pairwise disjoint. Thus, along generic paths   J (X, ), we may assume that all simple curves are embedded and pairwise disjoint.

8

SHAOYUN BAI AND MOHAN SWAMINATHAN

Definition 2.13 (Super-rigidity). Given an embedded J-curve C  X as in Definition 2.11, we say that it is super-rigid if for all holomorphic (possibly branched) covers  : C  C, the pullback operator

DCN,J : 0(C , NC )  0,1(C , NC )

(2.15)

is injective. We say that a given almost complex structure J  J (X, ) is superrigid if and only if every simple J-curve is embedded and every embedded J-curve is super-rigid.

Definition 2.14 (Loci of failure of super-rigidity). Fix g, d, b as in Definition 2.3

and a finite group G. Now, given A  H2(X, Z), define the universal moduli space

Mdb,G(Mg(X, A))

(2.16)

to consist of tuples (J, ,  :   , ) up to isomorphism where J  J (X, ),
  X is an embedded J-curve of genus g in class A and  is a branched cover of
type (g, b) along with an isomorphism  between G and its generalized automorphism
group (this is clearly a purely ineffective smooth Fr´echet orbifold). Given any such point, we can then form the associated Galois closure  : ~   and consider the G-equivariant operator DN,J . Its kernel and cokernel are finite dimensional real G-representations. Thus, given two nonzero finite dimensional G-representations
k and c over R, define

Mdb,G(Mg(X, A); k, c)

(2.17)

to be the subset of Mdb,G(Mg(X, A)) consisting of those tuples (J, ,  :   , ), with associated Galois cover  : ~  , for which we have isomorphisms
ker DN,J k and coker DN,J c of G-representations.

We now state the version of [Wen19, Theorem D] that we will need for the rest of the article. Some immediate corollaries are also explained below.

Theorem 2.15 (Stratification). In the setting of Definition 2.14, away from an exceptional subset of infinite codimension of J (X, ), the subspace

Mdb,G(Mg(X, A); k, c)  Mdb,G(Mg(X, A))

(2.18)

is a Fr´echet sub-orbifold of codimension given by dimR HomG(k, c).

Remark 2.16. Recall that a subset (of a separable metrizable Fr´echet or Banach manifold) is said to have codimension  m if it can be covered by the images of countably many Fredholm maps of index  -m. In the statement of Theorem 2.15, we are using the fact that the Petri condition (see [Wen19, §5] for more details) holds on J (X, ) away from an exceptional subset which has infinite codimension. In practice, we can ignore this exceptional set as in the next corollary.

Corollary 2.17. Let P be a second countable manifold and let JP (X, ) denote the space of smooth -compatible almost complex structures parametrized by P with the C topology. Let P = {Js}sP be a point in JP (X, ) for which the associated map P  J (X, ) is transverse to the forgetful map

Mdb,G(Mg(X, A); k, c)  J (X, )

(2.19)

over a closed submanifold Q  P . Define J (X, )P,Q to be the Fr´echet manifold of P  JP (X, ) which coincide with P over Q  P . Then, the subset of J (X, )P,Q

EMBEDDED CURVES IN CALABI­YAU 3-FOLDS

9

consisting of those P for which the associated map P  J (X, ) is transverse to (2.19) is a Baire set, and therefore, dense.

Definition 2.18 (Wall). Let Wemb  J (X, ) be the subset of almost complex structures J for which there exists either a simple and non-embedded J-curve or two simple J-curves with distinct but intersecting images. For  = (g, d, b, G, k, c, A) as in Definition 2.14 define

Wbd,G(g, A, k, c)  J (X, )

(2.20)

to be the image of the forgetful map (2.19). Define the wall W  J (X, ) to be the set of all J which are not super-rigid. Clearly, we have

W = Wemb  Wbd,G(g, A, k, c)

(2.21)



by passing to Galois covers in Definition 2.13. We refer to each term in the union

in (2.21) as a stratum of the wall W.

We will now determine a way to separate W into those strata which have codimension 1 in J (X, ) and those which have codimension  2. We do this essentially by rewording the proof of [Wen19, Theorem A] for X and following the remarks from [Wen19, §2.4].

Lemma 2.19 (Wall: codimension 1 strata). Away from a codimension 2 subset
of J (X, ), the codimension 1 stratum of W  J(X, ) is a union of those strata Wbd,G(g, A, k, c) which are non-empty such that
(i) each bji  {1, 2}, i.e., each ramification point is simple and, (ii) the G-representation k is faithful, irreducible and of real type, i.e., its equi-
variant endomorphism algebra EndG(k) is isomorphic to R.

Proof. Begin by noting that Wemb is of codimension 2 in J (X, ) by Remark 2.12.
Now, take J in W \ Wemb and not in the exceptional set from Theorem 2.15. This
means that we can find a minimum possible d  1, an embedded J-curve   X and a d-fold branched cover  :    such that ker DN,J = 0. Let  : ~   be the Galois closure of  and let G = Gal(~ /) while H = Gal(~ / ). Let i for
i = 1, . . . , p denote the complete list of irreducible representations of G over R. For each i, recall that we have the twisted operators DN,i , as in [Wen19, §2.2 and §3.4] and Definition 2.5, whose kernels (and similarly cokernels) are related to DN,J by the following formulas

ker DN,i = HomG(i, ker DN,J )

(2.22)

ker DN,J =

i Ki ker DN,i

i

(2.23)

where Ki = EndG(i), and (2.22), (2.23) are isomorphisms of Ki-modules and
G-representations respectively. Now, the assumption implies that we can find an 1  j  p such that (j)H = 0 and ker DN,j = 0. We contend that j must be a faithful G-representation. If not, let (1) = K G be such that j descends to G/K. Note that K  H (since H has trivial normal core) and thus, DN,J pulled back to ~ /HK has a non-trivial kernel (contradicting the minimality of d). Now that we
know that i is faithful, we can use [Wen19, Lemma 2.10] to get

indKj DN,j  -2r

(2.24)

10

SHAOYUN BAI AND MOHAN SWAMINATHAN

where r is the number of distinct branch points of . Moreover, this estimate
is strict in case Kj = R unless all the ramification points of  are simple (i.e. they're all locally 2-to-1). Now, set ti = dimR Ki, ki = dimKi ker DN,i and ci = dimKi coker DN,i and note that the codimension of Wbd,G(g, A, k, c) near J is

 -2r + tikici  -2r + tjkj(kj + 2r)  1
i

(2.25)

using Theorem 2.15. Note that the shifting -2r comes from the dimension of
the moduli space of branched covers. (Here, b is constructed using , A = [], g = genus(), k = ker DN,J and c = coker DN,J .) Moreover, to obtain the equality in the last estimate, we must have tj = kj = 1, ki = 0 for all j = i (this last part follows since indKi DN,i  0 by [Wen19, Lemma 2.10]) and indKj DN,j = -2r. [Wen19, Lemma 2.10] now implies that all the ramification points of  must be
locally 2-to-1.

3. Bifurcation analysis: statement and examples We begin by describing the class of bifurcations that we will treat in this article.

Definition 3.1 (Elementary wall type). Given any  = (g, d, b, G, k, c, A) as in Definition 2.14, let r, h and H  G be the number of branch points, domain genus and the (conjugacy class of ) subgroup corresponding to the d-fold covers in question.
Say that  is an elementary wall type if it satisfies conditions (1)­(2) below. Call an elementary wall type  trivial if it violates condition (3) below.
(1) d  2 and either r = 0, i.e. unbranched covers, or for each 1  i  r, we have b1i = 2 and bji = 1 for 1 < j  qi.
(2) The G-representation k is faithful, irreducible and of real type. Moreover, if r = 0, then we have dimR kH  1.
(3) We have kH = 0.

Remark 3.2. Note that condition (1) in Definition 3.1 is just a strengthening of condition (i) in Lemma 2.19 while condition (2) of Definition 3.1 is a strengthening of condition (ii) of Lemma 2.19. Condition (3) is a necessary condition for the desired bifurcation to occur based on Lemma 2.8.

Example 3.3. Definition 3.1 covers many cases, including the following.

(1) Any degree 2 morphism    of curves gives an elementary wall type , with G = Z/2Z and k being the unique one-dimensional non-trivial representation of Z/2Z. A result analogous to Theorem 3.4 below in the case of unbranched double covers of tori in dimension 4 appears in [Tau00].
(2) For any d  2, consider a degree d morphism    with distinct simple branch points with generalized automorphism group being the whole symmetric group Sd. Such covers always exist provided

2h - 2 - d(2g - 2) = r  2d - 2

(3.1)

where h = genus( ) and g = genus() and they give rise to elementary wall types with G = Sd and k being the subrepresentation {(x1, . . . , xd) : i xi = 0} of the tautological representation of Sd on Rd. The subgroup H  G in this case is given by Sd-1.

EMBEDDED CURVES IN CALABI­YAU 3-FOLDS

11

(3) For any n  1, take d = 2n + 1 and consider a degree d unbranched cover    of a genus g  2 curve given by the permutation representation

 : 1(g) = a1, b1, . . . , ag, bg : [a1, b1] · · · [ag, bg] = 1  S2n+1 (a1) = (b1) = (1 2)(3 4) · · · (2n - 1 2n) (a2) = (b2) = (2 3)(4 5) · · · (2n 2n + 1)

(3.2) (3.3) (3.4)

and (ai) = (bi) = 1 for i > 2. Note that the generalized automorphism group im  = G  S2n+1 of this cover is isomorphic to the dihedral group

D2n+1 = ,  :  2 = 2n+1 = 1,   -1 = -1

(3.5)

with  = (1 2)(3 4) · · · (2n - 1 2n) and   = (2 3)(4 5) · · · (2n 2n + 1). The subgroup H is given by   D2n+1. The standard 2-dimensional representation k which realizes D2n+1 as the isometry group of a regular (2n + 1)-gon in R2 gives rise to a non-trivial elementary wall type. (4) Let n  2 be an integer and let d = 2n. For integers g, s  1, define a degree d branched cover    of a genus g curve with 2s distinct simple branch points {q1, . . . , q2s}   by the permutation representation

 : 1(g \ {q1, . . . , q2s}) = a1, b1, . . . , ag, bg, c1, . . . , c2s : [a1, b1] · · · [ag, bg]c1 · · · c2s = 1  Sd (ai) = (bi) = (1 2 · · · n)(n + 1 · · · 2n), (cj) = (1 n + 1)

(3.6) (3.7) (3.8)

for all 1  i  g and 1  j  2s. Note that the generalized automorphism group im  = G  Sd is isomorphic to (Z/2Z)n Z/nZ via

((0, 0, . . . , 0), 1)  (1 2 · · · n)(n + 1 · · · 2n)

(3.9)

((1, 0, . . . , 0), 0)  (1 n + 1)

(3.10)

and the subgroup H  G is given by (Z/2Z)n-1 × {0}. The group G has a representation k = Rn, where Z/nZ acts by cyclically permuting the coordinates while (1, . . . , n)  (Z/2Z)n acts by the matrix diag[(-1)1 , . . . , (-1)n ], and
this gives rise to a non-trivial elementary wall type.

We freely make use of the notation from Definition 3.1 in the statement of our main result on bifurcations below.

Theorem 3.4 (Elementary bifurcations). Fix super-rigid almost complex structures J-, J+  J (X, ). For a generic, in the sense of Baire, path  : [-1, 1]  J (X, ) avoiding Wemb with (±1) = J±, the following is true.
Let t0  (-1, 1), write J = (t0) and suppose there is a point

p = (J, ,  :   , )  Mdb,G(Mg(X, A); k, c)

(3.11)

with  = (g, d, b, G, k, c, A) being an elementary wall type. Assume that the maps  and (2.19) are transverse at t = t0 and p respectively
and define sgn(, t0; p)  {-1, +1} to be the sign of the associated isomorphism

Tt0  - Hom(ker D, coker D)/TMh(, d)

(3.12)

where we orient the left side of (3.12) by the obvious identification with Rt and the
right side of (3.12), which is the normal space of Wbd,G(g, A, k, c)  J (X, ) at p, using the standard Cauchy­Riemann orientation on the determinant line det(D)

12

SHAOYUN BAI AND MOHAN SWAMINATHAN

and the complex structure on the moduli stack Mh(, d) of d-fold genus h branched covers of . Here, D = DN,(t0) is the normal deformation operator of .
We can then find an arbitrarily small Gromov neighborhood O of  :   X
and an arbitrarily small > 0 such that the parametrized moduli space

((t0 - , t0 + ) × O)  Mh(X, , dA)

(3.13)

of embedded (t)-curves, with |t - t0| < , of genus h and class dA, which lie in O has the following properties. The fiber of (3.13) over t = t0 is empty and, moreover, (3.13) is a smooth oriented 1-dimensional manifold, with the projection to (t0 - , t0)  (t0, t0 + ) being a proper submersion. Let m± and n± denote the unsigned and signed number, respectively, of points in the fiber of (3.13) over t for ±(t - t0) > 0.

(i) If  is trivial, then m± = 0. If r = 0 and H  G is not a maximal subgroup such that kH = 0, then also we have m± = 0.
(ii) If we're not in either of the cases from (i), then we have  = Aut()  Z/2Z,
the estimate || · |m±|  2 and the identity

n+

-

n-

=

2 -

·

sgn(, ||

t0;

p) .

(3.14)

Moreover, if i  X is any sequence of points in (3.13), lying over ti  t0, then the Gromov limit of this sequence exists and is given by  :   X.

Remark 3.5. Note that an element v  ker(DN,J ) can be viewed as a d-valued holomorphic section of the bundle N over the curve  with singular points given by the branched points of the cover  :   . Theorem 3.4 asserts that by varying J along a generic path, we can obtain a 1-parameter family of solutions to the nonlinear Cauchy­Riemann equations which give rise to embedded pseudo-holomorphic curves of class d[]. We expect the analysis of Kuranishi models in Section 4 to be useful in other relevant problems. For instance, it is speculated in [Don19, Section 1] that a 2-valued harmonic 1-form defined over a special Lagrangian submanifold M in a Calabi­Yau manifold (X, , ) should give rise to a 1-parameter family of special Lagrangian immersions t : M~  M , where M~ is the branched double cover of M branching along the singular set of the given harmonic 1-form. The similarity is quite transparent, though the analysis needed to carry out the program in [Don19] is still under development.

4. Bifurcation analysis: Proofs

In this section, we will prove Theorem 3.4.

4.1. Simplifications. We are given two super-rigid almost complex structures

J-, J+  J (X, ). Using Corollary 2.17, a generic path  : [-1, 1]  J (X, ), with (±1) = J±, is transverse to all the maps (2.19) and disjoint from Wemb.
For notational simplicity, assume t0 = 0. Let r, h and H  G be as in Definition 3.1. We will study what happens to the moduli space of embedded genus h curves

of class dA near  :   X as we go from t < 0 to t > 0. Write k =  for some irreducible faithful representation  of G of real type. At
the point p = (J, ,  :   , )  Mdb,G(Mg(X, A); k, c), with associated Galois closure  : ~  , we have dimR ker DN, = 1 and

ker DN,J =   ker DN,.

(4.1)

EMBEDDED CURVES IN CALABI­YAU 3-FOLDS

13

For (3.13) to be non-empty for arbitrarily small O and , we must have ker DN,J = 0. This follows from a standard argument involving rescaling in the directions normal to  (see, for example, [Wen19, Appendix B]). This proves the first half of assertion (i) from Theorem 3.4.
Taking H-invariants in (2.23), we see that requiring ker DN,J = 0 is the same as requiring kH = ()H = 0. Let us henceforth make the following assumption.
Assumption 4.1 ( is not trivial). We have ()H = 0.

Let us note an important consequence of this assumption.

Lemma 4.2. Under Assumption 4.1, the point p = (J, ,  :   , ) 

Mdb,G(Mg(X, A); k, c) satisfies the following.

(i) We have dimR()H = 1.
(ii) For each irreducible representation  of G over R with  indRDN, = 0 or ()H = 0.

, we have either

As a consequence, we have the identifications

ker DN,J = ()H  ker DN, coker DN,J = ()H  coker DN,.

(4.2) (4.3)

Proof. We use Lemma 2.8 to deduce the quasi-isomorphism

(i)H Ki DN,i  DN,J ,
i
which implies that we have the identity

(4.4)

indR(DN,J ) = dimR()H · indKi DN,i .
i

(4.5)

Now, a simple computation using the Riemann­Roch formula (combined with the Riemann­Hurwitz formula for  and condition (1) of Definition 3.1) shows that the left side of (4.5) is -2r. On the other hand, using [Wen19, Lemma 2.10], we have dimR()H · indR(DN,)  -2r while each summand on the right side of (4.5) is  0. Thus, we must have equality in all these inequalities. If r > 0, this immediately gives us (i) and (ii). If r = 0, then we get (ii) as above and (i) follows from Definition 3.1 and Assumption 4.1. Finally, (4.2) and (4.3) are formal consequences of statements (i) and (ii).

Since d = [G : H]  2, it follows that G is non-trivial. Thus, taking G-invariants in (4.1) implies that ker DN,J = 0. We can thus choose > 0 with the following property: there is a unique embedded (t)-curve t close to  for each |t| < (obtained using the inverse function theorem).

4.2. Preparation. Let us clarify the transversality hypothesis (of the intersection of  and (2.19) in Theorem 3.4) a little further. Define

Mdb,G(, )  (- , )

(4.6)

to be the smooth bundle of orbifolds whose fibre over a point   (- , ) is the stack { } × Mdb,G( ) as in Definition 2.3. We have a natural short exact sequence

0  TMdb,G()  T(0,)Mdb,G(, )  Rt  0

(4.7)

14

SHAOYUN BAI AND MOHAN SWAMINATHAN

and transversality says that the natural map

T(0,)Mdb,G(, ) - HomG(ker D, coker D)

(4.8)

is an isomorphism, where  : ~   is the Galois closure of  and D = DN,J . The map (4.8) is the linearized map, in the sense of Definition 2.9, associated to the family of G-equivariant Cauchy­Riemann operators on Mdb,G(, ) given by

p = (,  :    ,  )  p(DN ,())

(4.9)

where p  (p : ~     ) is a continuous family of Galois closures. Next we will study the stable map moduli space Mh(X, , dA) locally near (0, )
as an intermediate step to understanding (3.13). The strategy is to use the implicit function theorem to first produce a Kuranishi model and then explicitly analyze the resulting Kuranishi map. Before proceeding to this, let us establish the notations for the domain and target of the Kuranishi map (which are respectively the kernel and cokernel of the corresponding linearized equation).

4.2.1. Domain. To describe the domain explicitly, let us denote the inclusion of  in X by  and the linearized Cauchy­Riemann operator on TX (resp. TX ) by D~ (resp. D~ = D~ ). Moreover, write K =  (0). The domain of the Kuranishi
map is then an open neighborhood of 0 in the vector space

T(Z0a,r )Mh(X, , dA).

which consists of "cocycle" triples (, y, t), where   0( , TX ), y  0,1( , T ) and t  R are such that

D~ 

+

1 2

(J



d



y

+

tK



d



j

)

=

0

(4.10)

modulo

the

"coboundary"

triples

(

1 2

d(V

),

j

· ¯V, 0) where V

 0( , T

)

and ¯

stands for the Cauchy-Riemann operator on 0( , T ). This vector space contains

the domain

TZarMh(X, J, dA)

of the corresponding Kuranishi model for Mh(X, J, dA), which is the subspace of T(Z0a,r )Mh(X, , dA) defined by t = 0.
Similarly, we can consider the parametrized moduli space of d­fold genus h
branched covers of { }[-1,1], denoted by Mh(, , d) and its (Zariski) tangent space T(0,)Mh(, , d) at (0, ) by considering the vector bundle T, instead of TX , and the corresponding cohomology group. The specialization of the space
Mh(, , d) at  = 0 is denoted by Mh(, d) and its tangent space at , written
as TMh(, d), is constructed accordingly.
These vector spaces fit into the following commutative diagram with exact rows and columns (recall D = DN,J ).

EMBEDDED CURVES IN CALABI­YAU 3-FOLDS

15

0

0

0

TMh(, d)

T(0,)Mh(, , d)

Rt

0

0

TZarMh(X, J, dA)

T(Z0a,r )Mh(X, , dA)

Rt

0

ker(D)

ker(D)

0

0

The exactness of the first row is obvious and the exactness of the second row follows from construction. The exactness of the left and middle columns follow by using the long exact sequence associated to 0  T  TX  N  0. The exactness of the right column now follows formally.
In view of condition (1) of Definition 3.1, the natural map from the short exact sequence (4.7) to the upper row short exact sequence in this diagram is an isomorphism. In fact, the following diagram

T(0,)Mdb,G(, )

HomG(ker D, coker D)

T(0,)Mh(, , d) w Hom(ker D, coker D)

(4.11)

is commutative and, because of Lemma 4.2, all its arrows are isomorphisms. Indeed, the isomorphism given by the left vertical arrow is induced by inclusion, the right vertical arrow comes by restricting to the H-fixed subspace while the horizontal arrows come by considering the families of operators (4.9) and (,  :   )   (DN ,J ) on Mdb,G(, , d) and Mh(, , d) respectively. For future reference, we will label the bottom horizontal arrow of this commutative diagram as w.
Observe that both sides of the isomorphism w have natural orientations.
(1) Mh(, , d) is fibered over the oriented interval (- , ) with complex fibers. (2) An orientation of the vector space

Hom(ker D, coker D) = (ker D)  coker D

(4.12)

is the same as an orientation of its determinant line

(ker D)1+2r  det(coker D)

(4.13)

where we recall that dim ker D = 1. Since the tensor square of a 1dimensional space is canonically oriented, it follows that we simply need an orientation of the determinant line

det(D) = det(ker D)  det(coker D)

(4.14)

of the Cauchy­Riemann operator D. This can be defined in the usual manner by comparing D with a C-linear Cauchy­Riemann operator.

16

SHAOYUN BAI AND MOHAN SWAMINATHAN

Thus, the isomorphism w has a well-defined sign. Notice that the isomorphism (3.12) from Theorem 3.4 is derived by passing to the quotient Rt, using the short exact sequence (4.7), in the map w. In particular, we have

sgn(w) = sgn(, 0; p).

(4.15)

For convenience, let us make the following assumption.

Assumption 4.3. w is orientation-preserving, i.e., sgn(w) = sgn(, 0; p) = +1.

This assumption can be achieved by reversing the direction of  if it is not already satisfied.

4.2.2. Target. The target of the Kuranishi map is the space E(0,)Mh(X, , dA) of all   0,1( , TX ) modulo all elements of the kind that appear on the left side of (4.10). In fact, in view of the surjectivity of T(Z0a,r )Mh(X, , dA)  Rt, we can
restrict attention to just elements as in the left side of (4.10) for which t = 0. Using the long exact sequence associated to 0  T  TX  N  0, it now
follows that we have a natural identification

E(0,)Mh(X, , dA) = coker D.

(4.16)

4.3. Implicit function theorem. We will now explain how to construct the Ku-
ranishi model for Mh(X, , dA) near (0, ) using the implicit function theorem on an appropriate map  : X  Y of Banach spaces (defined on a neighborhood of 0). Let m  2 be an integer. Define Y to be the space of sections of 0,1T C TX of class L2m (i.e. m derivatives in L2). Note that Y has a natural action of

 = Aut() = NG(H)/H

(4.17)

We define X = Xvf  Xacs  Rt, where the summands are defined as follows. Choose a -invariant set of points M   where  is unramified such that  has no
automorphisms fixing M . For each [z]  M/, choose a complement D[z]  T(z)X for dz(Tz ). Define Xvf to be the kernel of the -equivariant evaluation map

L2m+1( , TX ) 

(T(z) X )/D[z] .

zM

(4.18)

Define Xacs to be a (finite dimensional) -invariant complement of the map

0M ( , T ) -¯ 0,1( , T )

(4.19)

consisting of sections compactly supported in  \ M . Here, 0M ( , T ) is the space of vector fields on  which vanish on M .
To define the map  : X  Y, we need to fix the following choices.

(1) A metric on X with its associated exponential map exp. (2) A J-linear connection  on TX . (3) A smooth 1-parameter family of complex vector bundle isomorphisms

IX,t : (TX , J ) - (TX , Jt)

(4.20)

with

IX,t

=

id

+

1 2

J

AX,t

,

where

AX,0

=

0

and

AX,t

is

J -antilinear

for

all

t



R

with

|t|

small.

In

this

case,

we

have

 (0)

=

d dt

|t=0Jt

=

d dt

|t=0

At

=

K.

EMBEDDED CURVES IN CALABI­YAU 3-FOLDS

17

(4) A smooth family y  jy of almost complex structures on  parametrized

by

y



Xacs

with

d d

|

=0j

y

=

y

and

j0

=

j

being the given almost

complex structure on  . The concrete choice we shall work with is given

by declaring the following to be an isomorphism of complex vector bundles

I

,y

=

id

+

1 2

j

y

:

(T

,

j

)



(T

, jy)

(4.21)

for y  Xacs with small |y|. We can now define the smooth map  : X  Y for small (, y, t)  X as

(, y, t) = P T IX-,1t  (¯Jt,jy exp )  I ,y .

(4.22)

The symbol exp  denotes the L2m+1 map z  exp(z) (z), the symbol ¯Jt,jy denotes the non-linear Cauchy­Riemann operator

u



1 2

(du

+

Jt



du



jy )

(4.23)

and P T denotes the backward parallel transport along the paths   exp(z)  (z) induced by the connection . Clearly,  is -equivariant, (0) = 0 and it is immedi-

ate that a neighborhood of (0, )  Mh(X, , dA) is identified with a neighborhood of [0]  -1(0)/.

To apply the implicit function theorem to , we first note that the linearization D~ = D(0) : X  Y is given by the following formula (compare (4.10) from §4.2.1).

(,

y, t)



D~ 

+

1 2

(J



d



y

+

tK



d



j

).

We can now readily see that we have natural identifications

(4.24)

ker D~ = T(Z0a,r )Mh(X, , dA) coker D~ = E(0,)Mh(X, , dA).

(4.25) (4.26)

Split the maps ker D~  X and Y  coker D~ by choosing a -invariant complement X  X for ker D~ and a -invariant lift E  Y of coker D~ .

Lemma 4.4. There are -invariant neighborhoods 0  U  ker D~ and 0  V  X such that -1(E)(U ×V ) is given by the graph of a -equivariant smooth function
 : U  X satisfying (0) = 0 and D(0) = 0.

Proof. Apply the implicit function theorem to the -equivariant map .

Definition 4.5 (Kuranishi map). Define the -equivariant map F : U  E by

F () = ( + ()).

(4.27)

This map F yields the germ at 0 of a -equivariant smooth map from ker D~ to coker D~ or equivalently

T(Z0a,r )Mh(X, , dA)  E(0,)Mh(X, , dA)

(4.28)

which we call a Kuranishi map for (0, )  Mh(X, , dA).

Remark 4.6. It is clear from Lemma 4.4 that a neighborhood of [0]  F -1(0)/ describes a neighborhood of (0, )  Mh(X, , dA). We may assume that this neighborhood is of the form

((- , ) × O)  Mh(X, , dA)

(4.29)

for a Gromov neighborhood O of  :   X, after shrinking if needed.

18

SHAOYUN BAI AND MOHAN SWAMINATHAN

4.4. Analysis of the Kuranishi map. All `functions' in this subsection are to be understood to be germs near 0 of smooth functions which vanish at 0.

Definition 4.7. Given two finite dimensional vector spaces W1, W2, two functions F , F : W1  W2 and an integer l  1, we write

F l F

(4.30)

to mean that the ith derivatives of F - F vanish at 0 for all 0  i  l. Clearly, l is an equivalence relation.

We will now analyze the Kuranishi map F from Definition 4.5. From Lemma 4.4, it follows that F (0) = 0 and DF (0) = 0. We fix some notations first. Let

: ker D~  ker(D)

(4.31)

t : ker D~  Rt

(4.32)

be the natural projections (see the exact commutative diagram in §4.2.1 for more details). Fix 0 =   ker(D). Using , we will sometimes regard as an R-valued linear functional on ker D~ (with  corresponding to 1). Finally, let z : ker D~  Cr
be a R-linear map such that its restriction to TMh(, d) is a C-linear isomorphism.
Thus, we now have explicit coordinates

ker D~

=

T(0,)Mh(X, , dA)

(t,z, )
----

Rt



Crz



R

.

(4.33)

We also obtain (non-canonical) splittings ker D~ = T(0,)Mh(, , d)  ker D and T(0,)Mh(, , d) = Rt  TMh(, d) which we will use without further comment in some of the proofs below.
Now, observe that F -1(0)  ker D~ = T(Z0a,r )Mh(X, , dA) contains a -invariant submanifold Z (passing through 0) corresponding to Mh(, , d) with

T0Z = TMh(, , d)  ker D~ .

(4.34)

Thus, if : ker D~  ker(D) R is a smooth function with Z as its transverse zero locus near 0, then we can find a smooth function

F1 : ker D~  (ker D)  coker D~ = Hom(ker D, coker D)

(4.35)

such that F = , F1 , where , : ker D  Hom(ker D, coker D)  coker D

(4.36)

is the natural pairing. In view of (4.34), Z is given by the graph of a function f : T0Z  ker(D) with f (0) = 0 and Df (0) = 0. As a result, we can take
= - f and, in particular, we have the relation

1 .

(4.37)

Since DF (0) = 0, it follows that F1(0) = 0. Let F1 denote the function obtained by restricting F1 to the subspace T0Z  ker D~ . We then have the following.

Lemma 4.8. The relation

F1 1 w holds, where w is the isomorphism introduced in diagram (4.11).

(4.38)

EMBEDDED CURVES IN CALABI­YAU 3-FOLDS

19

Proof. Given any b  T0Z, we need to show that

w(b) ·  =

d d

F1(b

)

·

~

|=0

(4.39)

where ~  ker D~ is the lift of   ker D with t, ~ = z, ~ = 0 and   b is a path in Z with b(0) = 0 and b(0) = b. We will make use of the fact that
(0) = 0 and D(0) = 0 (Lemma 4.4). Recall that w comes from linearizing the
Cauchy-Riemann operator. Accordingly, we have

w(b) ·  

d d

D(b

+

(b))

·

~

|=0

(mod im D~ )

 (D2)(0) · b · ~ (mod im D~ )

(4.40) (4.41)

where D2 = D(D) denotes the second derivative of . On the other hand,

F1(b)

·

~

=

 µ

F

(b

+

µ~)|µ=0

(4.42)

for each , by the definition of F1. We now compute

d d

F1

(b)

·

~

|=0

=

 

2


µ

F

(b

+ µ~)|=µ=0



 

2


µ

(b

+ µ~

+ (b

+ µ~))|=µ=0

 (D2)(0) · b · ~ (mod im D~ )

(4.43) (mod im D~ ) (4.44)
(4.45)

which proves (4.39).

Corollary 4.9. Z = F1-1(0)  ker D~ is a -invariant submanifold passing through 0 and its natural projection to ker D is a local diffeomorphism at 0. In other words, Z is given by the graph of a smooth function g : ker D  T(0,)Mh(, , d) such that g(0) = 0 and g is -equivariant.

Proof. Apply the implicit function theorem to the -equivariant map F1, noting that DF1(0)|T0Z = w is an isomorphism.

The normal bundle N admits an almost complex structure such that the projection N   is pseudo-holomorphic and for any element   ker(D), its graph in N defines a pseudo-holomorphic curve. For details, see [Wen19, Lemma B.4]. Our analysis will differ based on whether  is simple or a non-trivial multiple cover, when regarded as a pseudoholomorphic curve in N. To proceed further, let us make the following additional assumption.
Assumption 4.10.  - N is a simple curve.
Remark 4.11. We will see in §4.4.2 that Assumption 4.10 can fail only if r = 0 and H  G is not a maximal subgroup with ()H = 0. This is the case covered by the second half of assertion (i) from Theorem 3.4 and we will prove it in §4.4.2.

Lemma 4.12. Under Assumption 4.10, we have   Z/2Z.
Proof. It suffices to show that  acts faithfully on the 1-dimensional space ()H . Suppose to the contrary that there is an element h  NG(H) \ H which acts trivially on ()H . Letting H be the subgroup of NG(H) generated by H and h , we find that ()H = ()H = 0. This implies that  - N factors through the morphism  = ~ /H  ~ /H which has degree [H : H] > 1, where ~   -  is the Galois closure of . This contradicts Assumption 4.10.

20

SHAOYUN BAI AND MOHAN SWAMINATHAN

Under Assumption 4.10, note that each point in Z \ {0} which is sufficiently
close to 0 represents an embedded pseudoholomorphic curve. Indeed, let   C be the section of Z  ker D, defined for small || using Corollary 4.9. Rescaling C by -1 (in the normal direction to ) and taking the Gromov limit as   0 gives the simple curve  - N. Thus, for small  = 0, the curve C  X is simple
and therefore embedded (recall that  misses Wemb).
To complete the bifurcation analysis, we need to understand the natural projection Z  ker D~  Rt, which is the same as the smooth map

ker D -g T(0,)Mh(, , d) -t Rt.

(4.46)

Orient the 1-dimensional space ker D using . Then the natural orientation on Hom(ker D, coker D) gives rise to an orientation on coker D. Using the
isomorphism w, the element  and the coordinates (4.33), we can identify

coker D = Rt  Crz.

(4.47)

This isomorphism preserves orientation by Assumption 4.3. With these choices of coordinates, we can write the Kuranishi map as

F (t, z, ) = (id + A(t, z, )) · ( - f (t, z)) · ((t, z) - g( ))

(4.48)

with f 1 0 and A(·) is a (1 + 2r) × (1 + 2r) real matrix valued function with A(0) = 0. The zeros of F are exactly the zeros of the second factor (corresponding to Z) and the zeros of the third factor (corresponding to Z ).

Lemma 4.13. If  is generic, there exists an integer n  1 and a real number c = 0 such that

(t  g)( ) =n c n.

(4.49)

The proof of Lemma 4.13 is completed in the end of §4.4.1. Assuming this

result for now, we will determine the signed count of the zeros of F in Z for small

t = 0. We divide into cases based on the sign of c and the parity of n. (Clearly, if

 = Z/2Z, then n must be even.)

(1) c = 0, n odd. The Taylor expansion (4.49) shows that for each small t0 = 0 we have a unique 0 such that t0 = (t  g)( 0). Moreover, since z is a complex coordinate, the sign of this zero can be determined by looking at the unique nonzero solution = 0 = (c-1t0)1/n of the simplified equation

(t0 - c n) = 0.

(4.50)

We compute of the derivative at this point

d d

(t0

-c

n)|

=

0

=

t0

- (n + 1)c

n 0

=

-nt0

(4.51)

and find that the sign of the zero is +1 for t < 0 and -1 for t > 0.

(2) c > 0, n even. The Taylor expansion (4.49) shows that for small t0 > 0, there are exactly two distinct solutions 0  ±(c-1t0)1/n to t0 = (t  g)( 0) while there are no solutions for small t0 < 0. Again, we can compute the signs of these zeros, by considering the model equation (4.50), and we find

that both of these zeros have the sign -1.

(3) c < 0, n even. Arguing exactly as in the previous case, we find that there are exactly two zeros 0  ±(c-1t0)1/n for small t0 < 0 (both with sign +1) and no zeros for small t0 > 0.

EMBEDDED CURVES IN CALABI­YAU 3-FOLDS

21

Figure 1. A schematic picture of the moduli space (when n is odd).

Taking the -symmetry into account and shrinking O and if necessary, we find that in all cases (under Assumption 4.3) the signed number of embedded curves in a sufficiently small Gromov neighborhood O of  :    reduces by the amount 2/||  Z when  goes from - < t < 0 to 0 < t < . Modulo the result of §4.4.1 and Assumption 4.10 (whose negation will be examined in §4.4.2), we have finished the proof of Theorem 3.4.

4.4.1. Generic non-vanishing of Taylor expansion. The analysis above depends crucially on the existence of the nonzero Taylor expansion (4.49). In view of the expression (4.48) for F , this is the same as saying that ( ) = (t  F )(0, 0, ) has a nonzero Taylor expansion

( ) + c n+1 n+1 0

(4.52)

for some integer n  1 and real number c = 0. For any n  0, if we assume that ( ) n 0, then the next Taylor coefficient of  is defined invariantly as a homomorphism

T(n,J) : (ker D)n+1  (coker D)/W

(4.53)

where W is the codimension 1 subspace of coker D spanned by the image of TMh(, d) under w · . If T(i,)J = 0 for 0  i < n, then for any smooth path  : [-1, 1]  J (X, ) satisfying

(i)  (0) = J, (ii) | (s) - J| = O(||n+1) for all s, where  = dist(, ·) denotes the distance
to  induced by the given Riemannian metric,

22

SHAOYUN BAI AND MOHAN SWAMINATHAN

we have the equality DN,J = DN, (s) of normal operators and the vanishing of the Taylor coefficients T(i,) (s) for 0  i < n. Moreover, the element

DT(n,·)|J · K

=

d ds

T(n,)

(s)|s=0

(4.54)

is well-defined, where K =  (0).

Lemma 4.14. The Taylor expansion of K normal to  begins with an R-linear bundle homomorphism

Kn+1 : SymnR+1N  EndJ (TX |)

(4.55)

from the symmetric (n + 1)st power of N to the bundle of J-antilinear endomorphisms of TX . This can be projected to an element

Kn+1 : SymnR+1N  HomJ (T, N) = 0,1T C N.

(4.56)

Moreover, we have the following identity:

(DT(n,·)|J · K ) · n+1, 

1 =-
2



(iKn+1) · n+1,  .

(4.57)

Here   ker D = (coker D) is a nonzero solution of the Serre dual operator (see Definition 2.4) which vanishes on W and i denotes the multiplication by -1 on the fibres of N.

Proof. It is clear that from conditions (i) and (ii) on  that K is given, in a tubular neighborhood of , by Kn+1 plus terms which are o(||n+1). To get (4.57), we inspect the expression for the non-linear Cauchy­Riemann operator

(J

, ,j

)  ¯J

,j

( ) =

1 2

(d

+J

( ) · d

·j )

(4.58)

and differentiate it at (J, , j ) once with respect to the J (in the direction K )
and n + 1 times with respect to ( , j ) (in the direction (~vf, ~acs), which is a lift of   ker D to ker D~ ) and use the fact that J () · d · j = -J() · J () · d.
By assumption, T(i,)J = 0 for 0  i  n and thus, the only term which can survive the pairing with  is the one from (4.57).

Now, assume that we have T(n,J) = 0 for all n  1 (since otherwise we are already done). We then have the following result.

Lemma 4.15. For some 1  n  d, there exists a point p   over which  is unramified and the element

(n+1  )(q)  SymnR+1N R N
q -1 (p)

(4.59)

is nonzero. In particular, we can find K as in Lemma 4.14, supported near p, such that the right side of (4.57) is nonzero.

Proof. Using Assumption 4.10, it follows that for all points p  , outside of a closed and at most countable set, (-1(p))  N,p has d distinct nonzero elements. Choose such a point p and, by perturbing it slightly if necessary, assume also that (q) = 0 for some q  -1(p). Enumerate the pre-images of p under  as
q1, . . . , qd   . Choose linear functionals

 : N,p  R

(4.60)

EMBEDDED CURVES IN CALABI­YAU 3-FOLDS

23

 : N ,p  R

(4.61)

such that the d numbers xi = ((qi)) are all distinct and nonzero and the d numbers yj = ((qi)) are not all zero. This implies that the product

 x21  x31

x22 · · · x2d  y1 x32 · · · x3d  y2

  

...

...

...

...

  

  

...

  

xd1+1 xd2+1 · · · xdd+1 yd

(4.62)

cannot be zero, since the matrix is invertible and the column vector is nonzero.

Take n to be such that the nth entry of this product is nonzero. This n then

suffices,

since

applying

Symn+1
R

R



to

(4.59)

yields

a

nonzero

result.

Define K explicitly as follows. Identify a tubular neighborhood of   X with

a neighborhood U of the zero section in  : N  . Choose smooth C-vector bundle isomorphisms TX |U (TX |)|U (T  N)|U . Choose

A  HomR(SymnR+1N, 0,1T C N)

(4.63)

which has positive pairing with (4.59) at p. We can now define a deformation K

of J at any point v  N,p  U by

KA(v) : Tp   N,p  Tp   N,p (w , w )  (v) · (0, (iAp · vn+1) · w )

(4.64) (4.65)

where  : U  [0, 1] is a compactly supported cutoff function which is  1 near .

It is clear that iKn+1 = -A. Now, multiplying A by a cut-off function supported in a sufficiently small neighborhood of p   gives the result.

Proof of Lemma 4.13. Lemmas 4.14 and 4.15 together show that points (J,  :
  , ) with T(n,J)  0 for all n  1 have codimension at least 1 in the wall Wbd,G(g, A; k, c). In particular, they occur in codimension  2 in J (X, ) and thus, can be avoided if  is generic.

4.4.2. What happens if  is multiply covered? In this subsection, we examine what happens if Assumption 4.10 is false.

Lemma 4.16. If Assumption 4.10 is false, then  must be unramified, i.e., r = 0. Moreover, if  descends to some intermediate cover   C  , then so does .

Proof. Suppose  descends to a  = ~ /H  ~ /H -  for some subgroup
H  G which strictly contains H. This implies that ()H = ()H and so, the (co)kernels of D and D are identified, using formulas (4.2) and (4.3). This proves the statement about the descent of . It also follows that the indices of D and D are the same, i.e., the number n of zeros of d is the same as the number n of zeros of d (counted with multiplicity). This cannot happen with [H : H] > 1, unless  is unramified.

We can now assume that  is unramified and that both  and  are pulled back from an intermediate cover  = ~ /H  C = ~ /H -  with  being of degree d and genus h . We can compare the Kuranishi models for (0, ) and (0, ) and find that they are compatible under the natural pullback maps

T(Z0a,r)Mh (X, , d A)  T(Z0a,r )Mh(X, , dA)

(4.66)

24

SHAOYUN BAI AND MOHAN SWAMINATHAN

E(0,)Mh (X, , d A)  E(0,)Mh(X, , dA)

(4.67)

both of which are isomorphisms. Thus, every curve close to (0, )  Mh(X, , dA) is a (d/d )-fold cover of a curve close to (0, )  Mh (X, , d A). Thus, no embedded curves (of class dA and genus h) are created/destroyed (in a Gromov neighborhood of  :     X) when we go from negative to positive t. This establishes the second half of assertion (i) of Theorem 3.4.

5. Obstruction bundles and their Euler classes
Let C be a smooth curve of genus g and let h  g and d  2 be integers such that the integer

r = (2h - 2) - d(2g - 2)

(5.1)

is non-negative. The moduli stack Mh(C, d), consisting of stable holomorphic maps f : C  C with the arithmetic genus of C being h and f[C ] = d[C], has complex virtual dimension given by r. Moreover, the non-empty open substack
Mh(C, d)  Mh(C, d), consisting of those [f : C  C] for which the domain C is smooth, is a complex orbifold of complex dimension r.

Definition 5.1 (Virtual fundamental class). Define the class

[Mh(C, d)]vir  H2r(Mh(C, d), Q)

(5.2)

to be the virtual fundamental class of this moduli space as in [Par16, Section 9]. Note that Mh(C, d) is algebraic and so, we need not distinguish between its Cech
and singular cohomologies.

Now, let N be a rank 2 complex vector bundle on C with deg(N ) = 2g - 2. Then, for any real Cauchy­Riemann operator D on N , we have

indC(D) = deg(N ) + (1 - g) · rank(N ) = 0

(5.3)

by the Riemann­Roch theorem. For the Cauchy­Riemann operator D and a point [f : C  C]  Mh(C, D), we can consider the vector spaces

ker(f D) := coker (ker D -f ker(f D))

(5.4)

coker (f D) := coker (coker D -f coker (f D)).

(5.5)

Note that these spaces can also be defined as subspaces of ker(f D) and coker (f D), when C is smooth, using Remark 2.7 and Lemma 2.8.

Definition 5.2 (Cokernel/obstruction bundle). The operator D is said to be (d, h)rigid if and only if for all [f : C  C]  Mh(C, d), we have

ker(f D) = 0.

(5.6)

In this case, the assignment

[f : C  C]  (NCd,,hD)f = coker (f D)

(5.7)

defines an oriented rank 2r vector bundle NCd,,hD  Mh(C, d), which is called the cokernel/obstruction bundle.

EMBEDDED CURVES IN CALABI­YAU 3-FOLDS

25

Next, define the canonically oriented determinant line of (f D) to be det(f D) = det ker(f D)  (det coker (f D) ) = det(f D)  det(D)

(5.8) (5.9)

where det(D) and det(f D) are the determinant lines of the Cauchy­Riemann operators D and f D, which are canonically oriented by comparing D with a C-linear Cauchy­Riemann operator. If D is (d, h)­rigid, this gives rise to an orientation of the corresponding cokernel bundle. Accordingly, we have a well-defined virtual Euler number of the cokernel bundle

ed,h(C, D) = [Mh(C, d)]vir, e(NCd,,hD)  Q.

(5.10)

More generally, suppose P is a topological space and D = {Dp}pP is a continuous family of real Cauchy­Riemann operators on N . Let   Mh(C, d) × P be the closed substack over which (5.6) fails, with D in place of D. Then, the assignment (5.7), with D in place of D, gives a well-defined oriented rank 2r vector bundle

NCd,,hD  (Mh(C, d) × P ) \ 

(5.11)

which has an Euler class e(NCd,,hD)  H2r((Mh(C, d) × P ) \ ; Q).

Definition 5.3 (Simple wall crossing). Let D = {Dt}t[-1,1] be a smooth family of real Cauchy­Riemann operators on N . We say that D is a simple wall crossing of type (d, h) at t = 0 if ker D0 = 0 and there is a finite set   Mh(C, d) such that
(i) Equation (5.6) holds on (Mh(C, d) × [-1, 1]) \ ( × 0) and the vector bundle NCd,,hD is well-defined here;
(ii) for each [f : C  C]  , the linearized map

Tf Mh(C, d)  Rt - Hom(ker(f D) , coker (f D) ) defined in Definition 2.9 is an isomorphism.

(5.12)

By counting dimensions and indices, it follows that we have

dimR ker(f D) = 1 dimR coker (f D) = 1 + 2r

(5.13) (5.14)

over the finite set . Both sides of (5.12) are canonically oriented by combining the discussion preceding Assumption 4.3 with the orientation on det(f D) . Thus,
to each [f : C  C]  , we can assign a well-defined number

sgn(D, [f : C  C])  {+1, -1}.

(5.15)

which is the sign of the isomorphism (5.12). We want to compute the change in the virtual Euler number ed,h(C, Dt) as we
go from t < 0 to t > 0 for a simple wall crossing D in terms of isotropy groups of the points in  and the signs {sgn(D, p)}p. Our main result is the following.

Theorem 5.4 (Change in Euler number). In the situation of Definition 5.3,

[-1, 1] \ {0}  Q t  ed,h(C, Dt)

(5.16) (5.17)

26

SHAOYUN BAI AND MOHAN SWAMINATHAN

is a locally constant function. Let ed,h(C, D±) denote the value ed,h(C, Dt) for ±t > 0. Then, we have the identity

2 · sgn(D, p)

ed,h(C, D+) - ed,h(C, D-) =

. |Aut(p)|

p

(5.18)

The local constancy assertion is obvious. The remaining assertion will be proved in the next two lemmas. We continue to use the notation from Definition 5.3.

Lemma 5.5 (Local to global). For each point p  , choose an open neighborhood

Vp Mh(C, d) × (-1, 1)

(5.19)

whose closure has smooth orbifold boundary Vp. Endowing Vp with the boundary orientation from Vp and assuming that the closures of {Vp}p are pairwise disjoint, we have the identity

ed,h(C, D+) - ed,h(C, D-) =

[Vp], e(NCd,,hD)

p

(5.20)

where [Vp] denotes the standard orbifold fundamental class for each p  .

Proof. It will be enough to show that the identity

[Mh(C, d)]vir × {+1} - [Mh(C, d)]vir × {-1} = [Vp]
p

(5.21)

holds in H((Mh(C, d) × [-1, 1]) \ p Vp; Q). This will follow from [Par16, Lemmas 5.2.4, 5.2.5 and 5.2.6] applied to the space

(Mh(C, d) × [-1, 1]) \ Vp
p

(5.22)

provided we show that it has an implicit atlas with boundary which, when restricted
to the boundary, gives (a) the usual atlas (from section [Par16, Section 9]) on [Mh(C, d)]vir × {±1} and (b) the standard orbifold atlas on each Vp. Constructing such an atlas is straightforward. Indeed, choose open neighborhoods

Vp Wp Wp Mh(C, d) × (-1, 1)

(5.23)

with {Wp}p still being pairwise disjoint. Endow each Wp \ Vp with the obvious orbifold-with-boundary atlas (with trivial obstruction spaces) as in [Par16, Section
2.1.2] and endow the open subset

(Mh(C, d) × [-1, 1]) \ W p
p

(5.24)

with the restriction of the product atlas (see [Par16, Definition 6.3.1]) on Mh(C, d)× [-1, 1]. These 1 + || open sets cover the moduli space in question. Over the open
overlaps Wp \ W p  Mh(C, d) × (-1, 1) ­ note that there are no triple overlaps ­ both implicit atlases are equivalent (in the sense of [Par16, Remark 2.1.5]). This is because the standard orbifold atlas on Mh(C, d) is equivalent to the restriction of the implicit atlas on Mh(C, d). Thus, we can combine this cover into an implicit atlas on the space (5.22) with the desired properties.

EMBEDDED CURVES IN CALABI­YAU 3-FOLDS

27

Lemma 5.6 (Local contribution). In the situation of Lemma 5.5, the neighborhoods

Vp can be chosen such that their closures are pairwise disjoint and we have

[Vp], e(NCd,,hD)

2 · sgn(D, p) =
|Aut(p)|

(5.25)

for each p  .

Proof. Fix p = [f : C  C]    Mh(C, d). Since Mh(C, d) is a smooth orbifold, we can identify a neighborhood Up of p diffeomorphically with the orbifold [V/], where  = Aut(C, f ) is the isotropy group of p with its natural complex representation on V = Tf Mh(C, d) and the point p is identified with [0]. Without loss of generality, we can assume that this neighborhood meets no other points of
.
Assume, for the sake of concreteness, that sgn(D, p) = +1. This can be achieved
by reparametrizing the interval [-1, 1] in reverse if necessary. The local chart [V/] gives a map V - Mh(C, d) which, in turn, yields the following -equivariant commutative diagram (with the square being a fiber square).

f

C j C ev C



0V

Here,  is a -equivariant smooth family of curves and ev is a -invariant smooth map which is holomorphic on each fibre of . The maps  and ev together with the -action realize the open embedding [V/]  Mh(C, d). We will show that for any sufficiently small sphere SV  V × [-1, 1] centered at 0 (defined with respect to the orthogonal direct sum of a -invariant Hermitian inner product on V and the standard inner product on R), we have an isomorphism

(~NCd,,hD)|SV T SV

(5.26)

of oriented vector bundles on SV, where ~ : V × [-1, 1]  Mh(C, d) × [-1, 1] is given by ~ =  × id. We can then define Vp = [BV/], where BV is the ball bounded by SV, and conclude by noting that [SV], e(T SV) = (SV) = 2. It is useful to note that, for this last argument to work, we do not require the isomorphism (5.26) to
be -equivariant.
To proceed, let us first make the following auxiliary choices.

(1) A Hermitian metric (·, ·) and a compatible C-linear connection  on N .
(2) A conformal metric (and therefore, an area form) on C . (3) A smooth trivialization C = C × V of the bundle . Let f~ : C × V  C
denote the map induced by ev, and set fv := f~(·, v) : C  C for v  V. Also, let ~j = (jv)vV denote the induced family of almost complex
structures on C .
(4) A smooth family of isomorphisms

Iv : (TC , j0) - (TC , jv).

(5.27)

We now have the following smooth family of Cauchy­Riemann operators on N parametrized by (v, t)  V × [-1, 1]

Dv,t : L21(C , f N )  L2(C , 0,1TC ,j0 C f N )

(5.28)

28

SHAOYUN BAI AND MOHAN SWAMINATHAN

defined by pulling back the operator Dt on fvN to an operator on f N by using the -parallel transport along the paths   [0, 1]  fv(z)  C for each z  C and the isomorphism Iv-1. Obviously, we have D0,0 = f D0 on smooth sections. Since ker D0 = coker D0 = 0 (and this will continue to hold for small t), we have
an obvious isomorphism

coker Dv,t (~NCd,,hD)v,t

(5.29)

for small (v, t) = (0, 0). Orient A = ker(f D0) and B = coker (f D0) so that the induced orientation on det(f D0) is the canonical one from Definition 5.2. Define
the bounded linear map

R : im D0,0  (ker D0,0)

(5.30)

to be the inverse of D0,0|(ker D0,0) , with (ker D0,0)  L21 denoting the L2 orthogonal complement of ker D0,0. Let im : L2  im D0,0 be the orthogonal projection
and let coker be the quotient projection onto the cokernel. For small (v, t), the
quantity 1 - imDv,tR is small on im D0,0 and so, we can define the map

Rv,t = R(imDv,tR)-1 : im D0,0  (ker D0,0)

(5.31)

which is the inverse of imDv,t|(ker D0,0) . It is immediate that ker(imDv,t) is given by the graph of the map -Rv,timDv,t : ker D0,0  (ker D0,0). Define the
smooth family of linear maps

Lv,t : ker D0,0  coker D0,0 Lv,t = coker Dv,t(1 - Rv,timDv,t)

(5.32) (5.33)

for small (v, t). We now observe that that the natural maps ker Lv,t - ker Dv,t
and coker Lv,t - coker Dv,t are isomorphisms. It follows (using the identifications A = ker D0,0 and B = coker D0,0) that the oriented vector bundle ~NCd,,hD is given, on a punctured neighborhood of (0, 0), by the assignment

(v, t)  coker (Lv,t : A  B)

(5.34)

with the bundle orientation derived from the orientations already chosen on A and B. Note that L0,0 = 0 and that the first order Taylor expansion of Lv,t about (0, 0) is given by the positively oriented linear isomorphism

V  Rt - Hom(A, B)

(5.35)

from (5.12). Fixing a unitary -invariant metric on V and restricting to any sufficiently small sphere SV  V × [-1, 1] centred at the origin, we can discard (i.e. homotope away) the higher order terms from the Taylor expansion of Lv,t. It follows that the fiber of the vector bundle at a point (v0, t0)  SV is identified with the quotient of the oriented vector space V  Rt by the oriented 1-dimensional space spanned by (v0, t0). But this is simply the standard description of the (oriented) tangent bundle of the sphere SV  V  Rt, once we replace "quotient" by "orthogonal complement" and (5.26) now follows.

Remark 5.7. A coordinate invariant way of summarizing the above proof is the following. The bundle NCd,,hD, initially defined on (Mh(C, d) × [-1, 1]) \ ( × 0),
extends to the real oriented blow-up of Mh(C, d) × [-1, 1] along the smooth points

EMBEDDED CURVES IN CALABI­YAU 3-FOLDS

29

×0

as

a

vector

bundle

N

d,h C,D

.

Moreover,

for

each

point

p



,

we

have

a

natural

vector bundle isomorphism with orientation sgn(D, p)

d,h
N C,D|Sp = T Sp

(5.36)

over Sp, the exceptional boundary component created by blowing up at p. Now, a
direct cobordism argument as in Lemma 5.5, applied to the real oriented blow-up Bl+×0(Mh(C, d) × [-1, 1]) gives (5.18).

6. Application to the Gopakumar­Vafa invariants

In this section, we describe an application of our bifurcation analysis to the Gopakumar­Vafa invariants in a special case.

Definition 6.1. We say that A  H2(X, Z) is primitive if [] · A > 0 and we cannot write A = dB for any B  H2(X, Z) and integer d  2.

If we fix a super-rigid J  J (X, ), we have a well-defined signed count the number of embedded J-curves of a given genus g and homology class . However, this number is not invariant under the change of J as bifurcations may occur. Thus, we need a suitable correction term to make the count invariant. We will show how to do this for g = 0 and  = 2A, where A is primitive.

Definition 6.2. Let C be a smooth genus 0 curve and let N be a complex vector
bundle on it with deg(N ) = -2. Define CRR(N ) to be the affine space of all smooth Cauchy­Riemann operators on N . Let CRC(N ) be the subspace of C-linear Cauchy­Riemann operators. For k  1 and K  {R, C}, define the subsets

Wk,K  CRK(N )

(6.1)

to be the space of operators D for which dimK ker D = k. It is easy to show that W1,R has R-codimension 1 in CRR(N ) and that Wk,C has C-codimension  1 in CRC(N ) for all k  1. Moreover, using Theorem 2.15, we see that Wk,R has codimension  4 in CRR(N ) for k  2. Finally, define the subset

W  CRR(N )

(6.2)

to consist of those D for which there exists a section 0 =   ker D and a point z  C with (z) = 0.

Lemma 6.3. W has codimension  3 in CRR(N ).

Proof. The proof is a direct adaptation of the argument in [IP18, Appendix B].
For each k, s  0, define Ws,k to be the space of tuples (z1, . . . , zk, D), where z1, . . . , zk  C are distinct points and D  CRR(N ), satisfying the following.
(i) V(z1,...,zk,D) = {  ker D : (z1) = · · · = (zk) = 0} is s-dimensional. (ii) There exists a point z  C \ {z1, . . . , zk} such that the map V(z1,...,zk,D)  Nz
given by   (z) is injective.

Clearly, every D  W can be lifted to Ws,k for some (s, k) with s  1 and k  1 (since ker D is finite dimensional). Thus, it suffices to show that the im-
age of Ws,k  CRR(N ) is of codimension  3 for each s, k  1. Fix a point (z1, . . . , zk, D)  Ws,k and consider the natural linearized map

L : 0c,1(C \ {z1, . . . , zk}, HomR(N, N ))  Hom(V, W )

(6.3)

30

SHAOYUN BAI AND MOHAN SWAMINATHAN

where V, W are the kernel, cokernel respectively of D : 0(C, N )  0,1(C, N ) restricted to the space of sections of N vanishing on z1, . . . , zk. We claim that L is surjective. To see this, it suffices to show that the Petri map (dual to L)

L : V  W   0(C \ {z1, . . . , zk}, N R N )

(6.4)

is injective. Indeed, fix a basis 1, . . . , s of V and consider any nonzero element i i  ci  V  W . Here, each ci is a distributional section of the Serre dual N 
such that Dci is a sum of delta distributions supported on {z1, . . . , zk}. Without
loss of generality, assume that we have c1  0. Then, we can find a point z  C
such that (ii) above holds and, by perturbing z slightly if necessary, we also have c1(z) = 0. We then get 0 = i i(z)  ci(z)  Nz  Nz. This implies, in particular, that we also have L( i i  ci) = 0.
Since L is surjective, the image of Ws,k  CRR(N ) has codimension

 s(s + 4k) - 2k  s(s + 2k)  3

(6.5)

as desired.

Definition 6.4. Continuing in the situation of Definition 6.2, for each k, l  0 define the subset

WkZ,/l2Z  M0(C, 2) × CRR(N )

(6.6)

as follows. First, M0(C, 2) is the coarse moduli space underlying the (purely ineffective) orbifold M0(C, 2). Second, say ([f : C  C], D) lies in WkZ,/l2Z iff

dimR ker(D) = k dimR ker(f D) = l

(6.7) (6.8)

where we are using the notation of Definition 5.2. Using Thoerem 2.15, it follows that WkZ,/l2Z has codimension k2 + l(l + 4) in M0(C, 2) × CRR(N ). Finally, also define the subset

WZ,/12Z  M0(C, 2) × CRR(N )

(6.9)

to be the union of WkZ,/12Z for all k  0.

Lemma 6.5. WZ,/12Z  M0(C, 2) × CRR(N ) has codimension 5 and is canonically co-oriented. Moreover, the projection WZ,/12Z  M0(C, 2) is a fiber bundle.

Proof. Let us fix p = [f : C  C]  M0(C, 2) and prove the result for any point D in the corresponding subset WZ,/12Z(p)  CRR(N ). We then have a linearized map, as in Definition 2.9,

0,1(C, HomR(N, N ))  Hom(ker(f D) , coker (f D) )

(6.10)

which we need to show is surjective. But this follows since it is just a component of the map whose surjectivity is needed show the smoothness of WkZ,/12Z for some k  0. Alternatively, we can take any 0 =   ker(f D) and 0 = c  ker(f D)
and note that   c is nonzero and Z/2Z-invariant (and therefore, descends along
f : C  C, away from the branch points). This will show that the map

ker(f D)  ker(f D)  0(C , f N  (f N ))Z/2Z

(6.11)

EMBEDDED CURVES IN CALABI­YAU 3-FOLDS

31

dual to (6.10) is injective. We now have the desired codimension formula and the co-orientation is simply given by taking canonical orientation on the target of (6.10), coming from Definition 5.2, and the complex orientation on M0(C, 2).

Definition 6.6 (Sign). Continuing with the setup of Definition 6.2, let D be a Cauchy­Rieman operator on N such that ker D = coker D = 0. Define the sign sgn(D)  {-1, +1} of D as follows. The determinant line

det(D) = det ker D  (det coker D)

(6.12)

of D is, on the one hand, canonically oriented (by deforming D to a complex linear Cauchy­Rieman operator) and, on the other hand, canonically identified with R, since ker D = coker D = 0. If these two orientations agree, we set sgn(D) = +1. In the remaining case, we set sgn(D) = -1.

Definition 6.7 (Linear wall crossing invariant). Let D  CRR(N ) be (2, 0)-rigid in the sense of Definition 5.2. Choose a generic path  : [0, 1]  CRR(N ) \ W starting from D and ending on CRC(N ) \ k1 Wk,C, such that it is transverse to the image of the projection map

WZ,/12Z  CRR(N )

(6.13)

and avoids WkZ,/l2Z for each k  0 and l  2. Then, the fiber product of  and (6.13) is a finite oriented, i.e. signed, collection of points and their signed count

w2(D, )  Z is called the linear wall crossing invariant of D along .

(6.14)

Lemma 6.8. The linear wall crossing invariant is well-defined and independent of the choice of  and only depends on the starting point D.

Proof. Note that k1 Wk,C has complex codimension 1 and therefore, the space CRC(N ) \ k1 Wk,C is path connected. Moreover, every operator in the set CRC(N ) \ k1 Wk,C is isomorphic (by Grothendieck's theorem [Gro57]) to the standard operator on O(-1)2  P1, which is super-rigid. Thus, we may disregard the final endpoint of .
By checking the codimensions, we see that we can join any two paths (with the
same endpoints) as in Definition 6.7 by a fixed-endpoint path homotopy ~ which avoids W , is transverse to WZ,/12Z and also avoids WkZ,/l2Z for all k  0 and l  2. We will be done if we show that the fiber product of ~ with the map (6.13) is a
compact oriented 1-manifold with boundary exactly along the two initial paths.
The property of being an oriented 1-manifold with boundary is obvious from the
transversality assumptions on ~. To show compactness, suppose that we have an infinite sequence of points ([fi : Ci  C], Di)  WZ,/12Z with Di  D. Since we know that the homotopy avoids WkZ,/l2Z for all k  0 and l  2, it follows that we only need to rule out the possibility when the limit of a subsequence of [fi : Ci  C] is a nodal stable map f : C z C  C. Indeed, in this case, we must have a section 0 =   ker(f D) which flips sign under the Z/2Z action and thus, there is a section 0 =   ker D with (z) = 0. But this means D  W (which would be a
contradiction to the choice of ~).

Remark 6.9. Because of the path independence, we denote the linear wall crossing invariant of an operator D simply by w2(D).

32

SHAOYUN BAI AND MOHAN SWAMINATHAN

Definition 6.10. Let A  H2(X, Z) be primitive and J  J (X, ) be super-rigid. Define the virtual number of embedded curves of genus 0 and class 2A to be

ne2mAb,0(J ) =

sgn(DCN ,J ) +

sgn(DCN,J )w2(DCN,J )

[C ]=2A

[C ]=A

(6.15)

where the first sum is over all embedded genus 0 J-curves C  X of class 2A and the second sum is over all embedded genus 0 J-curves C  X of class A.

Theorem 6.11 (Invariance). The virtual number of embedded curves of genus 0 and class 2A is independent of the choice of super-rigid J.

Proof. The proof essentially follows the ideas in [Tau00]. Let J±  J (X, ) be two super-rigid almost complex structures. Choose a generic path  : [-1, 1]  J (X, ). Define b = (b1, b2) with bi = (2) for i = 1, 2 and let  be the sign representation of Z/2Z. We may assume that  is transverse to the map

M2b,Z/2Z(M0(X, A); , 5)  J (X, )

(6.16)

and that it avoids each M2b,Z/2Z(M0(X, A); k, c) for which  is a proper subrepresentation of k. Also, exactly as in the proof of Lemma 6.8, we may ensure
that for each t  (-1, 1), there is no (t)-curve  along with a point z   and a section 0 =   ker DN,(t) satisfying

(z) = 0.

(6.17)

Now, let us consider the moduli space

M0(X, , 2A)  [-1, 1]

(6.18)

consisting, of pairs (t, ) with t  [-1, 1] and   X being an embedded (t)-curve in the homology class 2A. Define M0(X, , A) = M0(X, , A) analogously. Both of these moduli spaces are oriented 1-dimensional manifolds with boundary over t = ±1. Moreover, M0(X, , A) is proper over [-1, 1]. Using the argument from Lemma 6.8 and the genericity of , we find that there are finitely many points in
the fiber product of  and (6.16). Let us enumerate the times of the intersections
as -1 < t1 < · · · < tk < 1. Further, for each 1  i  k, let

pi,j = ((ti), i,j  X, i,j : i,j  i,j )  M2b,Z/2Z(M0(X, A); , 5) (6.19)

for 1  j  i be an enumeration of the corresponding points in the fibre product.
Choose i > 0 for 1  i  k and Gromov neighborhoods Oi,j of i,j : i,j  X for 1  j  i such that the products

Ui,j = (ti - i, ti + i) × Oi,j

(6.20)

are all pairwise disjoint. The proof now follows from a series of claims.

(1) The Z-valued function

(t, )  w2(DN,(t))

(6.21)

defined on M0(X, , A) away from the complement of the fibres over {ti}1ik is locally constant.

Proof. Indeed, fix a point (t0, 0)  M0(X, , A) with t0 = ti for all 1  i  k. The operator DN0,(t0) is then (2, 0)-rigid and thus, any (t, )  M0(X, , A)
sufficiently close to (t0, 0) can be joined to it by a path consisting of curves

EMBEDDED CURVES IN CALABI­YAU 3-FOLDS

33

with (2, 0)-rigid normal deformation operators. The definition of w2(·) now gives w2(DN,(t)) = w2(DN0,(t0))
(2) The moduli space M0(X, , 2A) \ i,j Ui,j is compact.
Proof. Let (tn, n) be a sequence in this space. By Gromov compactness, we can pass to a subsequence which converges to a stable map (t,  :   X). If  is an embedding, then we are done. If not, then (since (t)  Wemb by genericity) we must have a factorization  :     X for some embedded (t)-curve  of class A. By Lemma 6.12 below, we must have ker(DN,(t)) = 0. We take two cases.
(i)  :  =  z    is nodal. This implies that there exists a 0 =   ker DN,(t) with (z) = 0, which is a contradiction.
(ii)  is smooth. This means that we must have t = ti and  i,j for some i, j and thus, (tn, n)  Ui,j for large n which is a contradiction.

(3) Let t  [-1, 1] \ {t1, . . . , tk} be a regular value of both (6.18) and the projection M0(X, , A)  [-1, 1]. Then, the formula (6.15) for ne2mAb,0 is well-defined for any (t). Moreover, if ti < t  t < ti+1 are two such regular values (for some
1  i < k), then we have

ne2mAb,0((t )) = ne2mAb,0((t )).

(6.22)

Proof. The argument from claim (2) above shows that the restriction of (6.13)
to [-1, 1] \ {t1, . . . , tk} is proper. Combined with the result of claim (1) and the properness of the projection M0(X, , A), it follows that each of the two summations (appearing in the definition of ne2mAb,0) gives the same result for t and t . In particular, we get (6.22).

(4) Let t , t  [-1, 1] \ {t1, . . . , tk} be regular values of both (6.18) and the projection M0(X, , A)  [-1, 1]. If 1  i  k is such that

- i < t - ti < 0 < t - ti < i

(6.23)

then we again have (6.22).

Proof. In view of claim (3), we can take t , t to be arbitrarily close to ti. For
small |t-ti| and   {i,j : 1  j  i}, define (t) to be the unique embedded (t)-curve close to  (obtained by noting that ker DN,(ti) = 0 and applying the inverse function theorem). For such a , let I(i) = {1  j  i :  = i,j},
and note that we have the identity

sgn(, ti; pi,j ) = sgn(DN,(ti)) · (w2(DN(t ),(t )) - w2(DN(t ),(t ))) (6.24)
j I (i)
where we check orientations by using the identification

det(DN,(ti))  det(i,j DN,(ti)) = det(i,j DN,(ti))

(6.25)

for each j  I(i). Apply Theorem 3.4 to each pair (ti, pi,j) and note that
 = Z/2Z in all cases. Arguing as in the proof of claim (3), we find that the first sum in the definition of ne2mAb,0 changes by the negative of the left side of (6.24) as we go from t to t , while the second sum in the definition of ne2mAb,0

34

SHAOYUN BAI AND MOHAN SWAMINATHAN

changes by the right side of (6.24) when we go from t to t . These two changes cancel each other out and so, we again have (6.22).

By combining claims (3) and (4), we deduce that ne2mAb,0(J-) = ne2mAb,0(J+).

Lemma 6.12. Fix a smooth family F : V  J (X, ) defined on a finite dimensional vector space V with J = F(0). Let   X be an embedded J-curve of genus 0 and  :    be a genus 0 double cover, possibly with nodes. If we have

ker(DN,J ) = 0

(6.26)

then we can find a Gromov neighborhood O of  :   X and a neighborhood U of 0  V such that U × O contains no pair (v, f : C  X), where f : C  X is a simple F (v)-holomorphic genus 0 curve, with f[C] = 2[]  H2(X, Z).

Proof. Consider the moduli stack

M0(X, F , 2[])

(6.27)

of pairs (v  V, f : C  X), where f is an F(v)-holomorphic stable map of genus 0 in class 2[]. Near the point (0, ), we can describe this moduli stack as F -1(0)/,
using a local -equivariant Kuranishi model

F : TM0(, 2)  ker D  V  coker D

(6.28)

where D = DN,J ,  = Aut() = Z/2Z and M0(, 2) is the orbifold of stable genus 0 maps to  of degree 2. When  is smooth, this Kuranishi model can be constructed as usual using the implicit function theorem and F is smooth. When  is nodal, we first split the space TM0(, 2) into two complex one dimensional spaces (one corresponding to variations of the nodal branched cover  among other nodal degree 2 covers and the other being the gluing parameter corresponding to smoothing the node) and then use standard gluing analysis (see for example [Par16, Appendix B]) to construct the Kuranishi model. We recall that when  is nodal, gluing analysis shows that the map F is continuous but not necessarily smooth.
Now, observe that the -action on the domain of F is trivial (this is because ker D = ker D). Thus, every point in F -1(0) corresponds to a stable map in
M0(X, F, 2[]) with automorphism group . In particular, every stable map near (0, ) is non-simple.

Remark 6.13. In view of Theorem 6.11, we drop J from the notation for ne2mAb,0.

Theorem 6.14. The virtual number of embedded curves of genus 0 and class 2A satisfies the Gopakumar­Vafa formula. More precisely, define, for super-rigid J,

GWA,0 = neAm,0b =

sgn(DCN,J )

[C ]=A

GW2A,0 =

sgn(DCN ,J ) +

sgn(DCN,J )e2,0(C, DCN,J )

[C ]=2A

[C ]=A

(6.29) (6.30)

where e2,0 denotes the virtual Euler number as defined in 5.2. Then, we have the following relation between GW and nemb.

GW2A,0

=

ne2mAb,0

+

1 23

· neAm,0b.

(6.31)

EMBEDDED CURVES IN CALABI­YAU 3-FOLDS

35

Proof. From the definitions, it is clear that it will suffice to prove that

e2,0(C, DCN,J ) -

1 23

= w2(DCN,J ).

(6.32)

Let ¯ denote an operator on NC which is conjugate to the standard operator on O(-1)2  1. The Aspinwall­Morrison formula (see, for example [Voi96]) shows

that we have

e2,0(C, ¯)

=

1 23 .

(6.33)

Thus, we are left to prove that the difference of Euler numbers is given by the

wall-crossing invariant. But this is immediate from the definition and Theorem 5.4. Simply choose a generic path  in CRR(NC ) from DCN,J to ¯ which is transverse to all WkZ,/l2Z, Wk,R and W and apply Theorem 5.4 to each intersection of  with W0Z,/12Z (and note that e2,0 does not change when  intersects W1Z,/02Z).

References

[BH98] Hans U Boden and Christopher M Herald, The SU(3) Casson invariant for integral

homology 3-spheres, Journal of Differential Geometry 50 (1998), no. 1, 147­206.

[CK99] David A Cox and Sheldon Katz, Mirror symmetry and algebraic geometry, American

Mathematical Soc., 1999.

[Don19] Simon Donaldson, Deformations of multivalued harmonic functions, arXiv preprint

arXiv:1912.08274 (2019).

[DW19] Aleksander Doan and Thomas Walpuski, Counting embedded curves in symplectic 6-

manifolds, arXiv preprint arXiv:1910.12338 (2019).

[DW20]

, Equivariant Brill-Noether theory for elliptic operators and super-rigidity of

J-holomorphic maps, 2020.

[Gro57] A. Grothendieck, Sur la classification des fibr´es holomorphes sur la sph`ere de Riemann,

Amer. J. Math. 79 (1957), 121­138. MR87176

[GV98] Rajesh Gopakumar and Cumrun Vafa, M-theory and topological strings­II, arXiv

preprint hep-th (1998).

[HST01] Shinobu Hosono, Masa-Hiko Saito, and Atsushi Takahashi, Relative Lefschetz action and

BPS state counting, International Mathematics Research Notices 2001 (2001), no. 15,

783­816.

[IP18] Eleny-Nicoleta Ionel and Thomas H. Parker, The Gopakumar-Vafa formula for sym-

plectic manifolds, Ann. of Math. (2) 187 (2018), no. 1, 1­64. MR3739228

[IP97] Eleny-Nicoleta Ionel and Thomas H Parker, The Gromov invariants of Ruan-Tian and

Taubes, Mathematical Research Letters (1997).

[Joy02] Dominic Joyce, On counting special Lagrangian homology 3-spheres, Contemporary

Mathematics 314 (2002), 125­152.

[Joy16]

, Conjectures on counting associative 3-folds in G2­manifolds, arXiv preprint

arXiv:1610.09836 (2016).

[Kat08] Sheldon Katz, Genus zero Gopakumar-Vafa invariants of contractible curves, Journal

of Differential Geometry 79 (2008), no. 2, 185­195.

[KL12] Young-Hoon Kiem and Jun Li, Categorification of Donaldson-Thomas invariants via

perverse sheaves, arXiv preprint arXiv:1212.6444 (2012).

[MRS11] Tomasz Mrowka, Daniel Ruberman, and Nikolai Saveliev, Seiberg­Witten equations,

end-periodic Dirac operators, and a lift of Rohlin's invariant, Journal of Differential

Geometry 88 (2011), no. 2, 333­377.

[MT18] Davesh Maulik and Yukinobu Toda, Gopakumar­Vafa invariants via vanishing cycles,

Inventiones mathematicae 213 (2018), no. 3, 1017­1097.

[Par16] John Pardon, An algebraic approach to virtual fundamental cycles on moduli spaces of

pseudo-holomorphic curves, Geom. Topol. 20 (2016), no. 2, 779­1034. MR3493097

[Tau00] Clifford Henry Taubes, Counting pseudo-holomorphic submanifolds in dimension 4 [

MR1438194 (97k:58029)], Seiberg Witten and Gromov invariants for symplectic 4-

manifolds, 2000, pp. 99­161. MR1798138

36

SHAOYUN BAI AND MOHAN SWAMINATHAN

[Voi96] Claire Voisin, A mathematical proof of a formula of Aspinwall and Morrison, Compo-

sitio Math. 104 (1996), no. 2, 135­151. MR1421397

[Wen19] Chris Wendl, Transversality and super-rigidity for multiply covered holomorphic curves,

2019.

[Zin08] Aleksey Zinger, Standard versus reduced genus-one Gromov­Witten invariants, Geom-

etry & Topology 12 (2008), no. 2, 1203­1241.

[Zin11]

, A comparison theorem for Gromov­Witten invariants in the symplectic cate-

gory, Advances in Mathematics 228 (2011), no. 1, 535­574.

Department of Mathematics, Princeton University, New Jersey 08544, USA Email address: shaoyunb@math.princeton.edu
Department of Mathematics, Princeton University, New Jersey 08544, USA Email address: mohans@math.princeton.edu

