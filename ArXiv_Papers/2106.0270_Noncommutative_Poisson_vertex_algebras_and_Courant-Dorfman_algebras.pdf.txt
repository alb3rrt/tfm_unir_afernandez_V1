NONCOMMUTATIVE POISSON VERTEX ALGEBRAS AND COURANT­DORFMAN ALGEBRAS
DAVID FERNA´ NDEZ AND REIMUNDO HELUANI
Abstract. We introduce double Courant­Dorfman algebras, which are noncommutative versions of Roytenberg's Courant­Dorfman algebras, since we prove that they satisfy the Kontsevich­Rosenberg principle. In addition, we establish a one­to­one correspondence between double Courant­Dorfman algebras and double Poisson vertex algebras, as introduced by De Sole, Kac and Valeri. This at the same time provides a vertex version of Van den Bergh's construction of double Poisson algebras, as well as a noncommutative version of the correspondence between Poisson vertex algebras and Courant­Dorfman algebras.

arXiv:2106.00270v2 [math.QA] 2 Jun 2021

Contents

1. Introduction

1

2. Notation and Conventions

6

3. Basics on noncommutative geometry

7

4. Double Poisson vertex algebras

9

5. Double Courant­Dorfman algebras

11

6. The equivalence theorem

13

7. The Kontsevich­Rosenberg principle for double Courant­Dorfman algebras 20

Appendix A. Some useful identities on double Courant­Dorfman algebras

26

References

29

1. Introduction

1.1. Let k be a field of characteristic zero, and A = n0An be an N-graded Poisson algebra of degree -1, that is, a graded, commutative, associative, unital k-algebra, whose
multiplication is of degree 0 (i.e., if a  Ap, b  Aq, then a · b  Ap+q), together with a klinear Lie algebra bracket of degree -1 (that is, if a  Ap, b  Aq, we have {a, b}  Ap+q-1). Both operations are subject to the Leibniz identity

{a, b · c} = c · {a, b} + b · {a, c} .

(1.1)

Then the pair O = A0, E = A1 is a Lie­Rinehart pair (also known as a Lie algebroid in the geometric context). More precisely,

(1) O is a commutative associative unital k-algebra. (2) E is an O-module. (3) E is a k-linear Lie algebra with bracket [-, -] = {-, -}|E .
1

2

D. FERNA´ NDEZ AND R. HELUANI

(4) E acts on O by derivations, i.e. there exists a k-linear map of Lie algebras  : E  Derk O, given by (a)(f ) = {a, f } for a  E and f  O.
These data are compatible in the following way:
[a, f · b] = f · [a, b] + (a)(f ) · b, f  O, a, b  E .

Conversely, given a Lie­Rinehart pair one canonically constructs a Poisson algebra of degree -1 on the space SymO E , by extending the Lie bracket from A1 = E using the Leibniz rule (1.1). As a commutative algebra, the symmetric algebra is freely generated over O by its degree 1 part given by E . If we start with a graded Poisson algebra of degree 1 as above, and construct the corresponding Lie­Rinehart pair, we obtain a canonical surjection SymO E  A, which is the identity in degrees 0 and 1.
This provides a one­to­one correspondence between Lie­Rinehart pairs over k and graded Poisson algebras of degree -1, freely generated in degrees 0 and 1.

1.2. Recall that a graded Poisson vertex algebra (PVA) A of degree -1 is a graded,

commutative, associative, unital algebra A = n0An, together with a derivation of degree

1,  : A·  A·+1, and a Lie conformal bracket of degree -1, which is defined as an

operation

A  A - A[],

a  b - {ab} =

a(j)b

j j!

,

j0

making A into a k-Lie conformal algebra [21] such that

a  Ap, b  Aq = a(j)b  Ap+q-j-1.

These operations are related by the Leibniz rule

{ab · c} = b · {ac} + c · {ab} .

One of the main features of Poisson vertex algebras is that they are the quasi-classical limits of Borcherds' vertex algebras. Every vertex algebra V comes equipped with a canonical decreasing filtration known as the Li filtration [25]:
V = F0V  F1V  · · ·  FpV  Fp+1V  · · ·
The associated graded algebra A = grF V = p0FpV /Fp+1V carries a structure of Poisson vertex algebra. This is a commutative associative graded algebra (the normally ordered product of V descends to the multiplication of A), with a unit (given by the image of the vacuum vector 1  V ) and a derivation of degree 1 (given by the translation operator of V ). In addition, the -bracket of V descends to a Lie conformal structure on A satisfying the Leibniz rule with respect to the multiplication.
The canonical example of a Poisson vertex algebra is given by the ring of functions of the arc space of a Poisson manifold. If P is a Poisson algebra, we put J0 = P , and let J be the unital associative commutative algebra with a derivation of degree 1, freely generated (as a differential algebra) by J0. For example, we will have J1 = 1J0, the module of Ka¨hler differentials of J0, and  : J0  J1 will be given by the universal derivation. Then the Poisson bracket of J0 can be uniquely extended to a -bracket on J by sesquilinearity and the Leibniz rule [4]. In the particular case where P = k[x1, . . . , xn] is a polynomial algebra, we have that J = k[x1(p), . . . , xn(p)]p0 is a differential polynomial algebra. The derivation is defined by xi(p) = xi(p+1) and the degrees of the generators are given by deg xi(p) = p.

NONCOMMUTATIVE PVA AND CD ALGEBRAS

3

It was noted in [4] that the quasi-classical limit of any vertex algebra is a quotient of the
free algebra J described in the previous paragraph. Indeed, given a vertex algebra V , one
considers its associated graded algebra with respect to the Li filtration, A = grF V . Then P := A0 is a Poisson algebra (known as Zhu's C2-quotient) and by the universal property, it follows that A is a quotient of the arc algebra J of P described above.

1.3. A chiral or vertex version of §1.1 is given as follows. Let A = n0An be a graded Poisson vertex algebra of degree -1. It was observed by Ekstrand and Zabzine [16],
following works of Bressler [9], Roytenberg [28] and the second author [20], that the pair O = A0, E = A1 is a Courant­Dorfman algebra1, which consists of the following data:

(1) a commutative k-algebra O. (2) an O-module E . (3) a symmetric bilinear form -, - : E  E  O, given by a, b = a(1)b. (4) an E -valued derivation of O:  : O  E . (5) a k-bilinear operation called the Dorfman bracket [-, -] : E  E  E , given by
[a, b] = a(0)b.

These data are required to satisfy the following compatibility conditions: [a, f · b] = f [a, b] + a, f b,
a,  b, c = [a, b], c + a, [b, c] ,  a, b = [a, b] + [b, a],
[a, [b, c]] = [[a, b], c] + [b, [a, c]], 0 = [f, a], 0 = f, g ,

(1.2)

for all a, b, c  E and f, g  O. If -, - is non-degenerate, then the last two conditions and the first one are redundant and one obtains the definition of Courant algebroids of [27].
Conversely, given a Courant­Dorfman algebra (O, E , ), one canonically constructs a graded Poisson vertex algebra A, freely generated in degrees 0 and 1, such that A0 = O and A1 = E . This gives a one­to­one correspondence between graded Poisson vertex algebras of degree -1, freely generated in degrees 0 and 1, and Courant­Dorfman algebras.

1.4. There are different ways to produce noncommutative generalizations or deformations of the correspondences unveiled in §1.1­1.3. Given a Lie­Rinehart pair (O, E ) one can construct its universal enveloping algebra U(E ) [6], which is a filtered associative algebra generalizing the algebra of differential operators in the case E = Derk O, and the universal enveloping algebra of a Lie algebra in the case O = k. Its associated graded algebra coincides with SymO E as a Poisson algebra.
The chiral rendition is more complicated. Given a Courant­Dorfman algebra (O, E , ) one aims at constructing a filtered vertex algebra, whose associated graded Poisson vertex algebra recovers the given Courant­Dorfman algebra in degrees 0 and 1. As explained in [18] and [5], there is an obstruction to constructing this algebra.
1Note that in [16], Ekstrand and Zabzine used the term `weak Courant­Dorfman algebra', rather than `Courant­Dorfman algebra'. However, as in the present article we will mainly follow [28], hereafter we will omit the adjective `weak'.

4

D. FERNA´ NDEZ AND R. HELUANI

1.5. Another noncommutative generalization of the correspondence in §1.1 was given by Van den Bergh [31, 32] by constructing a noncommutative generalization of a Poisson algebra using his notion of double Poisson algebra. It consists of an associative k-algebra A and a linear map
{{-, -}} : A  A - A  A,
satisfying suitable skewsymmetry and Leibniz rules, as well as the (double) Jacobi identity; see (3.3) and (3.5). Remarkably, if a  A, the Leibniz rule (3.3b) can be rephrased by saying that {{a, -}} : A  A  A is a double derivation (cf. §3.1) rather than a plain derivation.
Besides giving a powerful notion of noncommutative Poisson algebras with significant applications in geometric representation theory, Van den Bergh's double Poisson algebras have been used in [26, 3] to develop an interesting theory of noncommutative Hamiltonian Ordinary Differential Equations (ODEs), which extends the well-known connection in classical mechanics between (classical) Poisson geometry and (commutative) Hamiltonian ODEs. Furthermore, in classical field theory, the study of Hamiltonian Partial Differential Equations (PDEs) is realized by Poisson vertex algebras.
In their groundbreaking article [15], De Sole, Kac and Valeri started the study of integrable PDEs in noncommutative variables by introducing the fundamental notion of double Poisson vertex algebras, which are a cross between Van den Bergh's double Poisson algebras and familiar Poisson vertex algebras, as discussed in §1.2. They rely on the notion of a double -bracket that consists of a bilinear map
{{--}} : V  V - (V  V)[]
satisfying appropriate sesquilinearity conditions, Leibniz rules, skewsymmetry and the Jacobi identity (see Definitions 4.1 and 4.2), resembling the corresponding axioms in the definition of double Poisson algebras. Note that in [10], Casati and Wang introduced a multiplicative analogue of double Poisson vertex algebras with applications in differentialdifference Hamiltonian equations (see also [11] for a multiplicative perspective on the theory of integrable systems in noncommutative variables).
In the light of the discussion depicted in §1.3, it is natural to ask whether the double Poisson vertex algebras as introduced in [15] can be put in correspondence with suitable noncommutative generalizations of Courant­Dorfman algebras. The main goal of this article is to show that the answer is in the affirmative.
Firstly, in [2] (see also [17]), A´ lvarez-Co´nsul and the first author were able to unveil noncommutative analogues of the prominent Courant algebroids, called double Courant algebroids. They were obtained by developing a differential-graded symplectic (Batalin­ Vilkovisky) version of the noncommutative geometry based on double derivations as in [13, 31, 32] modeled around the notion of bisymplectic NQ-algebras: noncommutative versions of symplectic NQ-manifolds originally introduced in [1]. Hence, following ideas of [27, 29], from a bisymplectic NQ-algebra of weight 2 the axioms characterizing double Courant algebroids were established. Based on them, in this article we succeed in introducing the notion of double Courant­Dorfman algebras as a 5-tuple (A, E, -, - , , [[-, -]]), where E is a bimodule over an associative k-algebra A, a derivation  : A  E and a pairing
-, - : E  E  A  A in the sense of [32] -- see §3.3. The main ingredient is the double Courant­Dorfman bracket on the tensor algebra TAE: a bilinear map
[[-, -]] : TAE  TAE - TAE  TAE,

NONCOMMUTATIVE PVA AND CD ALGEBRAS

5

of degree -1. It is required that these data satisfy natural compatibility conditions reminiscent of (1.2); see Definitions 5.2 and 5.3.

We could write that double Poisson algebras and double Poisson vertex algebras were noncommutative generalizations of familiar Poisson algebras and Poisson vertex algebras, respectively, since, as shown in (7.2) and Proposition 7.1, they satisfy the paradigm in noncommutative geometry: the Kontsevich­Rosenberg principle. As explained in §7.1, it states that a noncommutative algebro-geometric structure on an associative algebra should naturally induce the corresponding standard algebro-geometric structure on its representation varieties. One of the main results of this article is Theorem 7.4 where we prove that our double Courant­Dorfman algebras, as introduced in Definition 5.3, do satisfy the Kontsevich­Rosenberg principle, inducing the familiar Courant­Dorfman algebras on representation varieties. As in [31, §7] and [15, §3.7], to prove this theorem, we take advantage of the explicit description based on indices of the coordinate ring of the representation variety and bimodules over it -- see (7.1) and (7.5).

Once we ascertain that double Courant­Dorfman algebras are the objects that we were looking for, we are in position to prove Theorem 6.1, which is the main result of this article. It states that there exists a one­to­one correspondence between double Courant­ Dorfman algebras and graded double Poisson vertex algebras of degree -1, freely generated in degrees 0 and 1, providing a noncommutative version of the correspondence between Poisson vertex algebras and Courant­Dorfman algebras presented in §1.3. The key point of the proof is the following identity that relates double Poisson -brackets and the data characterizing double Courant­Dorfman algebras:

for all e, f  E.

{{ef }} = [[e, f ]] + e, f ,

1.6. As shown in [30], there exists yet another geometric interpretation for the notion of a Lie algebroid (O, E ) in terms of supermanifolds: the exterior algebra O E is the algebra of functions of a symplectic supermanifold of weight 1. Similarly, associated to a Courant algebroid, Roytenberg [27] constructs a symplectic NQ-manifold of weight 2. Furthermore, as pointed out in §1.5, A´ lvarez-Co´nsul and the first author [2] defined double Courant algebroids using bisymplectic NQ-algebras of weight 2, which are noncommutative counterparts of the symplectic NQ-manifolds of weight 2 of Roytenberg. Hence, this article completes the chart below, by showing the relation between double Courant­Dorfman algebras and double Courant algebroids, noncommutative symplectic NQ-geometries and double Poisson vertex algebras:

Geometry
Lie algebroids/ Lie­Rinehart pairs Courant algebroids/ Courant­Dorfman algebras Double Courant algebroids/ double Courant­Dorfman algebras

Graded geometry
Symplectic supermanifold of weight 1
Symplectic NQ-manifolds of weight 2
Bisymplectic NQ-algebras of weight 2

Algebra Poisson
PVA double PVA

1.7. The organization of this article is as follows. After establishing basic notational conventions in Section 2, we collect in Section 3 the basic notions of noncommutative geometry needed in the rest of the article. In Section 4 we recall the notion of double Poisson vertex

6

D. FERNA´ NDEZ AND R. HELUANI

algebras following [15]. In Section 5 we recall the definitions of Courant­Dorfman algebras following [28] and we define their noncommutative counterparts: double Courant­Dorfman algebras, which are one of the key objects of our work. In Section 6 we prove our main result, Theorem 6.1, establishing an equivalence between double Courant­Dorfman algebras and double Poisson vertex algebras, freely generated in degrees 0 and 1. Finally, Section 7 is devoted to establish the Kontsevich­Rosenberg principle for double Courant­Dorfman algebras. In Appendix A we collect two some technical results that we need to prove our main results, which may be of independent interest.

Acknowledgments. The first author is supported by the Alexander von Humboldt Stiftung in the framework of an Alexander von Humboldt professorship endowed by the German Federal Ministry of Education and Research. During the initial stage of this work, he was supported by IMPA and CAPES through their postdoctorate of excellence fellowships at UFRJ. He deeply acknowledges their support and excellent working conditions. The second author is partially supported by CNPq grant number 305688/2019-7.
The authors wish to thank Henrique Bursztyn, Alejandro Cabrera and Mario Garc´iaFerna´ndez for useful conversations. Special thanks are due to Daniele Valeri for his kind and enlightening emails, and to Luis A´ lvarez-Co´nsul for his interest in this project and encouragement, as well as for drawing our attention to the crucial article [15].

2. Notation and Conventions

Throughout this article, all associative and commutative algebras will be unital and finitely generated over a base field k of characteristic 0. In fact, a k-algebra A will mean a unital and finitely generated associative (not necessarily commutative) k-algebra. Unless
otherwise stated, all unadorned notation will mean over the base field k; in particular,  := k and Hom(-, -) := Homk(-, -). The opposite algebra and the enveloping algebra of an associative algebra A will be denoted Aop and Ae := A  Aop, respectively. We will identify the category of A-bimodules and the category of (left) Ae-modules.

Given two A-bimodules E and F , their tensor product E  F has two commuting A-bimodule structures, called the outer and the inner A-bimodule structures, denoted (E  F )out and (E  F )inn, respectively, given by

a(e  f )a = (ae)  (f a) on (E  F )out, a  (e  f )  a = (ea)  (af ) on (E  F )inn,

for all a, a  A, and e  f  E  F . In particular, the underlying A-bimodule of A
determines two A-bimodules with the same underlying vector space A  A: (A  A)out and (A  A)inn. Unless explicitly stated, we endow the tensor product E  F (and in particular A  Aout) with the outer A-bimodule structure. We will systematically use Sweedler's notation, consisting of dropping the summation sign: if v  E  F , we write v = v  v  E  F , where v  E and v  F .

Furthermore, following [15, §1.3], given n  N2, for every i = 0, . . . , n - 1, we define the i-th left and right A-module structures of An by

a i (a1  · · ·  an) = a1  · · ·  ai  aai+1  · · ·  an, (a1  · · ·  an) i a = a1  · · ·  an-ia  · · ·  an,

(2.1)

NONCOMMUTATIVE PVA AND CD ALGEBRAS

7

for all a, a, a1, . . . , an  A. The index denotes the number of "jumps". In particular, the outer bimodule structure can be written as a 0 (a1  a2) 0 a, whilst the inner bimodule structure as a 1 (a1  a2) 1 a. Moreover, following [15, §1.3], let Ei be an A-bimodule
for 1  i  3, and given ei  Ei, we define

e1 1 (e2  e3) := e2  e1  e3  E2  E1  E3, (e1  e2) 1 e3 := e1  e3  e2  E1  E3  E2.

(2.2)

We define the bidual of the A-bimodule E as the A-bimodule

M  := HomAe(E, (A  A)out),

(2.3)

where the A-bimodule structure is induced by the one in (A  A)inn (i.e. (ab)e = a  (e)  b = (e)b  a(e), for all   E, e  E, a, b  A).

Let n  N and V1, . . . , Vn be vector spaces. We will denote by Sn the group of permutations of n elements {1, . . . , n}, which acts on V1  · · ·  Vn in the usual way. If s  Sn, we have a linear map
s : V1  · · ·  Vn - Vs-1(1)  · · ·  Vs-1(n),
given by the formula s(v) = vs-1(1)  · · ·  vs-1(n),
for all v = v1  · · ·  vn, with vi  Vi. If s = (1 . . . n) is the cyclic permutation (which sends 1 to 2), we use the notation

(v1  · · ·  vn-1  vn) = vn  v1  · · ·  vn-1.

3. Basics on noncommutative geometry
In this section, following [13, 31, 32], we will introduce the basics on noncommutative geometry that we shall need below. One of the main features of our approach to noncommutative geometry is that the role of vector fields is played by double derivations that we will define in §3.1. Since double Poisson vertex algebras in §4 will be based on them, in §3.2, we introduce double Poisson algebras [31]; furthermore, they are noncommutative analogues of Poisson algebras -- see §7. Finally, we define (symmetric) pairings in §3.3, which will be extensively used in §5­7.

3.1. Noncommutative differential forms and double derivations. Let A be a unital associative k-algebra (the unit is denoted by 1), and E be an A-bimodule. A derivation of A into E is an additive map  : A  E satisfying (1) = 0, and the Leibniz rule (ab) = (a)b + a(b), for all a, b  A. The vector space of derivations  : A  E is denoted Der(A, E). If E = A (regarded as an A-bimodule over itself), we simply write Der A.

We define the A-bimodule of noncommutative differential 1-forms 1ncA as the kernel of the multiplication of A (regarded as an A-subbimodule of A  A). It carries the universal derivation d, defined as the derivation d : A  1ncA, a  da := 1  a - a  1. Cuntz­ Quillen [14] proved that the pair (1ncA, d) satisfies the following universal property: for any derivation  : A  E, there exists a unique A-bimodule morphism i : 1ncA  E such that  = i  d. It is convenient to rephrase this universal property by saying that there
exists a canonical isomorphism of A-bimodules

Der(A, E) -= HomAe(1ncA, E),  - i,

(3.1)

8

D. FERNA´ NDEZ AND R. HELUANI

whose inverse map is given by i   = i  d. Taking the bidual (2.3) of the A-bimodule 1ncA, we obtain

(1ncA) := HomAe 1ncA, (A  A)out  Der A, (A  A)out ,

(3.2)

where the last isomorphism comes from (3.1) with E = (A  A)out. Hence, we define the A-bimodule Der A := Der(A, (A  A)out), whose A-bimodule structure is induced by the inner A-bimodule structure (that is, (ab)(c) = a  (c)  b = (c)b  a(c), for all
a, b, c  A,   Der A). The elements  : A  AA of Der A are called double derivations.

3.2. Double Poisson algebras. A double bracket [31] on A is a linear map {{-, -}} : A  A - A  A, a  b - {{a, b}}  {{a, b}} ,

satisfying

{{a, b}} = {{b, a}} ,

(3.3a)

{{a, bc}} = b {{a, c}} + {{a, b}} c,

(3.3b)

for all a, b, c  A. Note that (3.3b) means that {{a, -}} is a double derivation in its second entry (with respect to the outer structure on A  A). Also, (3.3a) and (3.3b) imply that {{ab, c}} = a  {{b, c}} + {{a, c}}  b; in other words, a double bracket is a double derivation in its first entry for the inner bimodule structure on A  A.

To define an analogue of the Jacobi identity in this setting, we require a suitable extension of the double bracket {{-, -}}. Let a  A, b = b1  · · ·  bn  An, then we define

{{a, b}}L := {{a, b1}}  b2  · · ·  bn  A(n+1), {{a, b}}R := b1  · · ·  bn-1  {{a, bn}}  A(n+1).

(3.4)

Definition 3.1 ([31], Definition 2.3.2). A double bracket {{-, -}} on a unital associative k-algebra A is a double Poisson bracket if

0 = {{a, {{b, c}}}}L + (123) {{b, {{c, a}}}}L + (132) {{c, {{a, b}}}}L .

(3.5)

The equation (3.5) is called the double Jacobi identity. In [15, Remark 2.2], De Sole­ Kac­Valeri rewrote (3.5) in a more convenient way by extending the double brackets in the first argument as well. If a  A and b = b  b  A  A; by (2.2),

{{b  b, a}}L := {{b, a}} 1 b = {{b, a}}  b  {{b, a}} , {{b  b, a}}R := b 1 {{b, a}} = {{b, a}}  b  {{b, a}} .

(3.6)

Then by (3.6) and (3.3a), the double Jacobi identity (3.5) can be equivalently written as

{{a, {{b, c}}}}L = {{{{a, b}} , c}}L + {{b, {{a, c}}}}R .

(3.7)

3.3. Pairings. Let A be an associative k-algebra, and E be an A-bimodule. Following [32, §3.1] (see also [22, §A.3]), a map

-, - : E  E - A  A

(3.8)

is called a pairing on E if for all e  E, the maps

e, - : E - (A  A)out -, e : E - (A  A)inn

NONCOMMUTATIVE PVA AND CD ALGEBRAS

9

are A-bimodule morphisms. The pairing is called non-degenerate if E is a finitely generated projective A-bimodule and -, - induces an isomorphism E  E -- recall (2.3). Using Sweedler's notation to omit the summation symbol, we will write
e1, e2 = e1, e2   e1, e2 , with e1, e2 , e1, e2   A.

A pairing is called symmetric if e1, e2 = e2, e1 , for all e1, e2  E or, equivalently,

e1, e2   e1, e2  = e2, e1   e2, e1 .

(3.9)

Finally, similarly to (3.4) and (3.6), we extend the pairing -, - to E AAE using the inner and the outer tensor products for the first and the second entry, respectively. To do that, using (2.2) we define the maps

e1, - L : E  A - A3, e1, - R : A  E - A3, -, e2 L : E  A - A3, -, e2 R : A  E - A3,
Furthermore, we require that

e2  a - e1, e2  a, a  e2 - a  e1, e2 , e1  a - e1, e2 1 a = a  e1 - a 1 e1, e2 =

e1, e2   a  e1, e2   a 

e1, e2 ,
e1, e2 , (3.10)

e1, a  e2 L = e1, e2  a R = a  e1, e2 L = e1  a, e2 R = 0, for all a  A and e1, e2  E.

(3.11)

4. Double Poisson vertex algebras

In [15], De Sole, Kac and Valeri developed a theory of integrable systems on noncommutative associative algebras and, remarkably, they introduced double Poisson vertex algebras, which we present in this section.

A differential algebra [15, §3.1] (V, ) is a pair consisting of an associative algebra V,

and a derivation   Der V. Given a polynomial P () = Vn[1, . . . , n-1], we define

a1



·

·

·



ank11

·

·

·

kn-1 n-1



(ei f ) i P (1, . . . , i, . . . n-1)

=

ki ki

j

i j=0

a1



·

·

·



ai



(j f )ai+1



·

·

·



an

k11

·

·

·

iki-j

·

·

·

kn-1 n-1

.

That is, e replaces  by  + , and the parentheses point out that  is applied to f . Moreover, we have

P (1, . . . , i + , . . . , n-1) n-i f

=

ki

ki j

a1



·

·

·



ai(jf )



·

·

·



an

k11

·

·

·

iki-k

·

·

·

kn-1 n-1

.

i j=0

In other words, the arrow means that  is applied to f .

Definition 4.1 ([15], p. 1058). A double -bracket on a differential algebra (V, ) is a

linear map

{{--}} : V  V - (V  V)[]

(4.1)

10

D. FERNA´ NDEZ AND R. HELUANI

satisfying, for all a, b, c  V, the sesquilinearity conditions: {{ab}} = - {{ab}} , {{ab}} = ( + ) {{ab}} ,
and the Leibniz rules: {{abc}} = b {{ac}} + {{ab}} c, {{abc}} = {{a+c}} 1 b + (ea) 1 {{bc}} .

(4.2a) (4.2b)
(4.3a) (4.3b)

Recall that in (3.6) we introduced suitable extensions of the double bracket {{-, -}} to define the double Jacobi identity (3.7). Similarly, to define a suitable Jacobi identity for double -brackets, we need to extend (4.1) as follows (see [15, eq. (4.3)]). For all a, b, c  V,

{{a(b  c)}}L := {{ab}}  c, {{a(b  c)}}R := b  {{ac}} , {{(a  b)c}}L := {{a+c}} 1 b,
where the notation 1 was introduced in (2.2).

(4.4)

Definition 4.2 ([15], Definition 2.2). A double Poisson vertex algebra (V, {{--}}) is a differential algebra V, with derivation  : V  V, endowed with a double -bracket {{--}} : V  V  (V  V)[], satisfying the following axioms:

(i) Skewsymmetry:

{{ab}} = - {{b--a}} ,

(4.5)

where - -  in the right-hand side is moved to the left, acting on the coefficients.

(ii) Jacobi identity:

{{a {{bµc}}}}L = {{bµ {{ac}}}}R + {{{{ab}} +µc}}L .

(4.6)

It is easy to check that if  = 0, and  = µ = 0, the axioms of double Poisson vertex algebras become the axioms of double Poisson algebras. So, as emphasized in [15], a double Poisson vertex algebra is a cross between a double Poisson algebra and a Poisson vertex algebra. Furthermore, it is straightforward to check that given a double Poisson vertex algebra, the skewsymmetry (4.5) and the left Leibniz rule (4.3a) imply the right Leibniz rule (4.3b) (the authors acknowledge the help of Daniele Valeri on this point); as a consequence, (4.3b) is redundant in Definition 4.2 and thus we shall omit below.
Finally, following [15, p. 1074], given a, b, c  V,we can write the double -bracket as

{{ab}} =

(apb)  (apb) p.

pZ+

(4.7)

Then, we can rewrite the Jacobi identity (4.6) more explicitly in the following way:

0=

(ap(bqc))  (ap(bqc))  (bqc) - (apc)  (bq(apc))  (bq(apc)) pµq

p,qZ+

-

((apb)qc)



(

+

µ

+

)q(apb)



((ap

b) q

c)

p.

p,qZ+

(4.8)

NONCOMMUTATIVE PVA AND CD ALGEBRAS

11

5. Double Courant­Dorfman algebras

Roytenberg [28] introduced an algebraic analogue of Courant algebroids called Courant­ Dorfman algebras. Their relationship to Courant algebroids is analogous to that of Lie­ Rinehart algebras to Lie algebroids: Courant­Dorfman algebras are algebraic generalizations of Courant algebroids. In this section, based on [2] (see also [17]), we define a noncommutative version of Courant­Dorfman algebras called double Courant­Dorfman algebras by adapting Roytenberg's definition to the noncommutative setting introduced in §3. We start by recalling the familiar definition of Courant­Dorfman algebras [28, Definition 2.1]:

Definition 5.1. A Courant­Dorfman algebra consists of the following data:

(1) a commutative k-algebra C, (2) a C-module N, (3) a symmetric bilinear form -, - : N  N  C, (4) a derivation  : C  N, (5) a Dorfman bracket [-, -] : N  N  N.

This data is required to satisfy the following conditions:

[n1, cn2] = c[n1, n2] + n1, c n2, n1,  n2, n3 = [n1, n2], n3 + n2, [n1, n3] ,
 n1, n2 = [n1, n2] + [n2, n1], [n1, [n2, n3]] = [[n1, n2], n3] + [n2, [n1, n3]],
0 = [c, n], 0 = c, d ,

(5.1a) (5.1b) (5.1c) (5.1d) (5.1e) (5.1f )

for all n, n1, n2, n3  N and c, d  C.

As Roytenberg pointed out, a k-module N equipped with a bracket [-, -] satisfying condition (5.1d) above is called a (k-)Leibniz algebra. Moreover, if the pairing -, - is nondegenerate, the action of N on C completely determines the derivation , so (5.1e) and (5.1f) are redundant. In this case, the notion of a Courant­Dorfman algebra coincides with that of a Courant algebroid (see [28] and references therein).
Definition 5.2. Let A be an associative k-algebra and E be an A-bimodule. Let TAE be the tensor algebra of E over A, with E placed in degree 1. We consider a derivation  : A  E and a pairing -, - : E  E  A  A (cf. §3.3). A double Courant­Dorfman bracket on E is a linear map
[[-, -]] : TAE  TAE - TAE  TAE,
of degree -1 with respect to the natural grading of the tensor algebra TAE, such that
[[e, a]] = e, a , [[a, e]] = - a, e , [[a, b]] = 0,
for all e  E and a, b  A.

For later purposes, we need to decompose the double Courant­Dorfman bracket [[-, -]] when restricted to E  E. Given e, f  E,

[[e, f ]] = [[e, f ]]l + [[e, f ]]r  E  A  A  E.

(5.2)

12

D. FERNA´ NDEZ AND R. HELUANI

Using Sweedler's notation, we can write

[[e, f ]]l = [[e, f ]]l  [[e, f ]]l, [[e, f ]]r = [[e, f ]]r  [[e, f ]]r,

(5.3)

with [[e, f ]]l, [[e, f ]]r  E and [[e, f ]]r, [[e, f ]]l  A.
In view of Definitions 5.1 and 5.2, to state the definition of Courant­Dorfman algebras in the noncommutative context, we need a suitable Jacobi identity that will require an extension of the double Courant­Dorfman bracket. Inspired by (3.4), (3.6) and (4.4), for all a  A and e, f  E, we define

[[e, -]]L : E  A - E  A  A  A  E  A, f  a - [[e, f ]]  a,

[[e, -]]L : A  E - A  A  E,

a  f - e, a  f,

[[e, -]]R : E  A - E  A  A,

f  a - f  e, a

[[e, -]]R : A  E - A  E  A  A  A  E, a  f - a  [[e, f ]],

[[-, f ]]L : E  A - E  A  A + c.p,

e  a - [[e, f ]] 1 a + e, f 1 e,

[[-, f ]]L : A  E - A  E  A,

a  e - - a, f 1 e,

(5.4)

where, E  A  A + c.p. is a shorthand for E  A  A  A  E  A  A  A  E, and the

notation 1 was introduced in (2.2).

Definition 5.3. Let A be an associative k-algebra and E be an A-bimodule. A double Courant­Dorfman algebra is a 5-tuple (A, E, -, - , , [[-, -]]), where

-, - : E  E - A  A,

is a symmetric pairing,

 : A - E,

is a derivation, and

[[-, -]] : TAE  TAE - TAE  TAE.

(5.5)

is a double Courant­Dorfman bracket. This data must satisfy the following axioms:

 e, f = [[e, f ]] + [[f, e]]; 0 = [[a, e]]; 0 = a, b ;
[[e, f a]] = [[e, f ]]a + f e, a ; [[e, af ]] = a[[e, f ]] + e, a f ; [[e, [[f, g]]]]L = [[f, [[e, g]]]]R + [[[[e, f ]], g]]L; e,  f, g L = f, [[e, g]] R + [[e, f ]], g L,
for all a, b  A and e, f, g  E.

(5.6a) (5.6b) (5.6c) (5.6d) (5.6e) (5.6f ) (5.6g)

We observe that, in (5.6a) and (5.6g), the derivation  acts on -, - by the Leibniz rule; for all e1, e2  E,

 e1, e2 =  e1, e2   e1, e2  + e1, e2    e1, e2 .

(5.7)

In (5.6g) we use the extensions of -, - introduced in (3.10); thus this identity is in A3. Moreover, in (5.6d) and (5.6e) the products use the outer bimodule structure.

NONCOMMUTATIVE PVA AND CD ALGEBRAS

13

Remark 5.4. In several places of the article, we will need to write (5.6f) as explicit as possible. Since (5.6f) takes place in E  A  A + c.p., we can project onto each summand. Hence, using (5.3), (5.7), (5.4) and (3.11), we have that (5.6f) is equivalent to the following three identities:

[[e, [[f, g]]l]]l  [[f, g]]l = [[e, g]]l  f, [[e, g]]l + [[[[e, f ]]l, g]]l 1 [[e, f ]]l, [[e, [[f, g]]l]]r  [[f, g]]l = [[e, g]]r  [[f, [[e, g]]r]]l + [[e, f ]]l, g 1 [[e, f ]]l
- [[e, f ]]r, g 1 [[e, f ]]r, e, [[f, g]]r  [[f, g]]r = [[e, g]]r  [[f, [[e, g]]r]]r + [[[[e, f ]]l, g]]r 1 [[e, f ]]l,

(5.8a) (5.8b) (5.8c)

where (5.8a) is in E  A  A, (5.8b) in A  E  A, and (5.8c) takes place in A  A  E.

6. The equivalence theorem
In this section we prove the main theorem of this article, which is a non-commutative version of [20, Prop. 4.3] in the case of Courant algebroids:
Theorem 6.1. There exists a one­to­one correspondence between double Poisson vertex algebras (V, , {{--}}) freely generated in weights 0 and 1, and double Courant­Dorfman algebras (E, -, - , , [[-, -]]).
The rest of this section is devoted to prove Theorem 6.1, in Section §6.1 we construct a double Courant­Dorfman algebra associated with a double Poisson vertex algebra. In Section §6.2 we provide the inverse construction.

6.1. From double Poisson vertex algebras to double Courant­Dorfman algebras. In this subsection, we shall show that the structure of a double Poisson vertex algebra -- see Definition 4.2, which is freely generated in weights 0 and 1, induces a structure of a double Courant­Dorfman algebra, as in Definition 5.3 in its degree 0 and 1 parts.
Let (V, , {{--}}) be a double Poisson vertex algebra such that V = k0 Vk whose product has weight 0, the derivation  has weight 1, and the double -bracket has weight -1. More precisely, given v  Vi, w  Vj ,and {{vw}} = qZ+ (vqw)  (vqw) q, we have (vqw)  (vqw)  (V  V)i+j-q-1, for all q. Since the product in V has weight 0, note that if a, b  V0 the product ab  V0. Consequently, A := V0 has the structure of an associative (not necessarily commutative) k-algebra. Next, the multiplication of an element of V0, both on the right and on the left, by an element V1 gives an element of V1. Thus, E := V1 carries an A-bimodule structure.
From now on, we fix e, f, g  E and a, b  A. Observe that since the double -bracket has weight -1, if e, f  E, the bracket restricted to E  E has the following expression:

{{ef }} = [[e, f ]] +  e, f  ((V  V)[])1 = E  A  A  E  (A  A), where

(6.1)

(i) The operations

[[-, -]] : E  E - E  A  A  E, -, - : E  E - A  A

are k-linear maps.

14

D. FERNA´ NDEZ AND R. HELUANI

(ii) We have the derivation

 : A - E

of weight 1 that, by convention, acts on tensor products by the Leibniz rule; see (5.7). (iii) Since |{{--}}| = -1, |e| = 1 and |a| = 0, we have an action

 : E  A - A  A, e  a - e  a = {{ea}} = e, a ;

(6.2)

(iv) By (iii) and (4.5), we get

{{ae}} = - a, e . (v) Finally, since a, b  A, |a| = |b| = 0. Thus,

(6.3)

{{ab}} = 0.

(6.4)

Now, we will use the axioms of double Poisson vertex algebras expressed in Definition 4.2 to deduce the axioms (5.6a)­(5.6g) that characterize double Courant­Dorfman algebras.

To prove (5.6a), by (4.5) we have the identity {{ef }} = - {{f --e}} ,
whose left-hand side, by (6.1), can be rewritten as

(6.5)

{{ef }} = [[e, f ]] +  e, f , and at the right-hand side of (6.5), we obtain
- {{f --e}} = -[[f, e]] +  f, e  +  f, e .

(6.6) (6.7)

The terms with different coefficients of  do not interact each other; thus comparing the coefficients of  appearing in (6.6) and (6.7), we obtain

e, f = f, e .

(6.8)

Moreover, since the derivation  acts on tensor products by the Leibniz rule (see (ii) above),

(6.8) implies

 e, f =  f, e .

(6.9)

Hence, comparing the terms without  in (6.6) and (6.7), we have

[[e, f ]] = -[[f, e]] +  e, f ,

which is tantamount to (5.6a).

Next, the sesquilinearity of the double -bracket (see (4.2a)) and (iv) above, give the

identity

{{ae}} = - {{ae}} =  a, e .

(6.10)

On the other hand, using (6.1), we have

{{ae}} = [[a, e]] +  a, e .

(6.11)

If we compare the terms without  in (6.10) and (6.11), we finally obtain the identity

[[a, e]] = 0,

(6.12)

which is (5.6b).

To prove (5.6c), by (4.2a) and (4.2b)

{{ab}} = - {{ab}} = -( + ) {{ab}} = 0,

(6.13)

NONCOMMUTATIVE PVA AND CD ALGEBRAS

15

where the last identity is a consequence of (v) above. On the other hand, by (6.1),

{{ab}} = [[a, b]] +  a, b . Again, comparing the obtained expressions in (6.13) and (6.14), we obtain

(6.14)

a, b = 0,

(6.15)

which corresponds to (5.6c). To establish the Leibniz identity (5.6d), by (4.3a) and (6.1), we set

{{ef a}} = {{ef }} a + f {{ea}} = [[e, f ]]a + ( e, f a) + f e, a .

Now, by (6.1), we get

{{ef a}} = [[e, f a]] +  e, f a .

(6.16) (6.17)

Identifying the terms without  in (6.16) and (6.17), we finally obtain:

[[e, f a]] = [[e, f ]]a + f e, a ,

(6.18)

which is (5.6d). Using similar arguments, the reader can prove (5.6e).
Interestingly, note that comparing the coefficients of  in (6.16) and (6.17), we get e, f a = e, f a. Similarly, after proving (5.6e), we obtain e, af = a e, f , meaning that -, - is A-bilinear in its second argument with respect to the outer bimodule structure. Moreover, applying (4.5), (4.3a), (6.1) and (6.8),
{{aef }} = - {{f --ae}} = - a {{f --e}} + {{f --a}} e  = -a  [[f, e]] + (a  e, f ) + a  ( e, f ) - a, f  e
= a  [[e, f ]] + (a  e, f ) - a, f  e.

By (6.1), {{aef }} = [[ae, f ]] +  ae, f . Thus, comparing the obtained expressions, we have
ae, f = a  e, f ;
in other words, -, - is A-linear in its first argument with respect to the inner bimodule structure. By similar considerations on {{eaf }}, the identity ea, f = e, f  a holds. These identities together (6.8) imply that -, - is a symmetric pairing on E, as defined in §3.3.
Finally, we want to obtain (5.6f) and (5.6g). Firstly, by (4.6), we have

0 = {{e {{f µg}}}}L - {{f µ {{eg}}}}R - {{{{ef }} +µg}}L ,

(6.19)

and using (6.1), (iii)­(v), (5.3) and (4.4), we will rewrite each term. To start with, we

focus on the first summand of (6.19):

{{e {{f µg}}}}L

= e [[f, g]] + f, g µ L

= {{e[[f, g]]l}}  [[f, g]]l + {{e[[f, g]]r}}  [[f, g]]r + {{e f, g }}  f, g  µ

= [[e, [[f, g]]l]] + e, [[f, g]]l  [[f, g]]l + e, [[f, g]]r [[f, g]]r + ( e,  f, g   f, g )µ

= [[e, [[f, g]]l]]l  [[f, g]]l + [[e, [[f, g]]l]]r  [[f, g]]l + e, [[f, g]]r  [[f, g]]r

+ ( e, [[f, g]]l  [[f, g]]l) + ( e,  f, g   f, g )µ.

(6.20)

16

D. FERNA´ NDEZ AND R. HELUANI

Next, in the second summand of (6.19):

{{f µ {{eg}}}}R =

= f µ [[e, g]] + e, g  R

= [[e, g]]l  {{f µ[[e, g]]l}} + [[e, g]]r  {{f µ[[e, g]]r}} + e, g   {{f µ e, g }} 

= [[e, g]]l  f, [[e, g]]l + [[e, g]]r  [[f, [[e, g]]r]] + f, [[e, g]]r µ + ( e, g  f,  e, g  )

= [[e, g]]l  f, [[e, g]]l + [[e, g]]r  [[f, [[e, g]]r]]l + [[e, g]]r  [[f, [[e, g]]r]]r

+ ( e, g   f,  e, g  ) + ([[e, g]]r  f, [[e, g]]r )µ.

(6.21)

Finally, in the third summand of (6.19), we obtain

{{{{ef }} +µg}}L

= [[e, f ]] + e, f  +µg L = {{[[e, f ]]l+µ+ g}} 1 [[e, f ]]l + {{[[e, f ]]r+µ+ g}} 1 [[e, f ]]r

+ ({{

e, f

 +µ+

g

}}

1

e, f

 

= [[[[e, f ]]l, g]]l  [[e, f ]]l  [[[[e, f ]]l, g]]l + [[[[e, f ]]l, g]]r  [[e, f ]]l  [[[[e, f ]]l, g]]r

+ [[e, f ]]l   ( + µ + )[[e, f ]]l  [[e, f ]]l  - [[e, f ]]r, g   [[e, f ]]r 

- (  e, f , g   e, f    e, f , g ).

[[e, f ]]r, g  (6.22)

Then, collecting the terms obtained in (6.20)­(6.22), from (6.19) we finally obtain:

0 = {{e {{f µg}}}}L - {{f µ {{eg}}}}R - {{{{ef }} +µg}}L = [[e, [[f, g]]l]]l  [[f, g]]l - [[e, g]]l  f, [[e, g]]l - [[[[e, f ]]l, g]]l 1 [[e, f ]]l + [[e, [[f, g]]l]]r  [[f, g]]l - [[e, g]]r  [[f, [[e, g]]r]]l - [[e, f ]]l, g 1 [[e, f ]]l + [[e, f ]]r, g 1 [[e, f ]]r + e, [[f, g]]r  [[f, g]]r - [[e, g]]r  [[f, [[e, g]]r]]r - [[[[e, f ]]l, g]]r 1 [[e, f ]]l

(6.23a) (6.23b) (6.23c)

+ e, [[f, g]]l  [[f, g]]l - e, g   f,  e, g  +  e, f , g 1 e, f  (6.23d)
- [[e, f ]]l, g 1 [[e, f ]]l 

+ e,  f, g   f, g  - [[e, g]]r  f, [[e, g]]r - [[e, f ]]l, g 1 [[e, f ]]l µ. (6.23e)

Hence, (6.23a) agrees with (5.8a), (6.23b) with (5.8b), and (6.23c) is tantamount to (5.8c). Thus, by Remark 5.4, (5.6f) follows. Finally, using  acts on tensor products by the Leibniz rule, as well as (3.10) and (3.11), it is clear that (6.23e) gives (5.6g).
So, to sum up, in this subsection we proved that a double Poisson vertex algebra freely generated in weights 0 and 1 gives rise to a double Courant­Dorfman, as stated in Definition 5.3.
6.2. From double Courant­Dorfman algebras to double Poisson vertex algebras. Given a double Courant­Dorfman algebra (A, E, -, - , , [[-, -]]), as in Definition 5.3, in this subsection we prove that it induces a double Poisson vertex algebra (V, , {{--}}) freely generated in weights 0 and 1. We let V be the free graded associative associative A

NONCOMMUTATIVE PVA AND CD ALGEBRAS

17

algebra with a derivation T of degree 1 generated by E in degree 1. Let V be its quotient by the differential ideal generated by (T - )a for all a  A. This is a graded differential associative algebra, generated by A in degree 0 and E in degree 1. We denote by  the derivation of degree 1 obtained by reduction from T on V. We define an operation

of weight -1, given by

{{--}} : V  V - (V  V)[]

{{ef }} = [[e, f ]] + e, f , {{ea}} = e, a , {{ae}} = - a, e , {{ab}} = 0,

(6.24a) (6.24b) (6.24c) (6.24d)

for all a, b  A and e, f  E and extend this to all of V by the Leibniz property (4.3a). We need to prove that the bracket (6.24) is well defined and is a double -bracket (i.e., {{--}} satisfies the properties of sesquilinearity (4.2a) and (4.2b), as well as the left Leibniz property (4.3a)), further satisfying (4.5) and (4.6). From now on, we fix a, b  A and e, f, g  E.
By (6.24), it is clear that (4.2a) holds on A  A, E  A and A  E. Next, by (6.24a), (5.6b) and (6.24c), we have

{{ae}} = [[a, e]] +  a, e =  a, e = - {{ae}} ,
and (4.2a) follows. Again, by (6.24), it is clear that (4.2b) holds on A  A, E  A and A  E. To prove
that this identity holds on E  E, we have

{{ea}} = [[e, a]] +  e, a =  e, a - [[f, A]] +  e, a = ( + ) {{ea}} ,

where we used (6.24a), (5.6a), (5.6b) and (6.24b).
Next, by (6.24d), the skewsymmetry (4.5) on A  A is trivial. By (6.24c), the symmetry of -, - and (6.24c), we have
- {{a--e}} = a, e  = e, a = {{ea}} . The proof of the identity - {{e--a}} = {{ae}} is completely similar and we leave it to the reader. Next, by (6.9), (6.24d) and (5.6a), we have:
- {{f --e}} = - [[f, e]] - ( + ) f, e  = -[[f, e]] +  e, f +  e, f
= [[e, f ]] +  e, f = {{ef }} ,

where we used (3.9).
The left Leibniz property (4.3a) trivially holds when the three elements are in A. If a, b  A, e  E, by (6.24c) and (6.24d), we get

{{aeb}} - e {{ab}} - {{ae}} b = - a, eb + a, e b = 0.
Similarly, we can prove that {{abe}} - b {{ae}} - {{ab}} e = 0. However, if the element of E is in the first argument, the computation is slightly different:

{{eab}} - a {{eb}} - {{ea}} b = e, (ab) - a e, b - e, a b = 0,

18

D. FERNA´ NDEZ AND R. HELUANI

where we used (6.24c), (5.7) and the A-linearity of the pairing. The most interesting case occurs when only one element belongs to A. By (6.24a), (6.24b) and (5.6d) we can write
{{ef a}} - f {{ea}} - {{ef }} a = [[e, f a]] +  e, f a - f e, a - ([[e, f ]] +  e, f )a = 0
Similarly, based on the same arguments, it is straightforward to see that {{eaf }} - a {{ef }} - {{ea}} f = 0. Consequently, {{--}} as defined in (6.24) satisfies the left Leibniz property (4.3a).

To prove the Jacobi identity (4.6), we shall distinguish different cases, depending on the number of elements in A and E. By (6.24d), (4.6) trivially holds if there are two or three elements belonging to A. If e, f  E and a  A, by (6.24a), (6.24b) and (6.24d), we have

{{e {{f µa}}}}L - {{f µ {{ea}}}}R - {{{{ef }} +µa}}L = {{e f, a }}L - {{f µ e, a }}R - [[e, f ]] + e, f  +µa L . By (4.4) and (6.24), we have

= {{e f, a }}  f, a  - e, a   {{f µ e, a }} - {{[[e, f ]]l+µ+a}} 1 [[e, f ]]l = e,  f, a    e,  f, a    f, a 
- e, a   f,  e, a    f,  e, a   - [[e, f ]]l, a   [[e, f ]]l  [[e, f ]]l, a ,
which, using (5.7), (3.10) and (3.11), can be equivalently written as

= e,  f, a L - f,  e, a R - [[e, f ]], a L.

By (5.6g), (5.6a) and (5.6b), we finally obtain

= e,  f, a L - f,  e, a R + f, [[e, a]] R - e,  f, a L = 0, as we wished. Similarly, the reader can prove that

{{e {{aµf }}}}L - {{aµ {{ef }}}}R - {{{{ea}} +µf }}L = 0.
However, the remaining case is slightly different. So, for the reader's convenience, we show it explicitly. By (6.24) and (5.3), we have

{{a {{eµf }}}}L - {{eµ {{af }}}}R - {{{{ae}} +µf }}L

= a [[e, f ]] + e, f µ L + {{eµ a, f }}R + {{ a, e +µf }}L

= {{a[[e, f ]]l}}  [[e, f ]]l +

a, f

  {{eµ

a, f

}} + {{

a, e

 +µ+

f

}}

1

= - a, [[e, f ]]l   a, [[e, f ]]l   [[e, f ]]l

+ a, f   e,  a, f    e,  a, f  

a, e 

-  a, e , f   a, e    a, e , f 

= - a, [[e, f ]] L + e,  a, f R -  a, e , f L,

(6.25)

where once again we used (5.7), (3.10) and (3.11). Applying Lemma A.1 to the first term, we finally obtain that (6.25) vanishes, as required.

NONCOMMUTATIVE PVA AND CD ALGEBRAS

19

Finally, the most delicate case occurs when e, f, g  E. The idea is to use (6.24) and (4.8) to rewrite each term in (4.6). Its first summand of (4.6) can be written as

{{e {{f µg}}}}L

= e [[f, g]] + f, g µ L

= {{e[[f, g]]l}}  [[f, g]]l + {{e[[f, g]]r}}  [[f, g]]r + {{e f, g }}  f, g  µ

= [[e, [[f, g]]l]] + e, [[f, g]]l  [[f, g]]l + e, [[f, g]]r [[f, g]]r + e,  f, g   f, g  µ

= [[e, [[f, g]]l]]l  [[f, g]]l + [[e, [[f, g]]l]]r  [[f, g]]l + e, [[f, g]]r  [[f, g]]r

( e, [[f, g]]l  [[f, g]]l) + ( e,  f, g   f, g )µ.

(6.26)

Using (6.24) and (4.4), the second summand in (4.6) reads as

{{f µ {{eg}}}}R

= f µ [[e, g]] + e, g  R = [[e, g]]l  {{f µ[[e, g]]l}} + [[e, g]]r  {{f µ[[e, g]]r}} + e, g   {{f µ e, g }} 

= [[e, g]]l  f, [[e, g]]l + [[e, g]]r ([[f, [[e, g]]r]] + f, [[e, g]]r µ) + ( e, g  f,  e, g  )

= [[e, g]]l  f, [[e, g]]l + [[e, g]]r  [[f, [[e, g]]r]]l + [[e, g]]r  [[f, [[e, g]]r]]r

+ ( e, g   f,  e, g  ) + ([[e, g]]r  f, [[e, g]]r )µ.

(6.27)

Finally, we can rewrite the third summand of (6.24):

{{{{ef }} +µg}}L

= [[e, f ]] + e, f  +µg L = {{[[e, f ]]l+µ+ g}} 1 [[e, f ]]l + {{[[e, f ]]r+µ+ g}} 1 [[e, f ]]r

+ ({{ e, f

 +µ+

g}}

1

e, f

)

= [[[[e, f ]]l, g]]l  [[e, f ]]l  [[[[e, f ]]l, g]]l + [[[[e, f ]]l, g]]r  [[e, f ]]l  [[[[e, f ]]l, g]]r

+ [[e, f ]]l, g   ( + µ + )[[e, f ]]l  [[e, f ]]l, g 

- [[e, f ]]r, g [[e, f ]]r  [[e, f ]]r, g  - (  e, f , g  e, f   e, f , g ). (6.28)

So, at this point, collecting the terms obtained in (6.26)­(6.28), we finally obtained: {{e {{f µg}}}}L - {{f µ {{eg}}}}R - {{{{ef }} +µg}}L = A + B + C + D  + E µ,
where A := [[e, [[f, g]]l]]l  [[f, g]]l - [[e, g]]l  f, [[e, g]]l - [[[[e, g]]l, g]]l 1 [[e, f ]]l, B := [[e, [[f, g]]l]]r  [[f, g]]l - [[e, g]]r  [[f, [[e, g]]r]]l - [[e, f ]]l, g 1 [[e, f ]]l - [[e, f ]]r, g 1 [[e, f ]]r, C := e, [[f, g]]r  [[f, g]]r - [[e, g]]r  [[f, [[e, g]]r]]r - [[[[e, f ]]l, g]]r 1 [[e, f ]]l, D := e, [[f, g]]l  [[f, g]]l - e, g   f,  e, g 

20

D. FERNA´ NDEZ AND R. HELUANI

- [[e, f ]]l, g 1 [[e, f ]]l +  e, f , g 1 e, f - [[e, g]], E := e,  f, g   f, g  - [[e, g]]r  f, [[e, g]]r - [[e, f ]]l, g 1 [[e, f ]]l.

Now, by Remark 5.4, it is clear that A + B + C = 0 by (5.6f). Also, since (5.6g) holds,
E = 0. Finally, Lemma A.1 gives the vanishing of D .
To sum up, in this subsection, given a double Courant­Dorman algebra we proved that it gives rise to a double Poisson vertex algebra freely generated in weights 0 and 1 via (6.24). Consequently, Theorem 6.1 follows.

7. The Kontsevich­Rosenberg principle for double Courant­Dorfman algebras

7.1. The Kontsevich­Rosenberg principle for double Poisson (vertex) algebras.

The Kontsevich­Rosenberg principle [23, 24] states that a noncommutative algebro-geometric

structure on A should naturally induce the corresponding algebro-geometric structure on

the representation scheme Rep(A, N ). Here, if d = (d1, . . . , dn)  Nn denotes a dimension

vector, we set N :=

n i=1

di.

Then,

if MN (k) stands for the algebra of N × N -matrices,

we define the functor

RepN (A) : CommAlgk - Sets, B - Hom A, MN (B) .
By classical results of Bergman [8] and Cohn [12], it is well-known that this functor is representable, since we have the adjunction

Hom(AN , B) = Hom A, MN (B) ,

and consequently the representation scheme Rep(A, N ) is Spec(AN ); equivalently, AN := k[Rep(A, N)]. As Van den Bergh [31] pointed out, the algebra AN is isomorphic to the commutative algebra on symbols {aij | a  A, 1  i, j  N } subject to the relations
(a)ij = aij, (a + b)ij = aij + bij, (ab)ij = aitbtj , 1ijauv = juauv, (7.1)

for all a, b  A,   k, i, j, t, u, v  {1, . . . , N}, where from now on we sum over repeated indices. In fact, he proved [31, Proposition 7.5.2] that if (A, {{-, -}}) is a double Poisson algebra (see Definition 3.1), then (AN , {-, -}) is a Poisson algebra, with bracket given by

{aij, buv} = {{a, b}}uj {{a, b}}iv .

(7.2)

This arrangement of indices in (7.2) is called the standard index convention. It will repeatedly appear below.

Given a differential algebra (V, ) (cf. §4), we consider the pair (VN , N ), where VV is as above, and the derivation N is defined by

N (aij) := (a)ij ,

(7.3)

where a  A and i, j  {1, . . . , N}. One of the main results in [15] is the following result that states that double Poisson vertex algebras satisfy the Kontsevich­Rosenberg principle:

Proposition 7.1 ([15], Proposition 3.20 and Theorem 3.22). Let V be a differential algebra endowed with a double -bracket {{--}}, written as {{ab}} = pZ+ (apb)  (apb) p,

NONCOMMUTATIVE PVA AND CD ALGEBRAS

21

for all a, b  V. Then, for every N  1, there exists a well-defined -bracket on VN , given by

{aij bhl} =

(ap b)hj (ap b)il p ,

pZ+

(7.4)

where aij, bhk  VN . In addition, if V is a double Poisson vertex algebra, then VN is a Poisson vertex algebra with -bracket defined by (7.4).

7.2. The Kontsevich­Rosenberg principle for double Courant­Dorfman algebras. Van den Bergh [32] also studied how bimodules and their noncommutative structures are reflected into representation spaces. If E is an A-bimodule, we define EN as the (left) AN -module generated by symbols {eij | 1  i, j  N } that are linear in e  E and satisfy

for i, j, t  {1, . . . , N}.

(ae)ij = aitetj, (ea)ij = atjeit,

(7.5a) (7.5b)

Remark 7.2. Van den Bergh [32, §3.3] formalized the Kontsevich­Rosenberg principle by introducing the additive functor (now called the Van den Bergh functor )

(-)N : Bimod(A) - mod(AN ),

(7.6)

which is right exact and sends finitely generated projective A-bimodules to finitely gen-
erated projective AN -modules -- see also [33, §4.3]. By [32, Lemma 3.3.1], we consider MN (AN ) as an A-bimodule via the k-algebra morphism A  MN (AN ), a  aij. Also, we consider MN (AN ) as an AN -module via the diagonal embedding AN  MN (AN ). Then there exists a natural isomorphism

PN  P Ae MN (AN ).
This functor allows us to prove the key isomorphisms (see [32, Proposition 3.3.4])
(1ncA)N  1AN , (Der A)N  Der AN ,
providing A is smooth (i.e. A is finitely generated as a k-algebra and 1ncA is a projective Ae-module). In this article, it will be more convenient to follow the more explicit approach given by (7.5). Nevertheless, the study of the Van den Bergh functor (7.6) has given rise to insightful developments; for instance, [7] and [33] (see also references therein).

The following result states how pairings (in the sense of §3.3) induce usual bilinear forms on the representation schemes:

Lemma 7.3 ([32], Lemma 3.3.3). If -, - : E  E  A  A is a non-degenerate pairing then the corresponding pairing between EN (obtained by applying the standard index convention)

-, - : EN  EN - AN ,

(eij, fuv) -

e, f

 uj

e, f

 iv

is non-degenerate as well.

At this point, we can can prove that the Kontsevich­Rosenberg principle holds for double Courant­Dorfman algebras:

22

D. FERNA´ NDEZ AND R. HELUANI

Theorem 7.4. Let (A, E, -, - , , [[-, -]]) be a double Courant­Dorfman algebra. For all N  1, we define

N aij := (a)ij,

(7.7a)

eij , fuv

:=

e, f

 uj

e, f

 iv

,

[eij, fuv] := [[e, f ]]l,uj[[e, f ]]l,iv + [[e, f ]]r,uj[[e, f ]]r,iv,

(7.7b) (7.7c)

for all a  A and e, f  E. Then the 5-tuple (AN , EN , -, - , N , [-, -]) is a Courant­ Dorfman algebra in the sense of Definition 5.1.

Proof. It is clear that N , as defined in (7.7a), is a derivation of AN , as well as -, - in (7.7b) is a bilinear form on EN by Lemma 7.3. Now, we extend (7.7c) to a bilinear form [-, -] : EN × EN  EN that satisfies (5.1a). To see that this form is well-defined, we shall verify the compatibility with the defining relations of EN written in (7.5). The linearity of [-, -] follows from the linearity of [[-, -]]. To verify the compatibility with (7.5a), using (5.3), we can decompose (5.6e) as follows:

[[e, af ]]l  [[e, af ]]l = a[[e, f ]]l  [[e, f ]]l  E  A, [[e, af ]]r  [[e, af ]]r = a[[e, f ]]r  [[e, f ]]r + e, a   e, a f  A  E,

(7.8)

Then, by (7.7c) and (7.8) we have

[eij, (af )uv] = [[e, af ]]l,uj[[e, af ]]l,iv + [[e, af ]]r,uj[[e, af ]]r,iv

= (a[[e, f ]]l)uj[[e, f ]]l,iv + (a[[e, f ]]r)uj[[e, f ]]r,iv +

e, a

 uj

(

e, a

f )iv

Now, by (7.5a), (7.1), (7.7a) and (7.3)

= aut [[e, f ]]l,tj[[e, f ]]l,iv + [[e, f ]]r,tj[[e, f ]]r,iv + = aut[eij , ftv] + eij, (a)ut ftv = aut[eij , ftv] + eij, N aut ftv = [eij , autftv],

e, a

 uj

e, a itftv

for all i, j, u, v, t  {1, . . . , N}. Similarly, we can check the compatibility with (7.5b) as follows. By (5.6d), we can write

[[e, f a]]l  [[e, f a]]l = [[e, f ]]l  [[e, f ]]la + f e, a   e, a   E  A, [[e, f a]]r  [[e, f a]]r = [[e, f ]]r  [[e, f ]]ra  A  E.

(7.9)

Hence,

[eij, (f a)uv] = [[e, f a]]l,uj[[e, f a]]l,iv + [[e, f a]]r,uj[[e, f a]]r,iv

= [[e, f ]]l,uj([[e, f ]]la)iv + (f

e, a

)uj

e, a

 iv

+

[[e,

f

]]r,uj ([[e,

f

]]r a)iv

= [[e, f ]]l,ujatv[[e, f ]]l,it +

e, a

 tj

fut

e, a

 iv

+

[[e,

f ]]r,uj atv[[e,

f ]]r,it

= atv [[e, f ]]l,uj[[e, f ]]l,it + [[e, f ]]r,uj[[e, f ]]r,it

+

e, a

 tj

e, a

 iv

fut

= atv[eij , fut] + eij, (f )tv fut

= atv[eij , fut] + eij, N ftv fut = [eij , atvfut],

as we wished. Moreover, from these computations, (5.1a) follows.

To prove (5.1e), by (7.3), (7.7a) and (7.7c), we have

[N aij, euv] = [(a)ij , euv] = [[a, e]]l,uj [[a, e]]l,iv + [[a, e]]r,uj [[a, e]]r,iv = 0,

where the last identity is due to (5.6b).

NONCOMMUTATIVE PVA AND CD ALGEBRAS

23

Similarly, by (7.7a) and (7.7b), we can write

N aij , N buv

=

(a)ij, (b)uv

=

a, b

 uj

a, b

 iv

=

0,

where we used (5.6c) in the last identity.
Now, since  acts on tensor products by the Leibniz identity -- see (5.7), we can decompose (5.6a) as follows

 e, f   e, f  = [[e, f ]]l  [[e, f ]]l + [[f, e]]r  [[f, e]]r  E  A, e, f    e, f  = [[e, f ]]r  [[e, f ]]r + [[f, e]]l  [[f, e]]l  A  E.
So, using (7.7c) and (7.10), we have:

(7.10a) (7.10b)

[eij, fuv] + [fuv, eij]

= [[e, f ]]l,uj[[e, f ]]l,iv + [[e, f ]]r,uj[[e, f ]]r,iv + [[f, e]]l,iv[[f, e]]l,uj + [[f, e]]r,iv[[f, e]]r,uj

= (

e, f

)uj

e, f

 iv

+

e, f

 uj

(

e, f

)iv

= N ( e, f

uj) e, f

 iv

+

e, f

ujN ( e, f

)iv

= N (

e, f

 uj

e, f

 iv

)

=

N

eij, fuv

,

where we used (7.7a) and (7.7b), and thus (5.1c) follows. To prove (5.1b), we will need the following result:

Claim 7.5. Let (A, E, -, - , , [[-, -]]) be a double Courant­Dorfman algebra. Then, for all e, f, g  E, the following identity holds:

f, g   e,  f, g  = f, [[e, g]]l  [[e, g]]l + [[e, f ]]r, g 1 [[e, f ]]r.

(7.11)

Proof. By (5.6g) and (3.9), we have e,  f, g    e,  f, g    f, g  = [[e, f ]]r  [[e, f ]]r, g   [[e, f ]]r, g  + f, [[e, g]]l   [[e, g]]l  f, [[e, g]]l .
Applying the permutation (123), (7.11) follows.

Now, using (7.7) and the AN -bilinearity of -, - , the left-hand side of (5.1b) can be written as

eij, N fuv, gpq

=

eij, N (

f, g

 pv

f, g

uq)

= eij, N ( f, g )pv

f, g

 uq

+

f, g

 pv

eij, (N

f, g

)uq

=

e, 

f, g



 pj

e, 

f, g



 iv

f, g

 uq

+

f, g

 pv

e, 

f, g



 uj

e, 

f, g



 iq

= [[e, g]]r,pj

f, [[e, g]]r

 iv

f, [[e, g]]r

 uq

+

[[e, f ]]l, g

 pj

[[e,

f

]]l,iv

[[e, f ]]l, g

 uq

+

f, [[e, g]]l

 pv

f, [[e, g]]l

 uj

[[e,

g]]l,iq

+

[[e, f ]]r, g

 pv

[[e,

f

]]r,uj

[[e, f ]]r, g iq,

(7.12)

24

D. FERNA´ NDEZ AND R. HELUANI

where the last identity is due to (5.6g) and Claim 7.5. On the other hand, by (7.7), we can rewrite the right-hand side of (5.1b) in the following way:

[eij , fuv], gpq + fuv, [eij, gpq]

= [[e, f ]]l,uj[[e, f ]]l,iv, gpq + [[e, f ]]r,uj[[e, f ]]r,iv, gpq

+ fuv, [[e, g]]l,pj[[e, g]]l,iq + fuv, [[e, g]]r,pj[[e, g]]r,iq

= [[e, f ]]l,uj, gpq [[e, f ]]l,iv + [[e, f ]]r,uj [[e, f ]]r,iv, gpq

+ fuv, [[e, g]]l,pj [[e, g]]l,iq + [[e, g]]r,pj fuv, [[e, g]]r,iq

=

[[e, f ]]l, g

 pj

[[e, f ]]l, g

 uq

[[e,

f ]]l,iv

+

[[e,

f ]]r,uj

[[e, f ]]r, g

 pv

[[e, f ]]r, g

 iq

+

f, [[e, g]]l

 pv

f, [[e, g]]l

 uj

[[e,

g]]l,iq

+

[[e,

g]]r,pj

f, [[e, g]]r

 iv

f, [[e, g]]r

 uq

.

(7.13)

Since we are working in the commutative setting, (7.12) and (7.13) agree, and (5.1b) is satisfied.
Finally, we need to prove that the Jacobi identity (5.1d) holds:

[eij, [fuv, gpq]] = [[eij, fuv], gpq] + [fuv, [eij, gpq]].

(7.14)

Firstly, applying (7.10a) (resp. (7.10b)) in the last summand of (5.8a) (resp. (5.8c)), we obtain the identities
[[e, [[f, g]]l]]l  [[e, [[f, g]]l]]l  [[f, g]]l = [[e, g]]l  f, [[e, g]]l   f, [[e, g]]l  +  [[e, f ]]l, g   [[e, f ]]l  [[e, f ]]l, g  - [[g, [[e, f ]]l]]r  [[e, f ]]l  [[g, [[e, f ]]l]]r, (7.15a)
e, [[f, g]]r   e, [[f, g]]r   [[f, g]]r = [[e, g]]r  [[f, [[e, g]]r]]r  [[f, [[e, g]]r]]r + [[e, f ]]l, g   [[e, f ]]l   [[e, f ]]l, g  - [[g, [[e, f ]]l]]l  [[e, f ]]l  [[g, [[e, f ]]l]]l. (7.15b)

Next, by (7.7) and (5.1a), we rewrite the term in the left-hand side of (7.14) in the following way:

[eij, [fuv, gpq]]

= [eij, [[f, g]]l,pv[[f, g]]l,uq] + [eij, [[f, g]]r,pv[[f, g]]r,uq]

= [[f, g]]l,uq[eij, [[f, g]]l,pv] + eij, N [[f, g]]l,uq [[f, g]]l,pv

+ [[f, g]]r,pv[eij, [[f, g]]r,uq] + eij, N [[f, g]]r,pv [[f, g]]r,uq

= [[f, g]]l,uq[[e, [[f, g]]l]]l,pj[[e, [[f, g]]l]]l,iv + [[f, g]]l,uq[[e, [[f, g]]l]]r,pj[[e, [[f, g]]l]]r,iv

+

e, [[f, g]]l

 uj

e, [[f, g]]l

 iq

[[f

,

g]]l,pv

+

[[f,

g]]r,pv[[e,

[[f,

g]]r]]l,uj [[e,

[[f,

g]]r]]l,iq

+ [[f, g]]r,pv[[e, [[f, g]]r]]r,uj[[e, [[f, g]]r]]r,iq +

e, [[f, g]]r

 pj

e, [[f, g]]r

 iv

[[f

,

g]]r,uq

.

(7.16)

NONCOMMUTATIVE PVA AND CD ALGEBRAS

25

By using (7.15a), (5.8b), (A.5c), (A.5a), (A.5b) and (7.15b), we can rewrite the six terms obtained in (7.16) as

= [[e, g]]l,pj

f, [[e, g]]l

 iv

f, [[e, g]]l

 uq

+



[[e, f ]]l, g

 pj[[e, f ]]l,iv

[[e, f ]]l, g

 uq

- [[g, [[e, f ]]l]]r,pj[[e, f ]]l,iv[[g, [[e, f ]]l]]r,uq

+ [[e, g]]r,pj[[f, [[e, g]]r]]l,iv[[f, [[e, g]]r]]l,uq +

[[e, f ]]l, g

 pj

[[e, f ]]l

iv

[[e, f ]]l, g

 uq

-

g, [[e, f ]]r

 pj

[[e,

f

]]r,iv

g, [[e, f ]]r

 uq

+ [[e, f ]]r,uj

g, [[e, f ]]r

 iq



g, [[e, f ]]r



pv + [[f, [[e, g]]l]]l,uj[[e, g]]l,iq[[f, [[e, g]]l]]l,pv

- [[e, f ]]r,uj[[g, [[e, f ]]r]]r,iq[[g, [[e, f ]]r]]r,pv

+

[[e, f ]]r

uj

g, [[e, f ]]r

 iq

g, [[e, f ]]r

 pv

+

[[f,

[[e,

g ]]l ]]r,uj [[e,

g ]]l,iq [[f ,

[[e,

g ]]l ]]r,pv

(7.17)

- [[e, f ]]l,uj

g, [[e, f ]]l

 iq

g, [[e, f ]]l

 pv

+ [[e, f ]]r,uj 

g, [[e, f ]]r

 iq

g, [[e, f ]]r

 pv

+

f, [[e, g]]r

 uj

[[e,

g

]]r,iq

f, [[e, g]]r

 pv

- [[e, f ]]r,uj[[g, [[e, f ]]r]]l,iq[[g, [[e, f ]]r]]l,pv

+ [[e, g]]r,pj[[f, [[e, g]]r]]r,iv[[f, [[e, g]]r]]r,uq +

[[e, f ]]l, g

 pj

[[e,

f

]]l,iv



[[e, f ]]l, g

 uq

- [[g, [[e, f ]]l]]l,pj[[e, f ]]l,iv[[g, [[e, f ]]l]]l,uq.

Note that in the sixth summand we used (3.9). Next, to deal with the first summand at the right-hand side of (7.14), we use (7.7) to obtain:

[gpq, [eij, fuv]]

= [gpq, [[e, f ]]l,uj[[e, f ]]l,iv] + [gpq, [[e, f ]]r,uj[[e, f ]]r,iv]

= [[e, f ]]l,iv[gpq, [[e, f ]]l,uj] + gpq, N ([[e, f ]]l,iv) [[e, f ]]l,uj

+ [[e, f ]]r,uj[gpq, [[e, f ]]r,iv] + gpq, N ([[e, f ]]r,uj) [[e, f ]]r,iv

= [[e, f ]]l,iv[[g, [[e, f ]]l]]l,uq[[g, [[e, f ]]l]]l,pj + [[e, f ]]l,iv[[g, [[e, f ]]l]]r,uq[[g, [[e, f ]]l]]r,pj

+

g, [[e, f ]]l

 iq

g, [[e, f ]]l

pv[[e, f ]]l,uj + [[e, f ]]r,uj[[g, [[e, f ]]r]]l,iq[[g, [[e, f ]]r]]l,pv

+ [[e, f ]]r,uj[[g, [[e, f ]]r]]r,iq[[g, [[e, f ]]r]]r,pv +

g, [[e, f ]]r

 uq

g, [[e, f ]]r

 pj

[[e,

f

]]r,iv

.

(7.18)

Similarly, using (7.7), the fact that N is a derivation of AN , and (7.3), we have N [eij,fuv], gpq
= N [[e, f ]]l,uj[[e, f ]]l,iv + [[e, f ]]r,uj[[e, f ]]r,iv , gpq = N [[e, f ]]r,uj [[e, f ]]r,iv, gpq + [[e, f ]]l,uj, gpq [[e, f ]]l,iv

= N

[[e, f ]]r,uj

[[e, f ]]r, g

 pv

[[e, f ]]r, g

 iq

+

[[e, f ]]l, g

 pj

[[e, f ]]l, g

 uq

[[e,

f

]]l,iv

= ([[e, f ]]r)uj

g, [[e, f ]]r

 pv

g, [[e, f ]]r

 iq

+

[[e,

f

]]r,uj (

g, [[e, f ]]r

)pv

g, [[e, f ]]r

 iq

+ [[e, f ]]r,uj

g, [[e, f ]]r

 pv

(

g, [[e, f ]]r

)iq + (

[[e, f ]]l, g

)pj

[[e, f ]]l, g

uq[[e, f ]]l,iv

+

[[e, f ]]l, g

 pj

(

[[e, f ]]l, g

)uq[[e, f ]]l,iv +

[[e, f ]]l, g

 pj

[[e, f ]]l, g uq([[e, f ]]l)iv,

(7.19)

where in the first three summands in the last line, we applied the symmetry of -, - .

Therefore, by (5.1a), (7.18) and (7.19), we can rewrite the first summand at the right-hand

26

D. FERNA´ NDEZ AND R. HELUANI

side of (7.14) as

[[eij, fuv], gpq]

= N [eij, fuv], gpq - [gpq, [eij, fuv]]

= ([[e, f ]]r)uj

g, [[e, f ]]r

 pv

g, [[e, f ]]r

 iq

+

[[e,

f

]]r,uj (

g, [[e, f ]]r

)pv

g, [[e, f ]]r

 iq

+ [[e, f ]]r,uj

g, [[e, f ]]r

pv(

g, [[e, f ]]r

)iq + (

[[e, f ]]l, g

)pj

[[e, f ]]l, g

 uq

[[e,

f

]]l,iv

+

[[e, f ]]l, g

 pj

(

[[e, f ]]l, g

)uq[[e, f ]]l,iv +

[[e, f ]]l, g

 pj

[[e, f ]]l, g

uq([[e, f ]]l)iv

- [[e, f ]]l,iv[[g, [[e, f ]]l]]l,uq[[g, [[e, f ]]l]]l,pj - [[e, f ]]l,iv[[g, [[e, f ]]l]]r,uq[[g, [[e, f ]]l]]r,pj

-

g, [[e, f ]]l

 iq

g, [[e, f ]]l

 pv

[[e,

f ]]l,uj

-

[[e,

f

]]r,uj [[g ,

[[e,

f ]]r]]l,iq[[g,

[[e,

f ]]r]]l,pv

- [[e, f ]]r,uj[[g, [[e, f ]]r]]r,iq[[g, [[e, f ]]r]]r,pv -

g, [[e, f ]]r

 uq

g, [[e, f ]]r

 pj

[[e,

f

]]r,iv

.

(7.20)

Finally, interchanging f and g in (7.19) (and consequently the indices u  p and v  q), it is straightforward to check that the second summand at the right-hand side of (7.14) is:

[fuv,[eij, gpq]]

= [[e, g]]l,iq[[f, [[e, g]]l]]l,pv[[f, [[e, g]]l]]l,uj + [[e, g]]l,iq[[f, [[e, g]]l]]r,pv[[f, [[e, g]]l]]r,uj

+

f, [[e, g]]l

 iv

f, [[e, g]]l

uq[[e, g]]l,pj + [[e, g]]r,pj[[f, [[e, g]]r]]l,iv[[f, [[e, g]]r]]l,uq

+ [[e, g]]r,pj[[f, [[e, g]]r]]r,iv[[f, [[e, g]]r]]r,uq +

f, [[e, g]]r

 pv

f, [[e, g]]r

 uj

[[e,

g

]]r,iq

.

(7.21)

Then, by the commutativity of AN , the sum of (7.20) and (7.21) is (7.17). Consequently, the Jacobi identity (5.1d) holds, and Theorem 7.4 follows.

Appendix A. Some useful identities on double Courant­Dorfman algebras
In this appendix we present two some technical results that are needed to prove the main results of this article: Lemma A.1 is used in §6.2, in the proof of Theorem 6.1, and Lemma A.3 is important in the proof of Theorem 7.4.
Lemma A.1. Let (A, E, -, - , , [[-, -]]) be a double Courant­Dorfman algebra. Then the following identity holds:
e, [[f, g]] L - f,  e, g R - [[e, f ]], g L +  e, f , g L = 0,
for all e, f, g  E.

Proof. The key point of the proof is the following Claim A.2. Let e, f, g  E. Then,
e, [[g, f ]] L + f, [[g, e]] R =  e, f , g L.

(A.1)

Proof. By applying the permutation (132) to (5.6g), we obtain g,  e, f    e, f   g,  e, f   = e, [[g, f ]]r   e, [[g, f ]]r   [[g, f ]]r + [[g, e]]l  [[g, e]]l, f   [[g, e]]l, f ,

(A.2)

NONCOMMUTATIVE PVA AND CD ALGEBRAS

27

where we used (5.3), (3.10) and (3.11). On the other hand, by (5.7) and (3.9), we can rewrite the right-hand side of (A.1):

 e, f , g L =  e, f , g 1 e, f  = g,  e, f    e, f   g,  e, f  .

(A.3)

Similarly, the left-hand side of (A.1) reads as:

e, [[g, f ]] L + f, [[g, e]] R = e, [[g, f ]]r  [[g, f ]]r + [[g, e]]l  f, [[g, e]]l = e, [[g, f ]]r   e, [[g, f ]]r   [[g, f ]]r + [[g, e]]l  [[g, e]]l, f   [[g, e]]l, f ,

(A.4)

where we used the symmetry of -, - in the last line. Since (A.3) coincides with the left-hand side of (A.2), and (A.4) coincides with the right-hand side of (A.2), (A.1) holds as desired.

Now, by (5.6g) and (5.6a), we have
0 = e,  f, g L - f, [[e, g]] R - [[e, f ]], g L = e, [[f, g]] L - f,  e, g R - [[e, f ]], g L + e, [[g, f ]] L + f, [[g, e]] R = e, [[f, g]] L - f,  e, g R - [[e, f ]], g L +  e, f , g L,
where in the last line we used Claim A.2.
Lemma A.3. Let (A, E, -, - , , [[-, -]]) be a double Courant­Dorfman algebra. For all e, f, g  E, the following identities hold:
[[e, [[f, g]]r]]l  [[e, [[f, g]]r]]l  [[f, g]]r = [[e, f ]]r  g, [[e, f ]]r   g, [[e, f ]]r  + [[f, [[e, g]]l]]r  [[e, g]]l  [[f, [[e, g]]l]]r - [[e, f ]]l  g, [[e, f ]]l   g, [[e, f ]]l , (A.5a)
[[e, [[f, g]]r]]r  [[e, [[f, g]]r]]r  [[f, g]]r = [[e, f ]]r   g, [[e, f ]]r   g, [[e, f ]]r  + f, [[e, g]]r   [[e, g]]r  f, [[e, g]]r  - [[e, f ]]r  [[g, [[e, f ]]r]]l  [[g, [[e, f ]]r]]l, (A.5b)
e, [[f, g]]l   e, [[f, g]]l   [[f, g]]l = [[e, f ]]r  g, [[e, f ]]r    g, [[e, f ]]r  + [[f, [[e, g]]l]]l  [[e, g]]l  [[f, [[e, g]]l]]l - [[e, f ]]r  [[g, [[e, f ]]r]]r  [[g, [[e, f ]]r]]r. (A.5c)

Proof. By (5.6f) reads as [[e, [[g, f ]]]]L = [[[[e, g]], f ]]L + [[g, [[e, f ]]]]R,

(A.6)

28

D. FERNA´ NDEZ AND R. HELUANI

for all e, f, g  E. Firstly, using (5.3) and (5.4), we need to rewrite each term appearing in (A.6). By (5.6a) and (5.6b), the term at the left-hand side of (A.6) can be written as

[[e, [[g, f ]]]]L = [[e,  g, f ]]L - [[e, [[f, g]]]]L
= [[e,  g, f ]]  g, f  - [[e, [[f, g]]l]]  [[f, g]]l - [[e, [[f, g]]r]]  [[f, g]]r + [[e, g, f ]]   g, f 
=  e,  g, f   g, f  + e,  g, f    g, f  - e, [[f, g]]l  [[f, g]]l - [[e, [[f, g]]r]]  [[f, g]]r
=  e,  g, f    e,  g, f    g, f  - [[e, [[f, g]]r]]l  [[e, [[f, g]]r]]l  [[f, g]]r + e,  g, f     e,  g, f    g, f  - [[e, [[f, g]]r]]r  [[e, [[f, g]]r]]r  [[f, g]]r + e,  g, f    e,  g, f     g, f  - e, [[f, g]]l   e, [[f, g]]l   [[f, g]]l. (A.7)

Next, applying (5.6a) into the first summand at the right-hand side of (A.6), we have

[[[[e, g]], f ]]L
= [[[[e, g]]l, f ]] 1 [[e, g]]l + [[e, g]]l, f 1 [[e, g]]l - [[e, g]]r, f 1 [[e, g]]r =  [[e, g]]l, f - [[f, [[e, g]]l]] 1 [[e, g]]l + [[e, g]]l, f 1 [[e, g]]l
- f, [[e, g]]r  1 [[e, g]]r =  [[e, g]]l, f   [[e, g]]l  [[e, g]]l, f  - [[f, [[e, g]]l]]r  [[e, g]]l  [[f, [[e, g]]l]]r
+ [[e, g]]l, f   [[e, g]]l  [[e, g]]l, f  - f, [[e, g]]r   [[e, g]]r  f, [[e, g]]r + [[e, g]]l, f   [[e, g]]l   [[e, g]]l, f  - [[f, [[e, g]]l]]l  [[e, g]]l  [[f, [[e, g]]l]]l,
(A.8)

where in the second line we used (3.9). Finally, in the last term of (A.6), by (5.3) and (5.4), we obtain

[[g, [[e, f ]]]]R = [[e, f ]]l  [[g, [[e, f ]]l]] + [[e, f ]]r  [[g, , [[e, f ]]r]] = [[e, f ]]l  g, [[e, f ]]l + [[e, f ]]r  [[g, [[e, f ]]r]] = [[e, f ]]l  g, [[e, f ]]l   g, [[e, f ]]l  + [[e, f ]]r  [[g, [[e, f ]]r]]l  [[g, [[e, f ]]r]]l
+ [[e, f ]]r  [[g, [[e, f ]]r]]r  [[g, [[e, f ]]r]]r.

(A.9)

NONCOMMUTATIVE PVA AND CD ALGEBRAS

29

Hence, collecting the terms obtained in (A.7), (A.8), and (A.9) that belong to E AA, A  E  A and A  A  E, we obtain from (A.6) the following three identities:
[[e, [[f, g]]r]]l  [[e, [[f, g]]r]]l  [[f, g]]r =  e,  g, f    e,  g, f    g, f  -  [[e, g]]l, f   [[e, g]]l  [[e, g]]l, f 
+ [[f, [[e, g]]l]]r  [[e, g]]l  [[f, [[e, g]]l]]r - [[e, f ]]l  g, [[e, f ]]l   g, [[e, f ]]l , [[e, [[f, g]]r]]r  [[e, [[f, g]]r]]r  [[f, g]]r = e,  g, f     e,  g, f    g, f  - [[e, g]]l, f   [[e, g]]l  [[e, g]]l, f 
+ f, [[e, g]]r   [[e, g]]r  f, [[e, g]]r  - [[e, f ]]r  [[g, [[e, f ]]r]]l  [[g, [[e, f ]]r]]l, e, [[f, g]]l   e, [[f, g]]l   [[f, g]]l = e,  g, f    e,  g, f     g, f  - [[e, g]]l, f   [[e, g]]l   [[e, g]]l, f 
+ [[f, [[e, g]]l]]l  [[e, g]]l  [[f, [[e, g]]l]]l - [[e, f ]]r  [[g, [[e, f ]]r]]r  [[g, [[e, f ]]r]]r. (A.10)
On the other hand, if we apply the derivation  on (5.6g) and project onto the corresponding spaces, we obtain the following identities:
 e,  g, f    e,  g, f    g, f  = [[e, f ]]r  g, [[e, f ]]r   g, [[e, f ]]r  +  [[e, g]]l, f   [[e, g]]l  [[e, g]]l, f ,
e,  g, f     e,  g, f    g, f  = [[e, f ]]r   g, [[e, f ]]r   g, [[e, f ]]r  + [[e, g]]l, f   [[e, g]]l  [[e, g]]l, f ,
e,  g, f    e,  g, f     g, f  = [[e, f ]]r  g, [[e, f ]]r    g, [[e, f ]]r  + [[e, g]]l, f   [[e, g]]l   [[e, g]]l, f . (A.11)
Finally, plugging (A.11) into (A.10) gives (A.5), as we wished.

References
[1] L. A´ lvarez-Co´nsul, and D. Ferna´ndez, Noncommutative bi-symplectic NQ-algebras of weight 1. In Dynamical Systems, Differential Equations and Applications. AIMS Proceedings, (2015), 19­28.
[2] L. A´ lvarez-Co´nsul, and D. Ferna´ndez, Non-commutative Courant algebroids and quiver algebras. (2017), 50 pp., available at arXiv:1705.04285.
[3] S. Arthamonov, Noncommutative inverse scattering method for the Kontsevich system. Lett. Math. Phys. 105 (2015), no. 9, 1223­1251.
[4] T. Arakawa. A remark on the C2-cofiniteness condition on vertex algebras. Math. Z. 270 (2012), no. 1-2, 559­575.
[5] A. Beilinson, and V. Drinfeld, Chiral algebras, American Mathematical Society Colloquium Publications, 51, American Mathematical Society, Providence, RI, 2004.
[6] A. Beilinson and V. Schechtman, Determinant bundles and Virasoro algebras. Comm. Math. Phys. 118 (1988), 651­701.
[7] Y. Berest, G. Khachatryan, and A. Ramadoss, Derived representation schemes and cyclic homology. Adv. Math. 245 (2013), 625­689.
[8] G. M. Bergman, Coproducts and some universal ring constructions. Trans. Amer. Math. Soc. 200 (1974), 33­88.
[9] P. Bressler. The first Pontryagin class. Compos. Math. 143 (2007), no. 5, 1127­1163. [10] M. Casati, and J. P. Wang, Recursion and Hamiltonian operators for integrable nonabelian difference
equations. Nonlinearity 34 (2021), no. 1, 205­236. [11] O. Chalykh, and M. Fairon, On the Hamiltonian formulation of the trigonometric spin Ruijsenaars-
Schneider system. Lett. Math. Phys. 110 (2020), no. 11, 2893­2940.

30

D. FERNA´ NDEZ AND R. HELUANI

[12] P. M. Cohn, The affine scheme of a general ring. Lecture Notes in Math. 753, Springer, Berlin, 1979, pp. 197­211.
[13] W. Crawley-Boevey, P. Etingof, and V. Ginzburg, Noncommutative geometry and quiver algebras. Adv. Math., 209 (2007), no. 1, 274­336.
[14] J. Cuntz, and D. Quillen, Algebra extensions and nonsingularity. J. Amer. Math. Soc., 8 (1995) no. 2, 251­289.
[15] A. De Sole, V. G. Kac, and D. Valeri, Double Poisson vertex algebras and non-commutative Hamiltonian equations. Adv. Math. 281 (2015), 1025­1099.
[16] J. Ekstrand, and M. Zabzine, Courant-like brackets and loop spaces. J. High Energy Phys., 03, 2011 (074).
[17] D. Ferna´ndez, Non-commutative symplectic NQ-geometry and Courant algebroids. PhD Thesis. Universidad Aut´onoma de Madrid, 2016.
[18] V. Gorbounov, F. Malikov, and V. Schechtman. Gerbes of chiral differential operators. II. Vertex algebroids. Invent. Math. 155 (2004), no. 3, 605­680.
[19] P. Hekmati, and V. Mathai T-duality of current algebras and their quantization. Contemporary Mathematics, American Mathematical Society, 584 (2012), pp. 17­38.
[20] R. Heluani, Supersymmetry of the chiral de Rham complex II: Commuting sectors. Int. Math. Res. Not. 6 (2009), 953­987.
[21] V. G. Kac. Vertex algebras for beginners, University Lecture Series, 10. American Mathematical Society, Providence, RI, 1997. viii+141 pp.
[22] B. Keller, Deformed Calabi-Yau completions. With an appendix by Michel Van den Bergh. J. Reine Angew. Math. 654 (2011), 125­180.
[23] M. Kontsevich, Formal (non)commutative symplectic geometry. In The Gelfand Mathematical Seminars, 1990-1992, pages 173­187. Bikha¨user Boston, Boston, MA, 1993.
[24] M. Kontsevich, and A. Rosenberg, Noncommutative smooth spaces. In The Gelfand Mathematical Seminars, 1996­1999, Gelfand Math. Sem., pages 85­108. Birkh¨auser Boston, Boston, MA, 2000.
[25] H. Li. Abelianizing vertex algebras. Comm. Math. Phys. 259 (2005) 391­411. [26] A. Odesskii, V. Rubtsov, and V. Sokolov, Double Poisson brackets on free associative algebras. Non-
commutative birational geometry, representations and combinatorics, 225­239, Contemp. Math., 592, Amer. Math. Soc., Providence, RI, 2013. [27] D. Roytenberg, On the structure of graded symplectic supermanifolds and Courant algebroids. In Quantization, Poisson brackets and Beyond, Th. Voronov (ed.), Contemp. Math. 315, Amer. Math. Soc., Providence, RI, 2002. [28] D. Roytenberg, Courant­Dorfman algebras and their cohomology. Lett. Math. Phys. 90 (2009), no. 1-3, 311­351. [29] P. Severa, Letters to Alan Weinstein about Courant algebroids. (2017), 29 pp., available at arXiv:1707.00265. [30] A. Vaintrob. Lie algebroids and homological vector fields. Uspekhi Mat. Nauk 52 (1997), no. 2, 428­ 429. [31] M. Van den Bergh, Double Poisson algebras. Trans. Amer. Math. Soc., 360 (2008) no. 11, 555­603. [32] M. Van den Bergh, Non-commutative quasi-Hamiltonian spaces. In Poisson geometry in mathematics and physics. Contemp. Math., vol. 450, Amer. Math. Soc., Providence, RI, pp. 273­299, 2008. [33] W.-K. Yeung, Pre-Calabi-Yau structures and moduli of representations. (2018), 81 pp., available at arXiv:1802.05398.

Faculta¨t fu¨r Mathematik, Universita¨t Bielefeld. Universita¨tstraße 25, 33615, Bielefeld, Germany
Email address: dfernand@math.uni-bielefeld.de

Instituto de Matema´tica Pura e Aplicada (IMPA). Estrada Dona Castorina 110, 22460320, Rio de Janeiro, Brazil
Email address: heluani@potuz.net

