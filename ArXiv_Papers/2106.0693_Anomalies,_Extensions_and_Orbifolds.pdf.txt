Anomalies, Extensions and Orbifolds

Daniel G. Robbins1, Eric Sharpe2, Thomas Vandermeulen1

1 Department of Physics University at Albany Albany, NY 12222

2 Department of Physics MC 0435 850 West Campus Drive Virginia Tech Blacksburg, VA 24061

dgrobbins@albany.edu, ersharpe@vt.edu, tvandermeulen@albany.edu

arXiv:2106.00693v1 [hep-th] 1 Jun 2021

We investigate gauge anomalies in the context of orbifold conformal field theories. Such anomalies manifest as failures of modular invariance in the constituents of the orbifold partition function. We review how this irregularity is classified by cohomology and how extending the orbifold group can remove it. Working with such extensions requires an understanding of the consistent ways in which extending groups can act on the twisted states of the original symmetry, which leads us to a discrete-torsion like choice that exists in orbifolds with trivially-acting subgroups. We review a general method for constructing such extensions and investigate its application to orbifolds. Through numerous explicit examples we test the conjecture that consistent extensions should be equivalent to (in general multiple copies of) orbifolds by non-anomalous subgroups.

June 2021

Contents

1 Introduction

1

2 Group Actions and Extensions

3

2.1 Example: Effective 1  Z2  Z2 × Z2  Z2  1 . . . . . . . . . . . . . 6

2.2 Non-Effective Actions . . . . . . . . . . . . . . . . . . . . . . . . . . . . 8

2.3 Example: Non-Effective 1  Z2  Z4  Z2  1 . . . . . . . . . . . . . 9

2.4 Classification of Quantum Symmetries . . . . . . . . . . . . . . . . . . 11

3 Anomaly Basics

13

4 Tachikawa's Extension

18

4.1 Original construction . . . . . . . . . . . . . . . . . . . . . . . . . . . . 19

4.2 Application to Orbifolds . . . . . . . . . . . . . . . . . . . . . . . . . . 20

4.3 Minimal Extensions . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 23

4.4 Refined construction . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 24

5 Examples

25

5.1 G = Z2 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 25 5.1.1 1  Z2  Z4  Z2  1 . . . . . . . . . . . . . . . . . . . . . . . . 25

5.1.2 1  Z2  Z2 × Z2  Z2  1 . . . . . . . . . . . . . . . . . . . . . 27

5.1.3 1  Z4  Q8  Z2  1 . . . . . . . . . . . . . . . . . . . . . . . 28

5.2 G = Z2 × Z2 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 29

5.2.1 1  Z2  D4  Z2 × Z2  1 . . . . . . . . . . . . . . . . . . . . 30

5.2.2 1  Z2 × Z2  Z4  Z4  Z2 × Z2  1 . . . . . . . . . . . . . . . 32

5.3 G = Z2 × Z4 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 34

5.3.1 1  Z2  Z2 × Z8  Z2 × Z4  1 . . . . . . . . . . . . . . . . . . 35

5.3.2 1  Z4  Z4 × Z8  Z2 × Z4  1 . . . . . . . . . . . . . . . . . . 36

6 Discussion and Conclusions

36

A Non-Effective Extensions to Non-Abelian Groups

37

A.1 The Q8 Orbifold . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 38

A.2 Decomposition . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 40

A.3 Quantum Symmetries . . . . . . . . . . . . . . . . . . . . . . . . . . . . 42

B General Extensions and Quantum Symmetries

43

B.1 A General Finite Extension . . . . . . . . . . . . . . . . . . . . . . . . . 43

B.2 Including Quantum Symmetries . . . . . . . . . . . . . . . . . . . . . . 45

1 Introduction

When calculating the torus partition function of an orbifold CFT, one forms partial

traces which are group-twisted versions of the parent theory partition function.

For g1 and g2 commuting elements of our symmetry group G, these objects can be expressed as1

Zg1,g2(, ¯) = Dg1,g2e-SE[]

(1.1)

where the fields appearing in the path integral are subject to g1 and g2-periodic boundary conditions on the torus' homotopy cycles and SE is the theory's euclideanized action. The partition function of the orbifold theory is formed from

these objects as

1 G

Zg1,g2(, ¯).
g1,g2G

g1g2=g2g1

(1.2)

By considering the action of genus one modular transformations on the boundary

conditions in the path integral, one finds that partial traces (1.1) should transform

into each other as [1]

Zg1,g2

a c

+ +

b d

,

a¯ c¯

+ +

b d

= Z (, g2-cg1a,g2dg1-b ¯).

(1.3)

where

a c

b d

 SL(2; Z).

(1.4)

For readability we will omit one or more arguments from Z going forward. Now, in a given theory there can exist symmetries for which (1.3) will not hold
­ such symmetries are said to have a gauge ('t Hooft) anomaly. For an example we can look to the compact free boson, which has cyclic ZN symmetries given by coordinate shifts, by either the circle coordinate or its dual. For a concrete example, consider a shift of order two. This generates a Z2 symmetry. If this shift is by either the coordinate or its dual, we can construct a well-behaved orbifold. However, if we use the Z2 generated by simultaneous shifts of the coordinate and dual coordinate, the symmetry is anomalous. We would detect this oddity by modular transformations, e.g. for this symmetry we would find

Z1,0( + 2) = -Z1,0( ),

(1.5)

in violation of (1.3). Ultimately this issue would lead to a failure of modular invariance in the orbifold theory. Note, however, that this is a fairly mild violation,
1In practice, a path-integral definition of the partial traces is feasible only for non-anomalous theories of free fields. In section 3 we will sketch a definition of the partial traces using topological defect lines (TDLs) that can be used more generally.

1

and in fact by repeated application of (1.5) we have Z1,0( + 4) = Z1,0( ). So while the action in question is not consistent as an order two symmetry, it may have a consistent interpretation as something of order four.
In pursuit of this idea, we can append a second Z2 element to our indices, enlarging G to a new group  whose elements we will write as (i, j). This allows us to relabel Z1,0( + 2) as its own object: Z(0,1),(1,0)( ). By comparison with (1.3) we can determine the group relations in . For example, we would find that (0, 1)2 = (1, 0), so in fact we see that   Z4. Following this line further, we generate sixteen partial traces for the putative  orbifold, each of which can be identified with one of the original G partial traces (sometimes with an anomalous phase, chosen to be consistent with (1.5)):

Z(0,0),(0,0) = Z0,0, Z(0,0),(0,1) = Z0,1, Z(0,1),(0,0) = Z1,0, Z(0,1),(0,1) = Z1,1, Z(0,0),(1,0) = Z0,0, Z(0,0),(1,1) = Z0,1, Z(0,1),(1,0) = -Z1,0, Z(0,1),(1,1) = -Z1,1, Z(1,0),(0,0) = Z0,0, Z(1,0),(0,1) = -Z0,1, Z(1,1),(0,0) = Z1,0, Z(1,1),(0,1) = -Z1,1, Z(1,0),(1,0) = Z0,0, Z(1,0),(1,1) = -Z0,1, Z(1,1),(1,0) = -Z1,0, Z(1,1),(1,1) = Z1,1.
Now we can form the orbifold by :

(1.6) (1.7) (1.8) (1.9) (1.10) (1.11) (1.12) (1.13) (1.14) (1.15) (1.16) (1.17) (1.18) (1.19) (1.20) (1.21)

1 4

1
Z(i,j),(k,l)( )
i,j,k,l=0

=

Z0,0(

).

(1.22)

We see that the anomalous phases have caused everything besides the parent theory partition function to cancel out! In retrospect, this is exactly what we should have expected. The claim was that we were going to take an order two symmetry whose orbifold was inconsistent and extend it to an order four symmetry with a consistent orbifold. But clearly we're not inventing any new symmetries for the theory here,

2

only using what's already available (after all, the  partial traces were simply G partial traces decorated with some phases). So the only consistent symmetry available to us is the trivial one, and the only consistent orbifold we could have found was the trivial one (i.e. the parent theory).
This example demonstrates the notion of using group extensions to `cure' orbifolds by anomalous actions. Of course we would like to apply this idea more generally ­ given an anomalous group G, can we always construct an extension  of G, the orbifold by which is consistent? If so, what form does the  orbifold take, and what choices are required to define it? The purpose of this paper is to motivate conjectural answers to these questions through explicit constructions and examples. We begin in section 2 with a systematic investigation of how the action of the extending group K can be modified in the G-twisted sectors. When K acts trivially on the parent theory this leads us to a discrete torsion-like choice special to orbifolds with non-effective subgroups. Section 3 returns to the subject of anomalies, employing the technology of topological defect lines (TDLs) to derive some basic relations satisfied by anomalous partial traces. In particular we will recover the well-known fact that for a theory with a symmetry given by a group G, the possible anomalies in that symmetry are classified by the cohomology group H3(G, U(1)) ­ for a physical picture of this, see e.g. section 2 of [2]. In section 4 we present a group extension due to Tachikawa [3] which by construction trivializes any anomaly. We examine this construction in the context of orbifold theories and present a method for refining it. With all of this technology established, in section 5 we tackle a number of examples of anomalous theories and demonstrate extensions that resolve them. For each we give an explicit computation of the resulting partition function and show that it is well-behaved. Section 6 provides discussion and interpretation of our results, along with a presentation of questions that remain open about resolving anomalous orbifolds in CFT.
Because the extending group acts trivially on the parent theory (though in general non-trivially on the G-twisted states), this story naturally requires an understanding of decomposition, which is the study of non-effective group actions in field theories [4][5][6][7]. Due to this similarity, we are preparing companion papers [8][9] to this one which explore similar material from the more mathematical viewpoint of decomposition.

2 Group Actions and Extensions

Assume we have a CFT (to which we will refer as the parent theory) with a

symmetry given by a finite group G, and we extend G by a finite abelian group K

to some  as in

1  K    G  1.

(2.1)

3

For simplicity at the moment we will assume that K is central in . Additionally, we assume that the symmetries discussed in this section are non-anomalous ­ we will return to the topic of anomalies in the following section.
In order to construct the orbifold by  we must know how the symmetry K acts on the parent theory, and there are two cases we would like to distinguish here: K may be a genuine symmetry or it may have trivial action on the parent theory. Either way we have some action of K in mind. In the context of forming an orbifold by , however, the action of K on the parent theory does not tell us everything ­ there are in general multiple consistent ways in which K could act on the G-twisted states (even if its action on the parent theory is trivial).
Specifically, since as a set  can be written as K × G, we will write a generic element of  as (k, g) (or sometimes  for brevity). The partial traces of the  orbifold are then Z(k1,g1),(k2,g2) (assuming the two elements of  commute). We have in the back of our mind a picture where such a partial trace can be expressed as a sum over states in the (k1, g1)-twisted Hilbert space H(k1,g1) with a representation (k1,g1)(k2, g2) of the element (k2, g2) inserted acting on those states.
Heuristically, what should the building blocks of such a representation  be? We have elements of the form (0,g1)(0, g2) which should describe how insertions of G act on the G-twisted states. This is fine ­ we began by examining the G orbifold before extending to , so we should know how G acts on its own twisted states.2 Similarly for (k1,1)(k2, 1), since we know how K acts on the parent theory we could consider the K orbifold on its own and learn how K acts on its own twisted states.
When we consider (0,g1)(k2, 1), however, there is room for ambiguity. The easiest possibility is to let K act on the G-twisted states just as on the rest of the parent theory. We will take this as the baseline definition for (0,g1)(k2, 1) which corresponds to the partial trace

Z(0,g1),(k2,1)

(2.2)

However, nothing is preventing us from modifying the action of K on these states. We expect that any correction factor B  C should be a homomorphism in the chosen element k2 (e.g. if k2 received a certain correction, k22 should receive the square of that correction) and depend on the G projection g1 of the twisted sector in which it acts (as we have the requirement that the modification is trivial for g1 = 1). So (2.2) can plausibly be modified to

B(k2, g1)Z(0,g1),(k2,1).

(2.3)

2This is more imprecise than it might seem at first glance, as the (g  G)-twisted states are not in general the same as the ((0, g)  )-twisted states. But again, this argument is purely motivational and should be accepted as a rough sketch.

4

So far we have stipulated that B(k, 1) = B(0, g) = 1: the former because the action

of K on the parent theory receives no modifications, the latter from the fact that

B is a homomorphism in its K argument (and quite reasonably ­ we do not wish

to modify the K action when no elements of K are acting). Of course, (2.2) is not

the most general partial trace. By modular invariance we should expect a general

modification of the form

B B

(k2 (k1

, ,

g1 g2

) )

Z(k1

,g1),(k2

,g2

)

.

(2.4)

Will any B of this form lead to consistent results? We should worry that B could violate modular invariance on the torus. Recall that the partial traces of an orbifold form orbits under SL(2; Z), which are the sums of all partial traces which can be related by modular transformations. Most often it will be sufficient and more convenient to work at the level of orbits (versus individual partial traces) when manipulating partition functions, so we will introduce notation to facilitate this. We denote the orbit of the partial trace Zg,h by Zg,h. The simplest example of this is a Z2 orbifold, in which the partition function is the sum of four partial traces which form two orbits:

ZZ2

orbifold

=

1 2

[Z0,0

+ Z0,1

+

Z1,0

+ Z1,1]

=

1 2

[Z0,0

+

Z0,1].

(2.5)

The orbit with three members could be written as Z0,1, Z1,0 or Z1,1 ­ any member suffices to represent the orbit.
By construction each orbit is a modular invariant quantity (the action (1.3) of the modular group is simply to permute the orbit's members), and the partition function, by virtue of being a linear combination of orbits, is itself modular invariant. Therefore the only way to guarantee modular invariance in general is to demand that B assign the same phase to an entire modular orbit. This potentially changes which linear combination of orbits forms our partition function, but does not change the fact that it is a linear combination of modular invariants. Note that with this requirement, the phase of any orbit which includes untwisted sector partial traces (i.e. partial traces of the form Z1,g) must be trivial by the normalization conditions we've laid out for B. This means that only modular orbits which are disconnected from the untwisted sector could receive such modification.
Still, we are well aware that we cannot simply take arbitrary linear combinations of modular invariant quantities and expect that the result has a consistent interpretation as the partition function of a CFT. Luckily, the conditions we've laid out so far will constrain the coefficients that can possibly appear, and will in fact fix these phases to values which give consistent CFTs. Below we apply this setup to a specific example.

5

2.1 Example: Effective 1  Z2  Z2 × Z2  Z2  1
We begin with a Z2 symmetry and extend it by another Z2 to form a Z2 × Z2 symmetry. The question is ­ can we modify the action of the extending Z2 in the manner described above? We could guess at B that satisfy the conditions laid out so far (and in fact from the requirement that B is a homomorphism in K we would immediately arrive at the only non-trivial possbility), but instead we'll use our criteria to derive the answer systematically.
Writing Z2 ×Z2 as {1, a, b, c}, its orbifold partition function contains five orbits:

Z1,1 = Z1,1, Z1,a = Z1,a + Za,1 + Za,a, Z1,b = Z1,b + Zb,1 + Zb,b, Z1,c = Z1,c + Zc,1 + Zc,c, Za,b = Za,b + Za,c + Zb,a + Zb,c + Zc,a + Zc,b.

(2.6) (2.7) (2.8) (2.9) (2.10)

As previously mentioned, our normalization conditions on B along with the re-

quirement (from modular invariance) that we assign consistent phases within or-

bits implies that orbits that include an untwisted sector partial trace receive no

modification. In fact this is a general feature in orbifold theories, which we can

see from expanding partial traces in a q-series which is interpreted as a sum over

states where the exponents are the weights of the states and the coefficients are

their multiplicities. In the orbifold theory the vacuum state should be the unique

weight zero state and should therefore appear with multiplicity one. The only q

expansions with zeroth order terms will be those in the untwisted sector, and in a

G orbifold there are G such partial traces. Since the orbifold partition function

(1.2) has a normalization factor of G -1, all of the untwisted sector partial traces

must enter the partition function with unit phase to preserve the vacuum's unit co-

efficient. Modular invariance then fixes the phases of the rest of the partial traces

in their orbits. The upshot of this line of reasoning is that only orbits that are

disconnected from the untwisted sector have the potential to receive modifications.

In the case of Z2 ×Z2 above, only Za,b is disconnected from the untwisted sector, so in principle it can experience a modified action from the extending Z2 and enter the partition function with arbitrary coefficient. The full partition function is

therefore

1 4

[Z1,1

+

Z1,a

+

Z1,b

+

Z1,c

+

Za,b]

(2.11)

where we have yet to fix . Using additive notation for the elements of K and

G, the only potentially non-trivial value of B is B(1, 1). Using (2.4), if the orbit

Za,b were to receive a modification, it would become (here we'll assume that c

6

generates K):

B(1, 1)Za,b + B(1, 1)Za,c + B-1(1, 1)Zb,a + B(1, 1)Zb,c + B-1(1, 1)Zc,a + B-1(1, 1)Zc,b, (2.12)

from which we see that modular invariance requires B(1, 1) = B-1(1, 1), so  = ±1. We can double check this result by putting the theory on a higher genus surface.
In particular a surface of genus two has four homotopy cycles, so the analog of a partial trace (1.1) can have four separate periodicity conditions and is therefore indexed by four group elements. At genus two, a Z2 × Z2 orbifold has six Sp(4; Z) orbits, which enter the partition function as

1 16

[Z1,1,1,1

+

Z1,1,1,a

+

Z1,1,1,b

+

Z1,1,1,c

+

Z1,1,a,b

+

 Z1,a,1,b].

(2.13)

Again, the last of these orbits is disconnected from the untwisted sector and can in principle enter with arbitrary coefficient, but the coefficients of the rest are fixed by modular transformations. Our genus two surface has the ability to degenerate to two connected tori. Under such a degeneration, the period matrix (and therefore partition function) can be expanded as a series. The leading term in this expansion of the genus two partition function should be the genus one partition function on each torus. Specifically, a genus two  partial trace has a leading term given by

Z  Z Z . (k1,g1),(k1 ,g1 ),(k2,g2),(k2 ,g2 )

(k1,g1),(k2,g2) (k1 ,g1 ),(k2 ,g2 )

(2.14)

Applying this degeneration to the Z2 × Z2 genus two orbits gives (we will use a convention where the ordering of the genus one partial traces determines which torus they're on)

Z1,1,1,1 Z1,1Z1,1, Z1,1,1,a Z1,1Z1,a + Z1,aZ1,1 + Z1,aZ1,a, Z1,1,1,b Z1,1Z1,b + Z1,bZ1,1 + Z1,bZ1,b, Z1,1,1,a Z1,1Z1,c + Z1,cZ1,1 + Z1,cZ1,c, Z1,1,a,b Z1,aZ1,b + Z1,bZ1,a + Z1,bZ1,c
+Z1,cZ1,b + Z1,cZ1,a + Z1,aZ1,c +Za,bZa,b, Z1,a,1,b Z1,1Za,b + Za,bZ1,1 + Z1,aZa,b +Za,bZ1,a + Z1,bZa,b + Za,bZ1,b +Z1,cZa,b + Za,bZ1,c.

(2.15) (2.16) (2.17) (2.18) (2.19)
(2.20)

Applying these relations to (2.13), we ought to find the square of the genus one partition function. From the degeneration we find Za,bZa,b with coefficient 1,

7

whereas in the square it would appear with coefficient 2. From this we learn that 2 = 1, and then can further fix  = .
Thus, both genus one modular invariance and demanding a consistent decomposition from genus two fix the Z2 × Z2 torus partition function as

1 4

[Z1,1

+

Z1,a



+

Z1,b



+

Z1,c

±

Za,b].

(2.21)

The choice of plus or minus for the disconnected orbit is the discrete torsion in the Z2 × Z2 orbifold, classified by H2(Z2 × Z2, U (1))  Z2 [10]. Here we have come by it as a choice for how the extending Z2 acts on the twisted states of the original Z2 (note that not all discrete torsion is of this form).
Let us briefly consider what would happen if we took the extension class to be non-trivial, such that the full group were Z4 instead of Z2 × Z2. We could run through the same procedure, but we would be finished almost immediately ­ a Z4 orbifold has no disconnected orbits, so from the outset there is no possibility of non-trivial phases ­ the relative phases of all of the partial traces are fixed by modular transformations. This is corroborated by the fact that H2(Z4, U(1)) is trivial, meaning this orbifold carries no choice of discrete torsion. In the following sections we investigate a twist on this case which will prove more interesting.

2.2 Non-Effective Actions

Now we consider the special case where the extending group K has trivial action on the parent theory. Here we will find that some of our assumptions about modular invariance can be loosened, and this will lead to phase choices which were not possible for generic K. Specifically, because K acts trivially on the parent theory, all of the  partial traces must simply be their corresponding G partial traces, up to the action of K from (2.4):

Z(k1 ,g1 ),(k2 ,g2 )

=

B B

(k2 (k1

, ,

g1 g2

) )

Zg1,g2

.

(2.22)

This process of reducing  partial traces to G partial traces (and their associated orbifold(s) as a whole) is known as decomposition [4].
Again we must demand modular invariance, but some additional structure has appeared. To see this, consider the  modular orbit Z(k1,g1),(k2,g2). We can use (2.22) to write any partial trace in this orbit as a G partial trace, possibly with a phase. Making modular transformations on both sides of the equation, one can see that each  orbit Z(k1,g1),(k2,g2) must consist of an integral number of copies of the associated G orbit Zg1,g2.
When K acted effectively, the only way to guarantee that modular invariance of the  orbits held was to demand that we assign a single phase to an entire 

8

orbit. Now, because each  orbit decomposes to a linear combination of G orbits (in the form of an integer multiple of one orbit), we are free to allow for differing phases between the various copies of the G orbit. To see that this new choice actually arises in practice, we move to an example.

2.3 Example: Non-Effective 1  Z2  Z4  Z2  1

Again we tackle the extension of Z2 to Z4, which was briefly mentioned above. When the extending Z2 acted effectively, there were no choices to make and the entire orbifold partition function followed from genus one modular transformations.
To begin, we write out the three Z4 modular orbits:

Z0,0 = Z0,0, Z0,1 = Z0,1 + Z0,3 + Z1,0 + Z1,1 + Z1,2 + Z1,3 + Z2,1 + Z2,3
+ Z3,0 + Z3,1 + Z3,2 + Z3,3,
Z0,2 = Z0,2 + Z2,0 + Z2,2.

(2.23) (2.24)
(2.25)

To identify the Z4 partial traces with the original Z2 partial traces, we would identify the element 2  Z4 as trivially-acting, which in this case means taking the partial trace indices mod 2. We do this, keeping in mind to use (2.22) to add in phases. The Z0,2 orbit is indexed entirely by elements of K, so can have no non-trivial phases ­ it decomposes to three copies of the parent theory partition function.3 The orbit Z0,1, on the other hand, has the potential to receive nontrivial phases. Its members decompose to Z2 partial traces as

Z0,1  Z0,1, Z0,3  Z0,1, Z1,0  Z1,0, Z1,1  Z1,1, Z1,2  B-1(1, 1)Z1,0, Z1,3  B-1(1, 1)Z1,1, Z2,1  B(1, 1)Z0,1, Z2,3  B(1, 1)Z0,1, Z3,0  Z1,0, Z3,1  B(1, 1)Z1,1, Z3,2  B-1(1, 1)Z1,0, Z3,3  B(1, 1)B-1(1, 1)Z1,1 = Z1,1.

(2.26) (2.27) (2.28) (2.29) (2.30) (2.31) (2.32) (2.33) (2.34) (2.35) (2.36) (2.37)

3More generally, anything that decomposes to the parent theory partition function has g1 = g2 = 1 and by the normalization conditions on B can receive no phases.

9

We see that in order to maintain modular invariance we must have B-1(1, 1) = B(1, 1). The Z4 modular orbits then decompose as

Z0,0  Z0,0, Z0,1  Z0,1, Z0,2  3Z0,0,

(2.38) (2.39) (2.40)

where we will call  = 2(1 + B(1, 1)) a coefficient of decomposition. Since we have learned that B(1, 1) = ±1, we know that  can be 0 or 4.
Since this result is a little unusual (we don't often see choices that aren't discrete torsion in orbifolds), we once again look to genus two for confirmation. Now we have two tools with which we can operate on the genus two partition function ­ we could degenerate its partial traces to genus one partial traces, as we did before, or we could use decomposition to turn the genus two Z4 partial traces into genus two Z2 partial traces. If we apply both operations, we will end up with a product of linear combinations of Z2 partial traces, one on each post-degeneration torus. It would be odd if applying these operations in different orders led to different results ­ whichever route we take, we should find a unique genus one partition function. For consistency, we will demand that the operations of degeneration and decomposition commute.4
In the present example, the genus two Z4 partition function takes the form (in terms of its Sp(4; Z) orbits)

1 16

[Z0,0,0,0

+

Z0,0,0,1

+

Z0,0,0,2].

Under degeneration these orbits behave as

(2.41)

Z0,0,0,0 Z0,0Z0,0, Z0,0,0,1 Z0,0Z0,1 + Z0,1Z0,0 + Z0,1Z0,1
+Z0,1Z0,2 + Z0,2Z0,1, Z0,0,0,2 Z0,0Z0,2 + Z0,2Z0,0 + Z0,2Z0,2,
and under decomposition5

(2.42) (2.43) (2.44) (2.45)

Z0,0,0,0 Z0,0,0,0, Z0,0,0,1 4Z0,0,0,1, Z0,0,0,2 15Z0,0,0,0.

(2.46) (2.47) (2.48)

4When K acts trivially and the extended group  is non-abelian, subtleties appear in the degeneration process due to the presence of multiple weight-zero operators. We give an example of such an extension and discuss this phenomenon further in appendix A.
5(2.14) and (2.22) imply that the genus two phases from B are simply the product of the corresponding genus one phases, which is how we've calculated the coefficients of decomposition at genus two.

10

If we first decompose and then degenerate, (2.41) becomes

1 16

[16Z0,0Z0,0

+

4(Z0,1

Z0,0

+

Z0,0Z0,1

+

Z0,1Z0,1)].

If instead we perform degeneration then decomposition, we find

(2.49)

1 16

[16Z0,0Z0,0

+

4(Z0,0Z0,1



+

Z0,1Z0,0

)

+

2Z0,1Z0,1].

(2.50)

In order for these to be equal, we see that we must have 2 = 4, so  can be 0 or 4, matching the calculation from the torus.

To summarize, we began with a Z2 symmetry. We extended it to Z4 by another

Z2 symmetry which acts trivially on the parent theory. We have found that there

exist two choices for the Z4 orbifold, depending on how the extending Z2 acts in

the twisted sector of the original. The resulting Z4 partition function takes the

form

1 4

[4Z0,0

+

Z0,1]

(2.51)

where  can be 4 or 0, for a respective trivial or non-trivial action on the twisted

states. This choice, which in some ways resembles a choice of discrete torsion, only

exists when the extending group acts trivially. When  = 0 and B(1, 1) = -1, this exactly matches our result from section 1 ­ we find that the Z4 orbifold simply returns the parent theory. In our heuristic attempt to `cure' the Z2 orbifold of its anomaly, we were led to a non-trivial modification of K's action on G's twisted

sectors.

2.4 Classification of Quantum Symmetries
Since we will be discussing it regularly, we ought to give this choice of K's action on the G-twisted states a name ­ we call it the quantum symmetry6 of the orbifold. We would like to have some way to classify the distinct choices of quantum symmetry, as H2(G, U(1)) does for discrete torsion. In order to obtain such a description, we start with the case where K is central in  ­ partial results on the general case where K is not assumed to be central or abelian are discussed in appendix B.
The setup for this section is that we have an extension 1  K    G  1 with K finite abelian and central in . The extension class is c(g1, g2)  H2(G, K), which we take to be normalized (c(1, g) = c(g, 1) = 0  K). We write elements of  as elements (k, g) of K × G, and the group operation is given by

(k1, g1)(k2, g2) = (k1 + k2 + c(g1, g2), g1g2).
6This has no relation to the concept of a quantum group.

(2.52)

11

As argued earlier in the section, in order to guarantee general modular invari-

ance, B should assign the same phase to each partial trace in a given  orbit.

Consider the partial trace Z . (k1,g1),(k2,g2) The possible modifications to the action of K are given by (2.4):

B B

(k2, (k1,

g1 g2

) )

Z(k1,g1),(k2

,g2)

(2.53)

where, as before, B is a homomorphism in its K argument and is normalized such that B(0, g) = B(k, 1) = 1. Consider the modular transformation

Z(k1,g1),(k2,g2)( - 1) = Z(k1,g1),(k1,g1)(k2,g2)( ) = Z(k1,g1),(k1+k2+c(g1,g2),g1g2)( ). (2.54) Performing this transformation on (2.53) yields

B B

(k2 (k1

, ,

g1) g2)

Z(k1

,g1),(k1

+k2+c(g1

,g2

),g1g2

).

(2.55)

If, however, we first made the modular transformation, and then used (2.53) to assign phases, we would find

B(k1

+ k2 + c(g1, g2), B(k1, g1g2)

g1)

Z . (k1,g1),(k1+k2+c(g1,g2),g1g2)

(2.56)

The phases we assign should be unambiguous, so these two operations should commute. Therefore we require that

B(k2, B(k1,

g1) g2)

=

B(k1

+ k2 + c(g1, g2), g1) . B(k1, g1g2)

(2.57)

Now we need to keep in mind that the partial trace we began with, Z , (k1,g1),(k2,g2) is only defined when the two elements of  that index it commute. Specifically, this means that the group elements appearing in (2.57) must satisfy

c(g1, g2) = c(g2, g1) and g1g2 = g2g1.

(2.58)

Rearranging (2.57) (using the fact that B is a homomorphism in K), we get

B(k1, g1g2) = B(k1, g1)B(k1, g2)B(c(g1, g2), g1)

(2.59)

Focusing for the moment on split extensions (i.e. ones in which the extension class is trivial), we see that modular invariance requires B to be a homomorphism in G:

B(k, g1g2) = B(k, g1)B(k, g2)

(2.60)

This means that distinct choices of B live in Hom(G, K^ ), where K^ = Hom(K, U(1)) is the Pontryagin dual of K.

12

When the extension is not split, however, a quantum symmetry given by an element of Hom(G, K^ ) now has a potential obstruction to modular invariance given by B(c(g1, g2), g1). We have seen above, in the examples where  was Z2 × Z2 and Z4, that some quantum symmetries are equivalent to turning on discrete torsion in  while some are not. We can check when this will happen by asking when the insertion from our quantum symmetry defines a two-cocycle on . We define

(1, 2) = ((k1, g1), (k2, g2)) = B(k2, g1).

(2.61)

Then,

d(1, 2, 3)

=

(2, 3)(1, 23) (1, 2)(12, 3)

=

B(c(g2, g3),

g1).

(2.62)

So the obstruction to the quantum symmetry matching a choice of discrete torsion is B(c(g2, g3), g1); we see from (2.59) that an insertion of B  Hom(G, K^ ) where this obstruction vanishes is compatible with modular invariance in .
The case of most interest to us is the one in which K acts trivially on the parent theory. Because we now have the option of only requiring modular invariance of the G orbits post-decomposition (as opposed to the full  orbits), the corresponding modular invariance equations involve constrained sums over elements of k and solving for a general form of B becomes more difficult. At this point we will switch to conjecture and guess, based on the conditions derived above, that distinct quantum symmetries are classified by H1(G, K^ ) (more generally H1(G, H1(K, U(1))) for K non-abelian). In support of this claim, in section 5 we will check that the choices of quantum symmetry in the examples we examine are consistent with H1(G, K^ ). The most straightforward way to extend the analysis of this section would be to allow K not to be central in , which means we would have a nontrivial action of G on K. Appendix B contains the beginnings of such a treatment and, while the results there are not sufficient to cover the most general cases, they are satisfactory for all of the non-central examples we present in section 5.

3 Anomaly Basics
To see the effect of anomalies on the transformations of partial traces, we represent them in terms of topological defect lines (TDLs). To each line we associate a group element and an orientation specified by an arrow. Two lines representing the elements g1 and g2 can be joined at a junction to form a line representing g1g2, as in figure 1.
Anomalies appear in this picture when we consider the intersection of four lines associated to g1g2g3g4 = 1. There are two ways we could resolve this interaction

13

g1 g1g2

g2 Figure 1: A three-way junction.

through trivalent junctions, pictured in figure 27. They turn out to be related by a 3-cocycle (g1, g2, g3) [11].

g1

g4

g1

g4

g1g2

=

g2g3

× (g1, g2, g3)

g2

g3

g2

g3

Figure 2: 4-way junctions can be resolved in two distinct but related ways.

Using this relation, we evaluate the modular T transformation of a partial trace Zg,h, the process of which is shown in figure 3. To begin, in 3a we represent the partial trace Zg,h( + 1) in terms of TDLs by drawing the group-valued periodicity conditions on the torus' fundamental domain. This representation is just a choice of convention and it won't necessarily have all of the nice properties of partial traces in the absence of an anomaly. In particular, its modular transformation is nontrivial and so the modular orbits used to build the orbifold partition functions will need to have extra -dependent phases. For example, to understand the modular T transformation we re-orient the picture to our new fundamental domain
7We also should specify an ordering for each trivalent junction that appears. The convention that we follow is that outgoing lines are ordered clockwise, and in each case the final line in the order is marked with a red x.

14

indicated by the dashed lines, landing in 3b. Finally, we use the swap move, picking up a phase (g-1, gh-1, g) and arriving at the picture corresponding to Zg,g-1h( ) in figure 3c. Iterating this process, we find

n
Zg,h( + n) = Zg,g-nh( ) (g-1, gih-1, g) i=1

(3.1)

In some cases we will assume that the relative phases acquired between different partial traces in these transformations can be absorbed into the definition of the partial trace relative to the TDL picture. However, we cannot make such accomodations when n = ord(g). In that case (3.1) becomes

ord(g)

Zg,h( + ord(g)) = Zg,h( )

(g-1, gi-1h-1, g)

i=1

(3.2)

and we have a statement purely regarding the modular transformation properties of Zg,h( ). The phase acquired in this way is meaningful in that it cannot be removed via local redefinitions of the traces i.e. it is global. In fact, we can check that it is something that depends only on the cohomology class of  and not on any specific choice of representative. If we were to shift  by an exact quantity d, we would have

(g-1

,

gi-1h-1,

g)





(g-1,

gi-1h-1,

g

)

(gi-1h-1, g)(g-1 (gi-2h-1, g)(g-1,

, gih-1) gi-1h-1)

.

(3.3)

Under this transformation, the phase in (3.2) becomes

ord(g) i=1

(g-1,

gi-1h-1,

g)

ord(g) j=1

(gj-1h-1, g)(g-1, gjh-1) (gj-2h-1, g)(g-1, gj-1h-1)

.

(3.4)

Because the product runs over all powers of g, the ratio of the various  will be trivial, and as promised our phase depends only on the cohomology class of   H3(G, U(1)). This demonstrates that, at least as far as the modular transformations of partial traces are concerned, distinct anomalies are classified by cohomology.
To simplify matters further, one can show that the anomalous phase arising in (3.2) is independent of h. To do this, we examine two specific values of d:

d(g-1, gi-1, h-1, g)

=

(g-1,

gi-1, h-1)(g-1, gi-1h-1, g)(gi-1, h-1, g) (gi-2, h-1, g)(g-1, gi-1, h-1g)

(3.5)

and

d(g-1, gi-1,

g, h)

=

(g

-1, gi-1, g)(g-1, gi, h)(gi-1, (gi-2, g, h)(g-1, gi-1, gh)

g

,

h)

.

(3.6)

15



 +1

g

h

g-1h

h



g

g-1h

h

g

g-1h

(a)

g-1h

g

g-2h

g-1h

g

g

× (g-1, gh-1, g)

(b)

(c)

Figure 3: We evaluate the modular T transformation of an anomalous partial trace.

16

Noting that many terms will cancel telescopically, we can simplify the product of their ratio to

ord(g) i=2

d(g-1, gi-1, h-1, g) d(g-1, gi-1, g, h-1)

=

ord(g) i=1

(g-1, gi-1h-1, g) (g-1, gi-1, g) .

(3.7)

Because  is a cocycle, the lhs is equal to one and we see that

ord(g)

ord(g)

(g-1, gi-1h-1, g) =

(g-1, gi-1, g).

i=1

i=1

(3.8)

This version of the result appears in [12]. Having examined modular T transformations, we should not neglect the S
transformations. We can access the phases acquired under S transformations by similar TDL calculations. As with T transformations, these phases can be absorbed into the definition of the partial traces relative to the TDL picture until we find a relation of a partial trace to itself, which happens after four successive S transformations. There is the potential for a global anomaly here, but one can check that the phase acquired under S4 is identically trivial. So in working with anomalous partial traces, we can focus solely on the anomalies that arise in the T transformations of the untwisted sector partial traces.
We now also understand how to determine the anomaly in the extended symmetry . Specifically, if we begin with a symmetry G and an   H3(G, U(1)) describing its anomaly, the anomaly in  will be given by the pullback  (specifically its cohomology class in H3(, U(1))) where  is the homomorphism   G appearing in the extension.
For an explicit example, we look at cyclic ZN symmetries. In [13] it was argued that a ZN symmetry with an order k anomaly can be extended to a non-anomalous ZkN symmetry. We demonstrate that fact here from the perspective of cohomology. The relevant anomalies are classified by H3(ZN , U(1))  ZN ­ we can write the generators of each class as

m(a, b, c) = exp [2ima(b + c - b + c) N 2]

(3.9)

where m  {0, , N -1} determines the class in H3(ZN , U(1)) and a, b, c are integers which label the elements of ZN ; z  z mod N maps integers into the range {0, , N - 1}. Let k = N gcd(N, m) (so k is the order of the element m  ZN ). There is a natural projection  from ZkN to ZN which is reduction modulo N , and m(a, b, c) will be given by the expression (3.9), now taking a, b, c  {0, , kN -1}.
We can construct an explicit trivialization of m in H3(ZkN , U(1)). Define a two-form which takes elements of ZkN = {0, , kN - 1} as arguments:

(a, b) = exp [-2ima b N 2].

(3.10)

17

We can calculate d from d(a, b, c) = (b, c)-1(a + b, c)(a, b + c)-1(a, b), which yields

d(a, b, c) = exp [2ima(b + c - b + c)] N 2] = m(a, b, c).

(3.11)

So m indeed pulls back to something trivial in cohomology. As a result, the extended ZkN symmetry has vanishing anomaly.
Finally, we mention that there can exist subgroups of G which display no anomaly, even if G is anomalous. We call such subgroups non-anomalous. Let H be a subgroup of G with   H  G inclusion and   H3(G, U(1)) giving the anomaly in G. If the pullback  is in the trivial class of H3(H, U(1)), the subgroup H is non-anomalous. With this definition, it is clear from (3.2) that none of the partial traces indexed purely by elements of H experience anomalous modular transformations. Note that there always exists at least one non-anomalous subgroup: the trivial one. Non-anomalous subgroups will be important going forward, as they describe the consistent symmetries of our theory.
In fact, we can now properly state what we mean by resolving or trivializing an anomaly in an orbifold. We begin with a symmetry G having anomaly   H3(G, U(1)). We extend G to a larger group  by 1  K    G  1 where K acts trivially on the parent theory. We form the orbifold by  (making any relevant choices, such as discrete torsion and quantum symmetry) and apply decomposition to send all the  orbits to G orbits. The general form of the result will be a direct sum of orbifolds by subgroups of G. If all subgroups appearing in this decomposition are non-anomalous, the result is consistent and we say that the extension to  has resolved the anomaly in the G orbifold.

4 Tachikawa's Extension
In this section we will examine a group extension which for any symmetry G and anomaly  will guarantee that  pulls back to the trivial class in H3(, U(1)). (A proof that such an extension always exists originates from the condensed matter literature in [14].) After presenting the construction we note that it naturally produces an element of H1(G, K^ ) which leads to a natural choice of quantum symmetry. When we examine specific examples of orbifolds by this extended group, we will see that they are in general larger than necessary, i.e. we end up with multiple redundant copies of the cured theory. We present a method for reducing the result to something minimal, which will be used in subsequent examples.

18

4.1 Original construction

Let G be a finite group, with   H3(G, U(1)) its (potential) anomaly. In [3],

Tachikawa gives an explicit construction, which we now review, of a finite group

extension

1  A i   G  1,

(4.1)

such that  is exact, i.e. there exists   C2(, U(1)) such that d = .

Define A as a free Z-module generated by elements xg1,g2 for g1, g2  G, with the additional restriction that x1,g = xg,1 = 0 for all G (where 1 is the identity element in G). We would like xg,h, taken as an element of C2(G, A), to serve as our extension class ­ this requires it to be closed. The closure condition it must

satisfy is

0 = g1  xg2,g3 + xg1,g2g3 - xg1,g2 - xg1g2,g3 .

(4.2)

We can guarantee this equation holds if we use it to define an action of G on A as

g1  xg2,g3 = xg1g2,g3 - xg1,g2g3 + xg1,g2 ,

(4.3)

making A a left G-module. Explicitly, we define  as the set A × G = {(m, g) m  A, g  G}, and we specify
the group multiplication in  as

(m, g)(n, h) = (m + g  n + xg,h, gh). This is associative because of the way we defined the group action,

(4.4)

((m, g)(n, h))(p, k) = (m + g  n + xg,h, gh)(p, k) = (m + g  n + xg,h + gh  p + xgh,k, ghk), (4.5)

(m, g)((n, h)(p, k)) = (m, g)(n + h  p + xh,k, hk) = (m + g  n + gh  p + g  xh,k + xg,hk, ghk), (4.6)
and these are equal using the definition (4.3) of g  xh,k. The map     G is projection, ((m, g)) = g, and the map i  A   is inclusion, i(m) = (m, 1).
In order to show that the pullback of  is trivial, we define

(b(g))(xh,k) = (g, h, k).

(4.7)

We can extend this by linearity so that for each g  G, b(g) is a homomorphism from A to U(1). These maps additionally satisfy a sort of crossed homomorphism

19

condition8

(b(gh))(m) = (b(h))(m)(b(g))(h  m).

To see that this is true, note that

(4.9)

(b(g))(h  xk,) (b(h))(xk,) (b(gh))(xk,)

=

(b(g))(xhk,

- xh,k + xh,k) (b(gh))(xk,)

(b(h))(xk,)

=

(g, hk, )(g, h, k)-1(g, h, k) (gh, k, )

(h, k, )

=

d(g, h, k, )

=

1,

(4.10)

since  is closed.

Finally, in order to check that the G anomaly has been trivialized, we define

  C2(, U(1)) by

((m, g), (n, h)) = (b(g))(n).

(4.11)

By explicit computation we have

d((m, g), (n, h), (p, k))

=

((n, h), (p, k))((m, g), (n + h  p + xh,k, hk)) ((m + g  n + xg,h, gh), (p, k))((m, g), (n, h))

=

(b(h))(p) (b(g))(n + h  p + xh,k) (b(gh))(p) (b(g))(n)

=

(b(h))(p) (b(g))(h  p) (b(gh))(p)

(b(g))(xh,k)

= (g, h, k) = ((m, g), (n, h), (p, k)). (4.12)

So we find that the pullback of  is exact and therefore trivial in cohomology. As promised, the extended group  has vanishing anomaly. This leads us to ask what form the orbifold by this  takes.

4.2 Application to Orbifolds

As discussed in section 2, in forming the orbifold by  there may be multiple

consistent choices of quantum symmetry, the action of A on the G-twisted states. We argued that such actions should be classified by H1(G, A^). In running through

this construction we have in fact come across such a cocycle ­ the quantity b

defined in (4.7). From (2.22), then, we should relate the  partial traces to G

partial traces by

Z(a1 ,g1 ),(a2 ,g2 )

=

(b(g1 (b(g2

))(a2 ))(a1

) )

Zg1,g2

.

(4.13)

8A bit more precisely, if we define (^b(g))(m) = (b(g))(g-1  m), then ^b(g) is a crossed homomorphism in the usual sense,

(^b(gh))(m) = (^b(h))(g-1  m)(^b(g))(m) = (g  ^b(h))(m)(^b(g))(m).

(4.8)

This means that ^b is coclosed as an element of C1(G, Hom(A, U(1))). However, we will continue to use the closely related function b in this section, partly to match the convention in [3].

20

Using the definition of b, we can rewrite the above in terms of . Writing

a1 =

n(g1,h) xg,h ,

g,hG {1}

a2 =

n(g2,h)xg,h,

g,hG {1}

(4.14)

as general elements of the Z-module A, we have

Z = (a1,g1),(a2,g2)

(g1, h1, k1)n(h11),k1 -1(g2, h2, k )2 n(h22),k2 Zg1,g2 .

h1,h2

k1,k2

G {1}

(4.15)

The full  orbifold partition function is then

G

1 Z ( G -1)2

g1,g2G

h1,h2

(g1, h1, k1)n(h11),k1 (g2, h2, k2)n(h22),k2 Zg1,g2 ,

n(1),n(2) k1,k2

G {1}

(4.16)

where here n(1) and n(2) in the sum are each the collection of ( G - 1)2 exponents to the  in the product, and each individually runs over all integers. We can rearrange this expression to cast the group extension as a modification of the original G orbifold:

1 G

g1,g2G Zg1,g2 

1 Z ( G -1)2

n(1) ,n(2)

h1,h2 k1,k2 G {1}

(g1,

h1,

k )1 n(h11),k1

(g2,

h2,

k )2 n(h22),k2



.

(4.17)

Let's see what this becomes for specific examples.

First we have the case that the theory is not actually anomalous, in which all

of the  are trivial. The products are then all trivial and performing both n sums

gives us the partition function (for simplicity in this toy example we assume  is

abelian):

Z ( G -1)2

G

Zg1,g2 ,
g1,g2G

(4.18)

an infinite direct product of G orbifolds. Now we look at the simplest anomalous symmetry, a Z2 with non-zero anomaly.
The products in (4.17) have only a single term, so we can express the full partition function as

1 Zg1,g2
2 g1,g2Z2

1 Z


(g1, 1, 1)n1 (g2, 1, 1)n2
n1 ,n2 =-

.

(4.19)

21

As a reminder we have (0, 1, 1) = 1 and (1, 1, 1) = -1. The four terms in the g1, g2 summand are then

Z0,0

1 Z


=
n1,n2=-

Z Z0,0

Z0,1

1 Z


(-1)n1
n1,n2=-

=0

Z1,0

1 Z


(-1)n2
n1,n2=-

=0

Z1,1

1 Z


(-1)n1 +n2
n1,n2=-

=0

(4.20) (4.21) (4.22) (4.23)

so the total orbifold partition function, cured of its anomaly, is

Z 2 Z0,0.

(4.24)

As (4.18) and (4.24) show, an orbifold by  defined in this way is massively overcounted and contains far more copies of the theory than are necessary to cure the anomaly. Fortunately, Tachikawa gives a prescription for reducing A to a finite group [3]; we will sketch its application in the context of orbifolds. To begin with, define the quantity  as the smallest positive integer for which (g1, g2, g3) = 1 for all g1, g2, g3  G. Looking at the quantity in brackets in (4.17), it should be clear that the various n will be -periodic. So we can safely take each n to range from 0 to  - 1. For compactness of notation, let's define a new quantity

g1,g2() =

1 ( G -1)2

n(1) ,n(2)

mod



h1,h2

(g1, h1, k1)n(h11),k1 (g2, h2, k )2 n(h22),k2 .

k1,k2

G {1}

(4.25)

For finite ,  will be finite. Now we can express the G orbifold partition function, corrected for anomalies, as

1 G

Zg1,g2 g1,g2 ().
g1,g2

(4.26)

With

this

refinement,

we

should

now

have

A



Z( 

G

-1)2

.

Let's re-examine the

examples from earlier with this new, finite version of A.

When our theory is non-anomalous, we can take  to be trivial.9 Then  = 1

(in this case we take A to be the trivial group) and g1,g2() = 1 across the board, so (4.26) simply becomes the usual orbifold partition function.

9Of course trivial anomaly does not imply that  is trivial, only that it's in the trivial class in H3(G, U (1)). The case of a non-trivial  giving a trivial anomaly falls under the following
section's discussion of representative-dependence.

22

For the anomalous Z2 theory, we will have  = 2 which gives A  Z2. We find 0,0 = 2 while 0,1 = 1,0 = 1,1 = 0. The full partition function (4.26) then becomes a single copy of the parent theory partition function Z0,0, which agrees with the calculation in section 1.

4.3 Minimal Extensions

In both of the examples we've examined, the result of Tachikawa's construction with finite A is that we have a single copy of the anomaly-resolved partition function. We refer to any extension  the orbifold by which produces a single copy of a CFT (versus a direct sum) as minimal, as this is in some sense the smallest extension we could hope for that resolves the anomaly in that way.10
Will reducing A to a finite group always yield a minimal extension? For a counterexample, let's examine a Z3 symmetry. We'll write the 3-cocycles as

(1, 1, 1) = , (2, 1, 1) = ,

(1, 1, 2) = -1, (2, 1, 2) = 2,

(1, 2, 1) = -1, (2, 2, 1) = -12,

(1, 2, 2) = -1, (2, 2, 2) = -12.

(4.27)

where 3 = 1 determines the cohomology class and  =  = 1 parameterize the freedom to shift by coboundaries. We'll start by picking  =  = 1, while  = exp (2i 3) or exp (4i 3) (both non-trivial choices of anomaly will yield the same results). Then we find 0,0 = 34 and all other  vanish. As expected we recover the parent theory partition function (Z3 can have no non-anomalous subgroups besides the identity), but with a coefficient of 33. Recall that this method gave an extending group A  Z( G -1)2, which in this case is Z43. However, from the ZN example presented in section 3, one can construct a trivializing extension with A = Z3,  = Z9 (which is in fact minimal). So our extending group was too large by a factor of Z33, explaining the 33 overcounting. Therefore the procedure that we have outlined to generate a finite extension will not always produce a minimal one.
What if we don't make the `obvious' choice of  =  = 1? A simple example of this will be to leave  = 1 but pick  = -1. Now we will be forced to take  = 6 since  includes an order two component. Indeed, if we were to try to leave  as 3, we would find that the anomalous partial traces no longer drop out of the partition function. Properly setting  to 6 and calculating the various , we once again find that only 0,0 is non-vanishing, this time having a value of 64. So the
10To give a clarifying example, consider an anomalous Z4 symmetry whose Z2 subgroup is nonanomalous. We could produce extensions 1  Z4  Z16  Z4  1 and 1  Z2  Z8  Z4  1 whose orbifolds yield one copy of the parent theory and one copy of the orbifold by the nonanomalous Z2 subgroup, respectively. While one of these extensions produces a smaller extended group, by our definition they are both minimal since they both lead to a single copy of a CFT.

23

resulting partition function will be 2433Z0,0. By picking a cocycle representative that increased our value of , we were forced into adding more copies of the theory, and we found ourselves even farther from a minimal extension.
The most extreme example of this would be if we were to take  and/or  to have infinite multiplicative order, i.e. the corresponding angles were irrational multiples of 2. Then we can no longer find any finite value for  and we are forced to use the full expression (4.17) to build the orbifold. This makes sense when we think in terms of a group action. While choosing a different representative for 's cohomology class doesn't change the anomaly in question, it does change the phases (4.13) coming from the quantum symmetry. Having A act by irrational phases means that in order to build a sum where all of the anomalous elements cancel out, we are forced into taking an infinite number of copies of our theory. This representative-dependence is endemic to the construction and will be important to keep in mind going forward.

4.4 Refined construction

Here we present a method for reducing A further. In many cases, when  is a suitably chosen representative (the caveats of the previous section still apply here), this construction will yield a minimal extension.
Define a submodule A¯  A (we can begin from either the finite or original infinite version of A here) by

A¯ = {m  A (b(g))(m) = 1, g  G} ,

(4.28)

where b was defined in (4.7). This is a submodule by the linearity of b and by the fact that for v  A¯ and any g, h  G, we have, using (4.9),

(b(g))(h  v) = (b(gh))(v) (b(h))(v)-1 = 1,

(4.29)

so h  v  A¯. Now define the quotient space C = A A¯, the equivalence classes [m] of A under
the relation m  n iff m - n  A¯. Then we define  as the set C × G with group

multiplication

([m], g)([n], h) = ([m + g  n + xg,h], gh),

(4.30)

which is well-defined since it doesn't depend on the representatives m and n, only on their equivalence classes [m] and [n]. Associativity follows from associativity in . Again the map     G is just projection.
Then we can define   C2(, U(1)) by

(([m], g), ([n], h)) = (b(g))(n).

(4.31)

24

This is well-defined because of the definition of A¯, which ensures that if we replace n by a different representative n + v, v  A¯, the right hand side remains invariant. The calculation showing that d =  proceeds exactly as before, ensuring that we can continue not to worry about anomalies in .

5 Examples
We now construct, for various choices of symmetry G and anomaly   H3(G, U(1)), trivializing extensions of G. For most examples our method of choice will be the refinement of Tachikawa's procedure laid out above in section 4.4. In each case we show how the anomaly would affect the G-orbifold's torus partition function, explicitly construct the orbifold partition function of the extended group , and show how that theory can be expressed in terms of an orbifold (or direct sum of orbifolds) by non-anomalous subgroup(s) of G.

5.1 G = Z2
To begin, we return to the example with which we began the paper, the simple case of an anomalous Z2 symmetry. In section 1 we treated this example in a rather ad hoc fashion; here we will be able to check that the methods we have laid out so far reproduce those results. It is easy to see that, assuming as always that we are using normalized cocycles, the only element of H3(Z2, U(1)) that can be nontrivial is (1, 1, 1) (in additive notation). The choice, then, of (1, 1, 1) = ±1 will characterize non-anomalous vs. anomalous Z2 symmetries. In the following subsections we not only rederive Z4 as a minimal trivializing extension, but showcase additional, qualitatively different trivializing extensions.

5.1.1 1  Z2  Z4  Z2  1
Let's apply the methods of sections 4.1 and 4.4 to find a trivializing extension. In this case A = {nx1,1 n  Z}. Taking the non-trivial choice of , the cocycle b is given by (4.7) as

(b(0))(nx1,1) = 1, (b(1))(nx1,1) = (-1)n.

(5.1)

It's then easy to see that A¯ = {2nx1,1 n  Z} and C = {[0], [x1,1]}  Z2. Under this identification, b has a single non-trivial value:

(b(1))([x1,1]) = -1.

(5.2)

This will correspond to choosing the non-trivial element in H1(Z2, Z^2)  Z2.

25

The larger group  has four elements, and one readily sees that   Z4, since

([0], 1)2 = ([x1,1], 0), ([0], 1)3 = ([x1,1], 1), ([0], 1)4 = ([0], 0).

(5.3)

Thus the anomaly is trivialized by the extension 1  Z2  Z4  Z2  1, matching

our previous result.

To reproduce (1.6)-(1.21), we use (4.13) to relate the Z4 partial traces to those

of the original Z2 orbifold. As in section 2 we will use Zg,h to denote the sum of all partial traces in the modular orbit of Zg,h. For a Z2 orbifold we have two orbits:

Z0,0 = Z0,0 and Z0,1 = Z0,1 + Z1,0 + Z1,1.

(5.4)

A Z4 orbifold consists of three orbits:

Z0,0 = Z0,0, Z0,1 = Z0,1 + Z0,3 + Z1,0 + Z1,1 + Z1,2 + Z1,3 + Z2,1 + Z2,3
+ Z3,0 + Z3,1 + Z3,2 + Z3,3, Z0,2 = Z0,2 + Z2,0 + Z2,2.
To express elements of  in additive notation, we would identify

(5.5) (5.6)
(5.7)

0 = ([0], 0), 1 = ([0], 1), 2 = ([x1,1], 0), 3 = ([x1,1], 1).

(5.8)

We can now use (4.13) to assign phases from the quantum symmetry. We'll look at the partial trace Z3,2 for an example of this:

Z3,2

=

Z([x1,1 ],1),([x1,1 ],0)

=

(b(1))([x1,1 (b(0))([x1,1

]) ])

Z1,0

=

-Z1,0.

(5.9)

Following this procedure for each partial trace, we find that the Z4 orbits relate to the Z2 orbits by

Z0,0  Z0,0, Z0,1  0, Z0,2  3Z0,0.

(5.10) (5.11) (5.12)

So

in

total

the

Z4

orbifold

reduces

to

1 4

[Z0,0

+

3Z0,0]

=

Z0,0,

the

parent

theory

partition function, as expected. Reobtaining this by now familiar result is a good

sanity check that the procedures outlined in section 4 are consistent.

26

5.1.2 1  Z2  Z2 × Z2  Z2  1

Our next example demonstrates that we can cure the anomalous Z2 with an anomalous extension: 1  Z2  Z2 ×Z2  Z2  1. The representative  of the non-trivial class in H3(Z2, U (1)) will pull back to a non-trivial class in H3(Z2 × Z2, U (1)), which in the notation of section 5.2 we can take to be (a, b, c) = (1, -1, -1). Since the pullback of  does not trivialize, the Z2 × Z2 is anomalous. Regardless, we will follow through computing its orbifold. Writing the extended group as {1, a, b, c}  Z2 × Z2 and the original group as {1, g}  Z2, the Z2 × Z2 orbifold is

1 4

[Z1,1

+

Z1,a



+

Z1,b



+

Z1,c

±

Za,b].

(5.13)

Letting a generate K, in terms of  K equivalence classes the elements of G are 1 = {1, a}, g = {b, c}. Under decomposition, the Z2 × Z2 partition function becomes

1 2

[2Z1,1

+

(1

±

1)Z1,g

].

(5.14)

For the trivial choice of discrete torsion, we find two copies of the anomalous Z2 orbifold. However, when we take the discrete torsion to be non-trivial, the anomalous orbit drops out of the partition function and we have a single copy of the parent theory, exactly as in the 1  Z2  Z4  Z2  1 trivializing extension. We can verify that the anomaly in Z2×Z2 does not disrupt this conclusion. Writing the Z2 × Z2 orbifold partition function with non-trivial discrete torsion (which can be regarded as a formal construction as this Z2 × Z2 is anomalous) in terms of its partial traces, we have

1 4

[Z1,1

+

Z1,a

+

Za,1

+

Za,a

+

Z1,b

+

Zb,1

+

Zb,b

+

Z1,c

+

Zc,1

+

Zc,c

- Za,b - Zb,a - Zb,c - Zc,b - Za,c - Zc,a].

(5.15)

Under the modular transformation    + 2, this partition function becomes

1 4

[Z1,1

+

Z1,a

+

Za,1

+

Za,a

+

Z1,b

-

Zb,1

-

Zb,b

+

Z1,c

-

Zc,1

-

Zc,c

- Za,b + Zb,a + Zb,c + Zc,b - Za,c + Zc,a].

(5.16)

which, despite its lack of modular invariance, still reduces to Z1,1 when expressed in terms of Z2 partial traces.
So it would seem that the extension to Z2 × Z2 with non-trivial discrete torsion is a minimal trivializing extension11, despite its apparent lack of modular invariance. This example serves to illustrate two points. First, it shows that minimal

11Recall in section 2 we derived the discrete torsion in the Z2 × Z2 orbifold as a choice of the extending group's action. So turning on the Z2 discrete torsion in this orbifold is in fact equivalent to choosing the non-trivial quantum symmetry in H1(Z2, Z^2)  Z2.

27

extensions are not unique (we didn't have any particular reason to think that they should be, but this is the first counterexample). Second, it demonstrates that the pullback of  trivializing is not a necessary condition for ending up with a non-anomalous orbifold.

5.1.3 1  Z4  Q8  Z2  1
Next we present an example of a non-central, non-split trivializing extension. We extend our anomalous Z2 symmetry by Z4 to the group of quaternions, Q8. Writing the elements of Q8 as the set Z4 × Z2, we have the group multiplication

(s, p)(q, r) = (s + p  q + 2pr, p + r)

(5.17)

where the non-trivial element of Z2 acts on Z4 as 0  0, 1  3, 2  2 and 3  1. H2(Q8, U(1)) is trivial, so Q8 orbifolds do not feature a choice of discrete
torsion. However, with the above action of Z2 on Z4, we find that H1(Z2, Z^4)  Z2, so we will be able to make a non-trivial choice of quantum symmetry. Writing the quaternion group in the more traditional fashion i, j, k i2 = j2 = k2 = ijk = -1, its modular orbits are

Z1,1 = Z1,1, Z1,i = Z1,i + Z1,-i + Zi,1 + Z-i,1 + Zi,i + Zi,-1
+ Zi,-i + Z-i,i + Z-i,-1 + Z-i,-i + Z-1,i + Z-1,-i,
Z1,j = Z1,j + Z1,-j + Zj,1 + Z-j,1 + Zj,j + Zj,-1 + Zj,-j + Z-j,j + Z-j,-1 + Z-j,-j + Z-1,j + Z-1,-j,
Z1,k = Z1,k + Z1,-k + Zk,1 + Z-k,1 + Zk,k + Zk,-1 + Zk,-k + Z-k,k + Z-k,-1 + Z-k,-k + Z-1,k + Z-1,-k,
Z1,-1 = Z1,-1 + Z-1,1 + Z-1,-1,

(5.18) (5.19) (5.20) (5.21) (5.22)

and its full partition function

1 8

[Z1,1

+

Z1,i

+

Z1,j



+

Z1,k

+

Z1,-1].

(5.23)

These two notations for Q8 relate as (1, 0) = i, (0, 1) = j and (1, 1) = k. We

can reduce back to the original group by declaring that i acts trivially. Then

the remaining Z2 is generated by the equivalence class g = {j, -j, k, -k}. With no

modification to the action of Z4 in the Z2-twisted sectors, the Q8 partition function

becomes

1 8

[16Z1,1

+

8Z1,g]

=

Z1,1

+

2



1 2

[Z1,1

+

Z1,g],

(5.24)

28

yielding a single copy of the parent theory plus two copies of the Z2 orbifold. If the original Z2 is anomalous, this result will be equally ill-defined. If we take the quantum symmetry to be non-trivial, however, the Z1,j and Z1,k will cancel within themselves. This leaves us with

2Z1,1,

(5.25)

two copies of the parent theory. While this non-central extension is not minimal, it is capable of curing the anomaly in the initial Z2 symmetry. This will be our only non-central example, as in general we tend to find minimal extensions to be central.

5.2 G = Z2 × Z2
In this section we tackle a more complicated example where the original symmetry is Z2 × Z2. To start, we need to specify an anomaly in our symmetry, which entails a choice of   H3(Z2 ×Z2, U(1))  Z32. We'll write the group as Z2 ×Z2 = {1, a, b, c} and for readability drop the arguments of  into subscripts, e.g. (a, b, b) = abb. Then a choice of representatives for each class in H3(Z2 × Z2, U(1)) is

aaa = a, baa = 1, caa = a,

aab = 1, abc = 1, bab = 1, bbc = ac, cab = 1, cbc = ac,

aac = a, aca = a, bac = 1, bca = abc, cac = a, cca = bc,

aba = 1, acb = 1, bba = abc, bcb = b, cba = abc, ccb = b,

abb = 1, acc = a, bbb = b, bcc = ac, cbb = b, ccc = c,

(5.26)

where 2a = 2b = 2c = 1 label the cohomology class. Then for m = naaxaa +  + nccxcc, we have

(b(a))(m)

=

 , naa+nac+nca+ncc a

(b(b))(m)

=

(  )  , nba+nbc+nca+ncc nba+nbb+nca+ncb

ac

b

(b(c))(m)

=

   . naa+nac+nba+nbc nba+nbb+nca+ncb nba+nbc+nca+ncc

a

b

c

The orbit structure of a Z2 × Z2 orbifold is

(5.27) (5.28) (5.29)

Z1,1 = Z1,1, Z1,a = Z1,a + Za,1 + Za,a, Z1,b = Z1,b + Zb,1 + Zb,b, Z1,c = Z1,c + Zc,1 + Zc,c, Za,b = Za,b + Za,c + Zb,a + Zb,c + Zc,a + Zc,b.

(5.30) (5.31) (5.32) (5.33) (5.34)

29

Its full partition function is, as given in (5.13), is

1 4

[Z1,1

+

Z1,a



+

Z1,b



+

Z1,c

±

Za,b].

(5.35)

Employing (3.2) and (5.26), we find the following anomalous transformations (there are others, but these are sufficient to describe the anomalies in each orbit):

Za,1( + 2) = aZa,1( ) Zb,1( + 2) = bZb,1( ) Zc,1( + 2) = cZc,1( ) Za,b( + 2) = aZa,b( ) Zb,c( + 2) = bZb,c( ) Zc,a( + 2) = cZc,a( ).

(5.36) (5.37) (5.38) (5.39) (5.40) (5.41)

Thus the orbits Z1,a, Z1,b and Z1,c are anomalous when their respective  are non-zero, and the disconnected orbit Za,b is anomalous for any non-trivial anomaly.

5.2.1 1  Z2  D4  Z2 × Z2  1

The first anomaly we will examine corresponds to (a, b, c) = (1, 1, -1). In this

case,

A¯ = {m nba + nbc + nca + ncc even}.

(5.42)

Then C = {[0], [xcc]}  Z2. A short computation shows that the G action on C is trivial:

a  [xcc] = [xbc + xac] = [xcc], b  [xcc] = [xac + xbc] = [xcc], c  [xcc] = [xcc]. (5.43) So we can compute the group multiplication in ,

([jxcc], g)([kxcc], h) = ([(j + k)xcc + xgh], gh).

(5.44)

In particular we have ([0], c)4 = ([0], a)2 = 1 and ([0], a)([0], c)([0], a) = ([xcc], c) = ([0], c)-1, which lets us identify the group as   D4, the dihedral group with eight elements. The values of b which could possibly be non-trivial are

(b(a))([xcc]) = 1 (b(b))([xcc]) = -1 (b(c))([xcc]) = -1.

(5.45)

We present the extended group D4 as r, s r4 = s2 = (sr)2 = 1. This corresponds to the notation used above as r = ([0], c) and s = ([0], a). The orbits of a D4

30

orbifold are then

Z1,1 = Z1,1, Z1,r = Z1,r + Z1,r3 + Zr,1 + Zr,r + Zr,r2 + Zr,r3 + Zr2,r + Zr2,r3
+ Zr3,1 + Zr3,r + Zr3,r2 + Zr3,r3 , Z1,r2  = Z1,r2 + Zr2,1 + Zr2,r2 , Z1,s = Z1,s + Zs,1 + Zs,s, Z1,rs = Z1,rs + Zrs,1 + Zrs,rs, Z1,r2s = Z1,r2s + Zr2s,1 + Zr2s,r2s, Z1,r3s = Z1,r3s + Zr3s,1 + Zr3s,r3s, Zr2,s = Zr2,s + Zr2,r2s + Zs,r2 + Zs,r2s + Zr2s,r2 + Zr2s,s, Zr2,rs = Zr2,rs + Zr2,r3s + Zrs,r2 + Zrs,r3s + Zr3s,r2 + Zr3s,rs,
and the full orbifold partition function is

(5.46) (5.47)
(5.48) (5.49) (5.50) (5.51) (5.52) (5.53) (5.54)

1 8

[Z1,1

+

Z1,r



+

Z1,r2



+

Z1,s

+

Z1,rs

+

Z1,r2s



+

Z1,r3

s



± Zr2,s ± Zr2,rs].

(5.55)

Using (4.13) and (5.45) to assign phases, we find that the D4 orbits relate to those of Z2 × Z2 as

Z1,1  Z1,1, Z1,r  0, Z1,r2  3Z1,1, Z1,s  Z1,a, Z1,rs  Z1,b, Z1,r2s  Z1,a, Z1,r3s  Z1,b, Zr2,s  2Z1,a, Zr2,rs  -2Z1,b.

(5.56) (5.57) (5.58) (5.59) (5.60) (5.61) (5.62) (5.63) (5.64)

This means that the full D4 orbifold becomes

1 4

[2Z1,1

+

(1

±

1)Z1,a

+

(1



1)Z1,b].

(5.65)

Interestingly, we see that discrete torsion in the D4 extension swaps us between two Z2 orbifolds ­ one by a, the other by b. Either way we have, as promised,

31

a single copy of a non-anomalous orbifold, confirming that this was a minimal trivializing extension.
Why is it that, in this case, discrete torsion swaps between two trivializing extensions? This example has H1(Z2 × Z2, Z^2)  Z2 × Z2, which we will write as {1, x, y, z}. Turning on discrete torsion in D4 is equivalent to choosing a quantum symmetry belonging to one of the non-trivial classes in this Z2 × Z2 ­ we'll say it's the class given by x. Meanwhile, the quantum symmetry coming from b as given by (5.45) corresponds to a different non-trivial class ­ call it the one given by y. So turning on discrete torsion swaps us between group actions in the classes corresponding to y and z.
This analysis further implies that there is a third trivializing extension which we have not considered: the same extension 1  Z2  D4  Z2 × Z2  1, except this time the only quantum symmetry we turn on is the D4 discrete torsion. With the notation as above, a D4 orbifold with discrete torsion decomposes to

1 2

[Z1,1

+

Z1,c],

(5.66)

a single copy of the Z2 orbifold by c. This extension would trivialize any anomaly in Z2 × Z2 with c = 1, and is our second example of curing an anomaly by turning on a quantum symmetry equivalent to discrete torsion (the first having appeared in section 5.1.2).

5.2.2 1  Z2 × Z2  Z4  Z4  Z2 × Z2  1

A qualitatively different anomaly comes from the choice (a, b, c) = (-1, -1, -1). We see from (5.36)-(5.41) that, with this choice, every orbit besides Z1,1 is anomalous. In this case we have

A¯ = {m naa + nac + nca + ncc and nba + nbb + nca + ncb even}, C = {[0], [xaa], [xbb], [xaa + xbb]}  Z22,
with trivial group action. Under this idenficiation, b becomes

(5.67) (5.68)

(b(a))([xaa]) = -1, (b(b))([xaa]) = 1, (b(c))([xaa]) = -1, (b(a))([xbb]) = 1, (b(b))([xbb]) = -1, (b(c))([xbb]) = -1, (b(a))([xcc]) = -1, (b(b))([xcc]) = -1, (b(c))([xcc]) = 1.

(5.69)

A computation reveals that  is the nontrivial semidirect product Z4 Z4. This group has the presentation x, y x4 = y4 = 1, [x, y] = x2. We'll choose to write the sixteen group elements as xiyj, (i, j)  {0, 1, 2, 3}2. We can relate this to the above notation as

x = a, y = b, xy = c, x2 = [xaa], y2 = [xbb], x2y2 = [xaa + xbb]. (5.70)

32

The modular orbits of Z4  Z4 are

Z1,1 = Z1,1,

(5.71)

Z1,x = Z1,x + Z1,x3 + Zx,1 + Zx,x + Zx,x2 + Zx,x3 + Zx2,x + Zx2,x3

(5.72)

+ Zx3,1 + Zx3,x + Zx3,x2 + Zx3,x3 ,

Z1,x2  = Z1,x2 + Zx2,1 + Zx2,x2,

(5.73)

Z1,y = Z1,y + Z1,y3 + Zy,1 + Zy,y + Zy,y2 + Zy,y3 + Zy2,y + Zy2,y3

(5.74)

+ Zy3,1 + Zy3,y + Zy3,y2 + Zy3,y3,

Z1,y2  = Z1,y2 + Zy2,1 + Zy2,y2 ,

(5.75)

Z1,xy = Z1,xy + Z1,xy3 + Zy2,xy + Zy2,xy3 + Zxy,1 + Zxy,y2 + Zxy,xy

(5.76)

+ Zxy,xy3 + Zxy3,1 + Zxy3,y2 + Zxy3,xy + Zxy3,xy3 ,

Z1,x2y = Z1,x2y + Z1,x2y3 + Zy2,x2y + Zy2,x2y3 + Zx2y,1 + Zx2y,y2 + Zx2y,x2y (5.77)

+ Zx2y,x2y3 + Zx2y3,1 + Zx2y3,y2 + Zx2y3,x2y + Z , x2y3,x2y3

Z1,x3y = Z1,x3y + Z1,x3y3 + Zy2,x3y + Zy2,x3y3 + Zx3y,1 + Zx3y,y2 + Zx3y,x3y (5.78)

+ Zx3y,x3y3 + Zx3y3,1 + Zx3y3,y2 + Zx3y3,x3y + Z , x3y3,x3y3

Z1,xy2  = Z1,xy2 + Z1,x3y2 + Zx2,xy2 + Zx2,x3y2 + Zxy2,1 + Zxy2,x2 + Zxy2,xy2 (5.79)

+ Zxy2,x3y2 + Zx3y2,1 + Zx3y2,x2 + Zx3y2,xy2 + Z , x3y2,x3y2

Z1,x2y2  = Z1,x2y2 + Zx2y2,1 + Z , x2y2,x2y2

(5.80)

Zx,y2  = Zx,y2 + Zx,xy2 + Zx,x2y2 + Zx,x3y2 + Zy2,x3 + Zy2,x3y2 + Zy2,xy2

(5.81)

+ Zy2,x + Zxy2,x3 + Zxy2,x2y2 + Zxy2,x + Zxy2,y2 + Zx2y2,x + Zx2y2,x3

+ Zx2y2,xy2 + Zx2y2,x3y2 + Zx3y2,x3 + Zx3y2,y2 + Zx3y2,x + Zx3y2,x2y2

+ Zx3,xy2 + Zx3,x2y2 + Zx3,x3y2 + Zx3,y2 ,

Zy,x2  = Zy,x2 + Zy,x2y + Zy,x2y2 + Zy,x2y3 + Zx2,y3 + Zx2,x2y3 + Zx2,x2y

(5.82)

+ Zx2,y + Zx2y3,y3 + Zx2y3,x2 + Zx2y3,y + Zx2y3,x2y2 + Zx2y2,y + Zx2y2,y3

+ Zx2y2,x2y + Zx2y2,x2y3 + Zx2y3,y3 + Zx2y3,x2 + Zx2y3,y + Zx2y3,x2y2

+ Zy3,x2 + Zy3,x2y + Zy3,x2y2 + Zy3,x2y3 ,

Zxy,x2y2  = Zxy,x2y2 + Zxy,x3y + Zxy,x2 + Zxy,x3y3 + Zx2y2,xy + Zx2y2,x3y3

(5.83)

+ Zx2y2,xy3 + Zx2y2,x3y + Zx2,xy + Zx2,x3y + Zx2,xy3 + Zx2,x3y3

+ Zxy3,x2y2 + Zxy3,x3y3 + Zxy3,x2 + Zxy3,x3y + Zx3y,xy3 + Zx3y,x2y2

+ Zx3y,xy + Zx3y,x2 + Zx3y3,x2 + Zx3y3,xy + Zx3y3,x2y2 + Zx3y3,xy3 ,

Zx2,y2  = Zx2,y2 + Zx2,x2y2 + Zy2,x2 + Zy2,x2y2 + Zx2y2,x2 + Zx2y2,y3 .

(5.84)

33

The full orbifold partition function is then

1 16

[Z1,1

+

Z1,x

+

Z1,x2



+

Z1,y



+

Z1,y2



+

Z1,xy 

+

Z1,x2 y 

+

Z1,x3y



+

Z1,xy2



+ Z1,x2y2  + Zx,y2 ± Zy,x2 ± Zxy,x2y2  + Zx2,y2]. (5.85)

Calculating coefficients of decomposition from b, we find that every orbit that does not reduce to the parent theory partition function vanishes. Sixteen of the Z4  Z4 partial traces reduce to Z1,1, so we end up with a single copy of the parent theory, as we should have expected from a minimal trivializing extension when all of the other orbits were anomalous.

5.3 G = Z2 × Z4
In this section we examine anomalies in the group Z2 × Z4, which will be generated by a2 = b4 = 1. The orbits of a Z2 × Z4 orbifold are then

Z1,1 = Z1,1, Z1,a = Z1,a + Za,1 + Za,a, Z1,b = Z1,b + Z1,b3 + Zb,1 + Zb,b3 + Zb,b2 + Zb,b + Zb3,b3 + Zb3,1 + Zb3,b
+ Zb3,b2 + Zb2,b3 + Zb2,b,
Z1,b2  = Z1,b2 + Zb2,1 + Zb2,b2 , Z1,ab = Z1,ab + Z1,ab3 + Zab,1 + Zab,ab + Zab,b2 + Zab,ab3 + Zb2,ab3 + Zb2,ab
+ Zab3,ab3 + Zab3,1 + Zab3,ab + Zab3,b2 ,
Z1,ab2  = Z1,ab2 + Zab2,1 + Zab2,ab2 , Za,b = Za,b + Za,b3 + Za,ab + Za,ab3 + Zb,a + Zb,ab + Zb,ab2 + Zb,ab3 + Zb3,ab3 , + Zb3,a + Zb3,ab + Zb3,ab2 + Zab,b3 + Zab,ab2 + Zab,b + Zab,a + Zab2,b
+ Zab2,b3 + Zab2,ab + Zab2,ab3 + Zab3,b3 + Zab3,a + Zab3,b + Zab3,ab2 ,
Za,b2  = Za,b2 + Za,ab2 + Zb2,a + Zb2,ab2 + Zab2,a + Zab2,b2 ,

(5.86) (5.87) (5.88)
(5.89) (5.90)
(5.91) (5.92)
(5.93)

while the full orbifold partition function is given by

1 8

[Z1,1

+

Z1,a

+

Z1,b

+

Z1,b2



+

Z1,ab

+

Z1,ab2



±

Za,b

+

Za,b2

].

(5.94)

34

Making a particular choice of representatives of H3(Z2 × Z4, U(1)), the anomalous phases that appear in the untwisted orbits are given by

Za,1( + 2) = Za,1( ) Zb,1( + 4) = 3Zb,1( ) Zb2,1( + 2) = 2Zb2,1( ) Zab,1( + 4) = 3Zab,1( ) Zab2,1( + 2) = 2Zab2,1( )

(5.95) (5.96) (5.97) (5.98) (5.99)

where 4 = 2 = 2 = 1 determine the cohomology class in H3(Z2 × Z4, U (1))  Z4 × Z2 × Z2.

5.3.1 1  Z2  Z2 × Z8  Z2 × Z4  1
To begin with, we examine the case  = -1,  =  = 1. Intuitively this is the case where b is anomalous, and we have a non-anomalous Z2 ×Z2 subgroup generated by a and b2. This is essentially equivalent to a Z4 with an order two anomaly, which we would cure by extending to Z8. In the present situation the Z2 generated by a is a bystander and we can extend to Z2 × Z8 to cure the anomaly. Choosing to write the extending Z2 as b4, we have the Z2 × Z8 orbifold partition function

1 16

[Z1,1

+

Z1,b



+

Z1,b2



+

Z1,b4



+

Z1,a



+

Z1,ab



+ Z1,ab2  + Z1,ab4  ± Za,b + Za,b2  + Za,b4].

(5.100)

In projecting back to Z2 × Z4 the coefficients of decomposition are

Z1,1  Z1,1, Z1,b  0, Z1,b2   4Z1,b2, Z1,b4   3Z1,1, Z1,a  Z1,a, Z1,ab  0, Z1,ab2   4Z1,ab2 , Z1,ab4   Z1,a, Za,b  0, Za,b2   4Za,b2 , Za,b4   2Z1,a.

(5.101) (5.102) (5.103) (5.104) (5.105) (5.106) (5.107) (5.108) (5.109) (5.110) (5.111)

35

With these relations, the Z2 × Z8 partition function (5.100) becomes

1 4

[Z1,1



+

Z1,a



+

Z1,b2



+

Z1,ab2



+

Za,b2

],

(5.112)

which is the orbifold partition function for the non-anomalous Z2 × Z2 subgroup generated by a and b2, with the trivial choice of discrete torsion.

5.3.2 1  Z4  Z4 × Z8  Z2 × Z4  1

If we were to choose  = -1,  =  = 1, the non-anomalous subgroups would be the

Z2 generated by a and the Z4 generated by b (but not any mix of the two). This is

the first situation in which we have distinct non-anomalous subgroups of differing

sizes. In order to build a trivializing extension, we choose our H3(Z2 × Z4, U(1))

representative to be

(asbx, apby, aqbz) = ix(pq+2yz).

(5.113)

One can check from (3.2) that this cocycle indeed produces  = -1,  =  = 1. When we reduce Tachikawa's construction in this example, we find

C = {[0], [xa,a], [xb,b], [xab,ab]}  Z4.

(5.114)

The resulting  turns out to be Z4 × Z8, which we can take to be generated by ([0], a)8 = ([0], b)4 = 1. Omitting details of the calculation (as there are now over one thousand partial traces involved), the Z4 × Z8 orbifold reduces to

1 2

[Z1,1

+

Z1,a

],

(5.115)

which is the orbifold by the non-anomalous Z2 subgroup generated by a. We expect that there should exist a different choice of representative for  which produces a Z2 extension reducing to the Z4 orbifold generated by b, though we have not identified it.

6 Discussion and Conclusions
Through numerous examples we have seen that an anomalous symmetry G can be extended to a larger group  such that the orbifold by  is equivalent to a direct sum of orbifolds by non-anomalous subgroups of G and is therefore consistent. In each example we examined, the ability to find such a resolution depended on the existence of non-trivial quantum symmetries given by elements of H1(G, K^ ) which encode the action of the extending group K on the G-twisted states. Sometimes this modification is equivalent to turning on discrete torsion, while other times it is a choice that is unique to orbifolds with trivially-acting subgroups.
36

While we have shown by construction that there exists at least one such extension for each symmetry G and anomaly   H3(G, U(1)), we could aspire to even more specific control over the form of the extension. Specifically, we could ask the following: given a group G and a subgroup H of G, does there exist an extension  of G such that the orbifold by  is equivalent to a single copy of the orbifold by H? This would imply that we can find a minimal trivializing extension that produces an orbifold equivalent to the orbifold by any non-anomalous subgroup of G.
In addition, we could hope for a more precise characterization of the decomposition at play. In particular this should include a general form for the  orbifold's decomposition in the spirit of [7], the precise relation between discrete torsion and quantum symmetries, and a description of the open string sector related to such extensions. We are currently investigating such questions and hope to begin to tackle them in [8] and [9].
Acknowledgements
We would like to thank T. Pantev for useful discussions. D.R. was partially supported by NSF grant PHY-1820867. E.S. was partially supported by NSF grants PHY-1720321 and PHY-2014086.
A Non-Effective Extensions to Non-Abelian Groups
In this appendix we work through the example of extending a Z2 × Z2 symmetry by a non-effectively acting Z2 to the group of unit quaternions, Q8, which is nonabelian. We will see how and why the degeneration process of non-abelian orbifolds with trivially-acting subgroups is modified, then examine the inclusion of quantum symmetries in such orbifolds. We restate a number of formulae from the main text (mainly the orbit structures of Z2 × Z2 and Q8 orbifolds) to make the appendix more self-contained.
37

A.1 The Q8 Orbifold
We present the group Q8 as i, j, k i2 = j2 = k2 = ijk = -1. Its genus one modular orbits are

Z1,1 = Z1,1, Z1,-1 = Z1,-1 + Z-1,1 + Z-1,-1,
Z1,i = Z1,i + Z1,-i + Zi,1 + Z-i,1 + Zi,i + Zi,-1 + Zi,-i + Z-i,i + Z-i,-1 + Z-i,-i + Z-1,i + Z-1,-i,
Z1,j = Z1,j + Z1,-j + Zj,1 + Z-j,1 + Zj,j + Zj,-1 + Zj,-j + Z-j,j + Z-j,-1 + Z-j,-j + Z-1,j + Z-1,-j,
Z1,k = Z1,k + Z1,-k + Zk,1 + Z-k,1 + Zk,k + Zk,-1 + Zk,-k + Z-k,k + Z-k,-1 + Z-k,-k + Z-1,k + Z-1,-k,

(A.1) (A.2) (A.3)
(A.4)
(A.5)

and its full torus partition function is

1 8

[Z1,1

+

Z1,-1

+

Z1,i



+

Z1,j



+

Z1,k

].

(A.6)

Note that there is no choice of discrete torsion in this orbifold ­ we could see this without even calculating H2(Q8, U(1)) (which is in fact trivial) by noting that all of the orbits include an untwisted sector partial trace, so all of the relative coefficients are fixed by modular transformations. Now we examine the Sp(4; Z) orbits of the genus two partial traces Zg1,g2,h1,h2 with g1h1g1-1h-11g2h2g2-1h-21 = [g1, h1][g2, h2] = 1, which are

· Z1,1,1,1 with 1 partial trace,

· Z1,1,1,-1 with 15 partial traces,

· Z1,1,1,i with 240 partial traces,

· Z1,1,1,j with 240 partial traces,

· Z1,1,1,k with 240 partial traces and

· Z1,1,i,j with 1440 partial traces.

They form the full genus two partition function as

1 82

[Z1,1,1,1

+

Z1,1,1,-1

+

Z1,1,1,i

+

Z1,1,1,j



+

Z1,1,1,k



+

Z1,1,i,j

].

(A.7)

Note that the orbit Z1,1,i,j includes partial traces such as Zi,i,j,j which has [g1, h1] = [g2, h2] = -1. Under a degeneration that takes the genus two surface to a pair of

38

genus one surfaces connected by a thin tube, these partial traces have a TDL labeled by the element -1 running through the tube. We can insert a sum over a complete set of -1-twisted states in the tube, replacing the genus two partial trace by a weighted sum of genus one one-point functions. If -1 acts effectively on the parent theory, then all of these states have positive conformal weights and in the degeneration limit they will be subleading to terms where [g1, h1] = [g2, h2] = 1 and we can have the untwisted vacuum state propagating through the tube.
In total, the genus two Q8 partial traces degenerate to genus one as (the convention here, as in section 2, is that the ordering of the genus one orbits determines the torus on which they reside)

Z1,1,1,1 Z1,1Z1,1, Z1,1,1,-1 Z1,1Z1,-1 + Z1,-1Z1,1 + Z1,-1Z1,-1,
Z1,1,1,i Z1,1Z1,i + Z1,iZ1,1 + Z1,-1Z1,i +Z1,iZ1,-1 + Z1,iZ1,i,
Z1,1,1,j Z1,1Z1,j + Z1,jZ1,1 + Z1,-1Z1,j +Z1,jZ1,-1 + Z1,jZ1,j,
Z1,1,1,k Z1,1Z1,k + Z1,kZ1,1 + Z1,-1Z1,k +Z1,kZ1,-1 + Z1,kZ1,k,
Z1,1,i,j Z1,iZ1,j + Z1,jZ1,i + Z1,iZ1,k +Z1,kZ1,i + Z1,jZ1,k + Z1,kZ1,j +Zi,j [-1]Zi,j [-1],

(A.8) (A.9) (A.10)
(A.11)
(A.12)
(A.13)

where in the last line, Zi,j[-1] represents a genus one amplitude with TDLs labeled by i and j wrapping the two cycles of the torus and a TDL labeled by -1 leaving their crossing point and ending on the insertion of the lowest weight state in the -1-twisted sector. If -1 acts effectively, then this operator has positive conformal weight and this term will not contribute to leading order in the degeneration. However, if -1 does not act effectively then there will be a weightzero state in the -1-twisted sector and this last term will contribute. This should be a general feature of orbifolds with non-effective subgroups ­ trivially-acting, non-identity elements in the commutator subgroup will lead to these additional contributions.
In the effective case, where we don't need to keep that last term, degeneration yields a copy of the genus one partition function (A.6) on each torus, as we would expect.

39

A.2 Decomposition
Q8 can be cast as a central extension 1  K = Z2   = Q8  G = Z2 × Z2  1, where the extending group K is generated by the element -1. We write G = Z2 × Z2 = {1, a, b, c} such that modding out by -1 sends {1, -1} to 1, {i, -i} to a, {j, -j} to b and {k, -k} to c. As a reminder ,the genus one Z2 × Z2 orbits are

Z1,1 = Z1,1, Z1,a = Z1,a + Za,1 + Za,a, Z1,b = Z1,b + Zb,1 + Zb,b, Z1,c = Z1,c + Zc,1 + Zc,c, Za,b = Za,b + Za,c + Zb,a + Zb,c + Zc,a + Zc,b,

(A.14) (A.15) (A.16) (A.17) (A.18)

with the full partition function being

Z±

=

1 4

[Z1,1



+ Z1,a

+ Z1,b

+ Z1,c

±

Za,b].

(A.19)

We can see the Z2 discrete torsion arising as the coefficient of the disconnected orbit Za,b. At genus two there are six Z2 × Z2 orbits:

· Z1,1,1,1 with 1 partial trace,

· Z1,1,1,a with 15 partial traces,

· Z1,1,1,b with 15 partial traces,

· Z1,1,1,c with 15 partial traces,

· Z1,1,a,b with 90 partial traces and

· Z1,a,1,b with 120 partial traces.

These combine into the full partition function as

1 42

[Z1,1,1,1

+

Z1,1,1,a

+

Z1,1,1,b

+

Z1,1,1,c

+

Z1,1,a,b

±

Z1,a,1,b].

(A.20)

40

The genus two Z2 × Z2 partial traces degenerate to genus one as

Z1,1,1,1 Z1,1Z1,1, Z1,1,1,a Z1,1Z1,a + Z1,aZ1,1 + Z1,aZ1,a, Z1,1,1,b Z1,1Z1,b + Z1,bZ1,1 + Z1,bZ1,b, Z1,1,1,a Z1,1Z1,c + Z1,cZ1,1 + Z1,cZ1,c, Z1,1,a,b Z1,aZ1,b + Z1,bZ1,a + Z1,bZ1,c
+Z1,cZ1,b + Z1,cZ1,a + Z1,aZ1,c +Za,bZa,b, Z1,a,1,b Z1,1Za,b + Za,bZ1,1 + Z1,aZa,b +Za,bZ1,a + Z1,bZa,b + Za,bZ1,b +Z1,cZa,b + Za,bZ1,c.

(A.21) (A.22) (A.23) (A.24) (A.25)
(A.26)

Now if K acts non-effectively, then the genus one Q8 partial traces decompose to Z2 × Z2 partial traces as

Z1,1  Z1,1, Z1,-1  3Z1,1,
Z1,i  4Z1,a, Z1,j  4Z1,b, Z1,k  4Z1,c,

(A.27) (A.28) (A.29) (A.30) (A.31)

and we also have At genus two we have

Zi,j[-1]  4Za,b.

(A.32)

Z1,1,1,1  Z1,1,1,1, Z1,1,1,-1  15Z1,1,1,1,
Z1,1,1,i  16Z1,1,1,a, Z1,1,1,j  16Z1,1,1,b, Z1,1,1,k  16Z1,1,1,c, Z1,1,i,j  16Z1,1,a,b.

(A.33) (A.34) (A.35) (A.36) (A.37) (A.38)

Applying these decompositions to the full Q8 partition function at genus one gives

1 2

[Z1,1

+

Z1,a



+

Z1,b

+

Z1,c

]

=

Z+

+

Z-,

(A.39)

41

which is the direct sum of two Z2 × Z2 partition functions with opposite choices of discrete torsion, such that the disconnected orbits have canceled out. At genus two decomposition gives us

1 22

[Z1,1,1,1

+

Z1,1,1,a

+

Z1,1,1,b

+

Z1,1,1c

+

Z1,1,a,b].

(A.40)

Now whether we apply decomposition first and then degeneration, or degeneration first and then decomposition, the genus two Q8 partition function becomes

(Z+ + Z-)(Z+ + Z-) + (Z+ - Z-)(Z+ - Z-) = 2Z+Z+ + 2Z-Z-.

(A.41)

On the lhs we see the first term is the `usual' degeneration result (the genus one partition function on each torus) while the second term is the contribution from the non-effective weight-zero state -1. The fact that this expression simplifies to something diagonal matches the expectation for a disjoint union theory, while the factor of two comes from the existence of two weight-zero states in the orbifold theory. Note that the terms involving Zi,j[-1] were necessary for the two possible orderings of degeneration and decomposition to agree.

A.3 Quantum Symmetries

Let us turn on a quantum symmetry in the Q8 orbifold. The possible quantum symmetries are classified by H1(Z2 × Z2, Z^2)  Z2 × Z2. The corresponding phases enter the partition function under degeneration as

Z(k1 ,g1 ),(k2 ,g2 )



B B

(k2, (k1,

g1 g2

) )

Zg1,g2

(A.42)

where B(k, g) is a homomorphism in both of its arguments and is normalized. Therefore to specify it all we need to know are the values  = B(1, a),  = B(1, b) and  = B(1, c), with 2 = 2 = 1. Using this notation, the genus one decomposition relations become

Z1,1  Z1,1, Z1,-1  3Z1,1,
Z1,i  2(1 + )Z1,a, Z1,j  2(1 + )Z1,b, Z1,k  2(1 + )Z1,c, Zi,j[-1]  (1 +  +  + )Za,b.

(A.43) (A.44) (A.45) (A.46) (A.47) (A.48)

42

We see that all four combinations (, ) = (±1, ±1) are consistent with genus one modular invariance ­ but we should check genus two as well. The modified decomposition relations there are

Z1,1,1,1  Z1,1,1,1, Z1,1,1,-1  15Z1,1,1,1,
Z1,1,1,i  8(1 + )Z1,1,1,a, Z1,1,1,j  8(1 + )Z1,1,1,b, Z1,1,1,k  8(1 + )Z1,1,1,c, Z1,1,i,j  4(1 +  +  + )Z1,1,a,b.

(A.49) (A.50) (A.51) (A.52) (A.53) (A.54)

The trivial case  =  = 1 reproduces the results from section A.2. For the three non-trivial choices of quantum symmetry given by (, ) = (1, -1), (-1, 1) or (-1, -1), the Q8 orbifold is equivalent to the orbifold by one of the three Z2 subgroups of Z2 × Z2, and this is consistent with both the genus one and genus two results. So in this case, despite the fact that  is non-abelian, the presence of the quantum symmetry causes it to be equivalent to an abelian orbifold and we do not need to worry about additional contributions to its decomposition.

B General Extensions and Quantum Symmetries
We repeat the analysis of section 2.4, now allowing K to be a general finite group. In particular K need no longer be abelian or central in . Many of the arguments will carry through, though we will encounter some cases that present difficulties.

B.1 A General Finite Extension

We examine an extension of the finite group G by another finite group K, given

as before by

1  K    G  1.

(B.1)

In order to define the group law on  we need a few ingredients. Given a section s(g)  G  , we can construct a map   G  Aut(K) as

g(k) = s(g)ks-1(g).

(B.2)

When K is abelian,  gives it the structure of a G-module. Additionally, we can construct an object

c(g1, g2) = s(g1)s(g2)s-1(g1g2).

(B.3)

43

We could quotient K by its commutator subgroup to form its abelianization Kab; the image of c under this map belongs to a class in H2(G, Kab) which classifies the possible extensions of G by K. In a slight abuse of nomenclature we refer to both versions as the extension class.
Going forward we will abbreviate s(gi) = si, gi(k) = i(k) and c(gi, gj) = ci,j in calculations. Note that  is a homomorphism in K since

1(k2k3) = s1k2k3s-11 = s1k2s-11s1k3s-11 = 1(k2)1(k3).

(B.4)

We can see that c satisfies a closure-like condition (which descends to genuine closure in H2(G, Kab)) by comparing

c1,2c12,3 = s1s2s-121s12s3s-1213 = s1s2s3s-1213

(B.5)

with

1(c2,3)c1,23 = s1s2s3s-231s-11s1s23s-1213 = s1s2s3s-1213,

so our `closure' condition on c is

(B.6)

dc = 1 = 1(c2,3)c1,23c-121,3c-1,12.

(B.7)

When K is non-abelian, g(k) will not be a homomorphism in G ­ we can see this from

12(k) = s12ks-121 = s12s-21s-11s1s2ks-21s-11s1s2s-121 = c-1,121(2(k))c1,2,

which also gives us

1(2(k)) = c1212(k)c-121.

Now we can write down group multiplication in . It will be given by

(B.8) (B.9)

(k1, g1)(k2, g2) = (k1g1(k2)c(g1, g2), g1g2). We can check that this is associative. We have

(B.10)

((k1, g1)(k2, g2))(k3, g3) = (k11(k2)c1,2, g1g2)(k3, g3) = (k11(k2)c1,212(k3)c12,3, g1g2g3) (B.11)
and

(k1, g1)((k2, g2)(k3, g3)) = (k1, g1)(k22(k3)c3,2, g2g3) = (k11(k22(k3)c2,3)c1,23, g1g2g3). (B.12)
In order for these to be equal we must have

k11(k2)c1,212(k3)c12,3 = k11(k22(k3)c2,3)c1,23,

(B.13)

44

which holds if

c1,212(k3)c12,3 = 1(2(k3))1(c2,3)c1,23.

(B.14)

Applying (B.8), this reduces to the closure condition (B.7) which we have already shown, so our group multiplication is associative.
Finally we check inverses. We claim that the inverse of (k, g) is given by

(k, g)-1 = (c-1(g-1, g)g-1 (k-1), g-1).

(B.15)

From the left this is straightforward to check:

(c-1(g-1, g)g-1 (k-1), g-1)(k, g) = (c-1(g-1, g)g--11 (k)g-1 (k)c(g-1, g), g-1g) = (1, 1). (B.16)

To see that it is also a right inverse, we first note that the closure condition (B.7)

on c implies that

g(c-1(g-1, g)) = c-1(g, g-1).

(B.17)

Now we calculate

(k, g)(c-1(g-1, g)g-1(k-1), g-1) = (kg(c-1(g-1, g))g(g-1 (k-1))c(g, g-1), 1) = (kc-1(g, g-1)g(g-1(k-1))c(g, g-1), 1) = (kgg-1(k-1)) = (kk-1, 1) = (1, 1), (B.18)
so this inverse works from both sides.

B.2 Including Quantum Symmetries

In this section we work with the object B(k, g) which is a homomorphism in K.

Since K is not central in  we will have an action of G on   H1(K, U(1)) given

by

g  (k) = (g-1(k))

(B.19)

which satisfies

g1  g2  (k) = (g2-1 (g1-1 (k))).

(B.20)

Since we are working in a homomorphism, (B.8) allows us to swap 1(2) with

12 so we have

g1  g2  (k) = ((g1g2)-1 (k)) = (g1g2)  (k).

(B.21)

Again we begin under the assumption that K acts non-trivially on the parent theory, so to guarantee modular invariance B should assign the same phase to each partial trace in a given  orbit. Consider the partial trace Z . (k1,g1),(k2,g2) The

45

possible modifications to the action of K are given by a slight modification of (2.4)

as

B B

(g1 (g2

(k2 (k1

), ),

g1) g2)

Z(k1

,g1),(k2

,g2)

(B.22)

where, as before, B is a homomorphism in its K argument and is normalized such

that B(1, g) = B(k, 1) = 1. Consider the modular transformation

Z(k1,g1),(k2,g2)( - 1) = Z(k1,g1),(k1,g1)(k2,g2)( ) = Z ( ). (k1,g1),(k11(k2)c1,2,g1g2)

(B.23)

Performing this transformation on (B.22) yields

B B

(1 (2

(k2 (k1

), ),

g1) g2)

Z(k1,g1),(k1

1

(k2

)c1,2

,g1g2

).

(B.24)

Swapping the order of the modular transformation and phase assignments yields

B

(1 B

(k11(k2)c1,2), (12(k1), g1g2)

g1

)

Z(k1

,g1

),(k11

(k2

)c1,2

, ,g1g2)

so consistency requires that

(B.25)

B(1(k2), g1) B(2(k1), g2)

=

B

(1(k11(k2)c1,2), B(12(k1), g1g2)

g1

)

.

The commutation conditions on the two elements of  are

(B.26)

k11(k2)c1,2 = k22(k1)c2,1 and g1g2 = g2g1,

(B.27)

and we can use this commutation relation to rewrite the numerator on the rhs of

(B.26) to get

B(1(k2), g1) B(2(k1), g2)

=

B(1(k22(k1)c1,2), g1) . B(12(k1), g1g2)

(B.28)

Using the fact that B is a homomorphism in its K argument we can both split up the numerator of the rhs and replace 1(2) with 12, giving

B(12(k1), g1g2) = B(12(k1), g1)B(2(k1), g2)B(1(c1,2), g1).

(B.29)

Once again we find an obstruction to modular invariance when B(g1(c(g2, g3)), g1) is not trivial. The condition that B is a homomorphism in G has been replaced with

B(k, g1g2) = B(k, g1)B(g1-1 (k), g2) = B(k, g1) g1  B(k, g2), 46

(B.30)

which is the condition for being a crossed homomorphism in G, i.e. such a quantum symmetry lives in Z1(G, H1(K, U(1))): one-cochains in G valued in H1(K, U(1)) (with non-trivial action on the coefficients).
What do exact elements of Z1(G, H1(K, U(1))) look like? They take the form

B(k, g)

=

g  (k) (k)

=

(g-1 (k)) (k)

(B.31)

for   H1(K, U(1)). When the extension is split it is easy to see that these do not contribute. If we make such a choice for B, a generic partial trace Z(k1,g1),(k2,g2) receives the phase

B(g1(k2), g1) B(g2(k1), g2)

=

(k2)(2(k1)) (k1)(1(k2))

=

(k22(k1)) , (k11(k2))

(B.32)

which we see precisely vanishes for (k1, g1) and (k2, g2) commuting. Therefore this choice of quantum symmetry, while non-trivial, does not change the coefficients of decomposition, and we can mod out by B which are exact. This means our choice of B(k, g) depends solely on its class in H1(G, H1(K, U(1))). When the extension is not split, (B.32) fails to be trivial by

(c(g2, g1)c-1(g1, g2)).

(B.33)

This would seem to disrupt the conclusion that quantum symmetries for such extensions are classified by H1(G, H1(K, U(1))) since we do not seem to be able to disregard exact elements. Our suspicion is that the above analysis is incomplete, and that H1(G, H1(K, U(1))) should always classify quantum symmetries ­ this may be because our assignment of phases (B.22) needs to be further modified (that expression was assumed rather than derived). As far as our examples in section 5 are concerned, the above issue can only arise in extensions which are neither central nor split. We present one such example with  = Q8, the group of unit quaternions, in section 5.1.3. In that example the extension class is symmetric, so (B.33) presents no issue.
Finally, in passing, we note that (2.62) holds with the expected modification ­ the obstruction to B(1(k2), g1) defining a two-cocycle on  is B(1(c2,3), g1). So once again quantum symmetries that are equivalent to discrete torsion are compatible with modular invariance in .

References
[1] R. Dijkgraaf, C. Vafa, E. P. Verlinde, and H. L. Verlinde, "The Operator Algebra of Orbifold Models," Commun. Math. Phys., vol. 123, p. 485, 1989.
47

[2] T. Johnson-Freyd, "The moonshine anomaly," Communications in Mathematical Physics, vol. 365, p. 943­970, Feb 2019, arXiv:1707.08388.
[3] Y. Tachikawa, "On gauging finite subgroups," SciPost Physics, vol. 8, Jan 2020, arXiv:1712.09542.
[4] M. Ando, S. Hellerman, A. Henriques, T. Pantev, and E. Sharpe, "Cluster decomposition, T-duality, and gerby CFTs," Advances in Theoretical and Mathematical Physics, vol. 11, no. 5, p. 751­818, 2007, arXiv:hep-th/0606034.
[5] E. Sharpe, "Undoing decomposition," International Journal of Modern Physics A, vol. 34, p. 1950233, Dec 2019, arXiv:1911.05080.
[6] Y. Tanizaki and M. U¨ nsal, "Modified instanton sum in QCD and higher-groups," Journal of High Energy Physics, vol. 2020, Mar 2020, arXiv:1912.01033.
[7] D. Robbins, E. Sharpe, and T. Vandermeulen, "A generalization of decomposition in orbifolds," 2021, arXiv:2101.11619.
[8] D. Robbins, E. Sharpe, and T. Vandermeulen, "Quantum symmetries in orbifolds and decomposition," in preparation.
[9] D. Robbins, E. Sharpe, and T. Vandermeulen, "Anomaly resolution via decomposition," in preparation.
[10] C. Vafa, "Modular invariance and discrete torsion on orbifolds," Nuclear Physics B, vol. 273, no. 3, pp. 592­606, 1986.
[11] C.-M. Chang, Y.-H. Lin, S.-H. Shao, Y. Wang, and X. Yin, "Topological defect lines and renormalization group flows in two dimensions," Journal of High Energy Physics, vol. 2019, Jan 2019, arXiv:1802.04445.
[12] M. R. Gaberdiel, D. Persson, H. Ronellenfitsch, and R. Volpato, "Generalized Mathieu Moonshine," Commun. Num. Theor Phys., vol. 07, pp. 145­223, 2013, arXiv:1211.7074.
[13] D. Robbins and T. Vandermeulen, "Orbifolds from modular orbits," Physical Review D, vol. 101, May 2020, arXiv:1911.05172.
[14] J. Wang, X.-G. Wen, and E. Witten, "Symmetric gapped interfaces of SPT and SET states: Systematic constructions," Physical Review X, vol. 8, Aug 2018, arXiv:1705.06728.
48

