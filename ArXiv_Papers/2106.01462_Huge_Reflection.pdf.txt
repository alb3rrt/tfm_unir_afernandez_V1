arXiv:2106.01462v1 [math.LO] 2 Jun 2021

HUGE REFLECTION
JOAN BAGARIA AND PHILIPP LU¨ CKE
Abstract. We study Structural Reflection beyond Vopenka's Principle, at the level of almost-huge cardinals and higher, up to rank-into-rank embeddings. We identify and classify new large cardinal notions in that region that correspond to some form of what we call Exact Structural Reflection (ESR). Namely, given cardinals  <  and a class C of structures of the same type, the corresponding instance of ESR asserts that for every structure A in C of rank , there is a structure B in C of rank  and an elementary embedding of B into A. Inspired by the statement of Chang's Conjecture, we also introduce and study sequential forms of ESR, which, in the case of sequences of length , turn out to be very strong. Indeed, when restricted to 1-definable classes of structures they follow from the existence of I1-embeddings, while for more complicated classes of structures, e.g., 2, they are not known to be consistent. Thus, these principles unveil a new class of large cardinals that go beyond I1-embeddings, yet they may not fall into Kunen's Inconsistency.
1. Introduction
Given a class1 C of structures2 of the same type and a cardinal , the principle of Structural Reflection3 SR holds at  for C if for every structure A in C, there exists some B  C V and an elementary embedding of B into A. Different forms of SR have been investigated in [Bag, Bag12, BCMR15, BV16, BW, Lu¨c21], yielding canonical characterizations of large cardinals in different regions of the large cardinal hierarchy. For example, results in [Bag12] and [BCMR15] use Magidor's classical characterization of supercompact cardinals from [Mag71] to show that the existence of such a cardinal is equivalent to the validity of the principle SR for all classes of structures definable by 1-formulas without parameters.
The principles of structural reflection considered so far correspond to large cardinals up to Vopenka's Principle, stating that every proper class of structures of the same type contains a structure that is elementary embeddable into another structure in the given class. The validity of this principle can be shown to be equivalent to the existence of cardinals witnessing SR for every class of structures (see [Bag12]). In this paper, we shall study principles of structural reflection that correspond to large cardinal notions stronger than Vopenka's Principle, up to rank-into-rank embeddings, and beyond. These principles are given by variations of the following exact form of SR:
Definition 1.1 (Exact Structural Reflection). Given infinite cardinals  <  and a class C of structures of the same type, we let ESRC(, ) denote the assertion that for every A  C of rank , there exists some B  C of rank  and an elementary embedding form B into A.
Given a definability class  (i.e., one of n or n, for some n < ) and a class P , we introduce the following variations of the above definition that will allow us to formulate our results in a compact way:
Date: June 4, 2021. 2010 Mathematics Subject Classification. 03E55, 03E65, 18A10, 18A15. Part of this research was supported by the Generalitat de Catalunya (Catalan Government) under grant SGR 270-2017, and by the Spanish Government under grant MTM2017-86777-P. In addition, this project has received funding from the European Union's Horizon 2020 research and innovation programme under the Marie Sklodowska-Curie grant agreement No 842082 (Project SAIFIA: Strong Axioms of Infinity ­ Frameworks, Interactions and Applications). 1We work in ZFC. So, proper classes are always definable, with set parameters. 2Throughout this paper, the term structure refers to structures for countable first-order languages. The cardinality (respectively, the rank ) of a structure is defined as the cardinality (respectively, the rank) of its domain. 3A detailed discussion of this principle can be found in [Bag].
1

2

JOAN BAGARIA AND PHILIPP LU¨ CKE

(i) We let (P )-ESR(, ) denote the statement that ESRC(, ) holds for every class C of structures of the same type that is -definable with parameters in P .
(ii) We let (P )-ESR() denote the statement that (P )-ESR(, ) holds for some cardinal  > .
(iii) We let (P )ic-ESR(, ) and (P )ic-ESR() denote the restrictions of the respective principles to classes of structures that are -definable with parameters in P and are closed under isomorphic copies.
Using the Downward Lo¨wenheim­Skolem Theorem, it is easy to see that ESRC(, ) holds for every countable first-order language L, every elementary class C of L-structures and all uncountable cardinals  <  with cof()  cof() (see Proposition 2.1 below). In contrast, we shall see that the above principles for externally defined classes are quite strong, for they correspond to large cardinals in the region between supercompact and rank-into-rank embeddings, and beyond. Below is a summary of the main results.
First, we discuss our results for classes of structures closed under isomorphic copies. While an easy application of 1-absoluteness shows that the principles 1(V)ic-ESR(, ) holds for all uncountable cardinals  <  with cof()  cof() (Proposition 3.1), we prove that the principle i1c-ESR(, ) already implies the existence of a <-supercompact cardinal less than or equal to  (Lemma 4.9). Moreover, for singular cardinals , our results show that the validity of principles of the form 1(V)ic-ESR(, ) is equivalent to the existence of cardinals below  possessing certain degrees of supercompactness. In particular, it turns out that singular limits of supercompact cardinals can be characterized through exact structural reflection for 1-definable classes closed under isomorphic copies. Namely,
Theorem 1.2. The following statements are equivalent for every singular cardinal :
(i)  is a limit of supercompact cardinals. (ii) 1()ic-ESR(, ) holds for a proper class of cardinals . (iii) 2(V)ic-ESR(, ) holds for a proper class of cardinals .
In order to state an analogous result for more complicated classes of structures, we have to introduce a weak form of the notion of C(n)-extendibility from [Bag12]. Recall that a cardinal  is -extendible for some ordinal  >  if there is an ordinal  and an elementary embedding j : V  V with crit (j) =  and j() > . Following [Bag12], for every n < , we let C(n) denote the n-definable closed unbounded class of all of ordinals  such that V is a n-elementary substructure of V . Given cardinals  <  and n < , the cardinal  is -C(n)-extendible if there is an elementary embedding j : V  V for some cardinal  with crit (j) = , j() >  and j()  C(n). In addition, we say that  is C(n)-extendible if it is -C(n)-extendible for all (equivalently, for a proper class of)  >  (see [Bag12, Section 3]).
The following weaker form of C(n)-extendibility will allow us to prove a version of Theorem 1.2 for classes of structures of complexity greater than 2.
Definition 1.3. Given ordinals µ <  and a natural number n, a cardinal   µ is [µ, )C(n)-extendible if there exist   C(n+1)  [µ, ) and an elementary embedding j : V  V, for some , with crit (j) = , j(µ)   and j()  C(n). In addition, we say that  is [µ, )-C(n)-extendible if it is [µ, )-C(n)-extendible for a proper class of ordinals .
It is easy to see that extendible cardinals  are [µ, )-C(1)-extendible for all µ  . Using the fact that the requirement "j() > " can be omitted in the definition of extendibility (see [Kan03, Proposition 23.15]), we can also see that a cardinal  is extendible if and only if it is [µ, )-C(1)-extendible for some µ  . We will later show that every C(n)-extendible cardinal is [µ, )-C(n)-extendible, for every µ   (Proposition 4.4).
Using this notion, the above characterization of singular limits of supercompact cardinals now generalizes in the following way:
Theorem 1.4. For every n > 0, the following statements are equivalent for every singular cardinal :
(i)  is a limit of [, )-C(n)-extendible cardinals. (ii) n+1()ic-ESR(, ) holds for a proper class of cardinals . (iii) n+2(V)ic-ESR(, ) holds for a proper class of cardinals .

HUGE REFLECTION

3

In particular, Theorem 1.4 shows that a singular cardinal  is a limit of extendible cardinals if and only if 2()ic-ESR(, ) holds for a proper class of cardinals .
In combination with results from [Bag12] and [BCMR15], the methods developed in the proof of Theorem 1.4 also allow us to conclude that exact structural reflection for classes of structures closed under isomorphisms holding at singular cardinals does not imply the existence of large cardinals stronger than Vopenka's Principle. In fact, Vopenka's Principle can be characterized through the validity of principles of the form n(V)ic-ESR(, ).
Theorem 1.5. Over the theory ZFC, the following schemes of sentences imply each other:
(i) Vopenka's Principle. (ii) For every class C of structures of the same type that is closed under isomorphic
images, there is a cardinal  with the property that ESRC(, ) holds for all  > . (iii) For every natural number n > 0, there exists a proper class of cardinals  with the
property that n(V)ic-ESR(, ) holds for all  > .
In contrast to the above results, both the validity of the principle i1c-ESR at a regular cardinal and the validity of the principle 1-ESR at some cardinal turn out to imply the existence of large cardinals stronger than Vopenka's Principle, e.g. almost huge cardinals. The large cardinal properties introduced below will allow us to capture the strength of these forms of exact structural reflection. Their definition is motivated by results in [Lu¨c21] that provide a characterization of shrewd cardinals (introduced by Rathjen in [Rat95]) through a variation of Magidor's classical characterization of supercompactness in [Mag71] and similar characterizations of n-hugeness in [HLN19, Section 6]. In the following, we will say that a set M is n(P )-correct for some natural number n > 0 and a class P if all n-formulas with parameters in M  P are absolute between V and M .
Definition 1.6. Given a natural number n > 0, an infinite cardinal  is weakly n-exact for a cardinal  >  if for every A  V+1, there exists a transitive, n(V+1)-correct set M with V  {}  M , a cardinal   C(n-1) greater than  and an elementary embedding j : M  H with j() =  and A  ran(j). If we further require that j(crit (j)) = , then we say that  is weakly parametrically n-exact for .
Observe that if  is weakly parametrically 1-exact for , then  and  are both inaccessible. The following result shows how weakly n-exact cardinals are connected to principles of exact structural reflection for n-definable classes of structures.
Theorem 1.7. The following statements are equivalent for all cardinals  and all natural numbers n > 0:
(i)  is the least regular cardinal such that inc-ESR() holds. (ii)  is the least cardinal such that n(V)-ESR() holds. (iii)  is the least cardinal that is weakly n-exact for some  > . (iv)  is the least cardinal that is weakly parametrically n-exact for some  > .
In the case of n+1-definable classes of structures, the large cardinal principles corresponding to the different forms of exact structural reflection are the following:
Definition 1.8. Given a natural number n, an infinite cardinal  is n-exact for some cardinal  >  if for every A  V+1, there exists a cardinal   C(n) greater than , a cardinal   C(n+1) greater than , an elementary submodel X of H with V  {}  X, and an elementary embedding j : X  H with j() =  and A  ran(j). If we further require that j(crit (j)) =  holds,4 then we say that  is parametrically n-exact for .
Note that, if m  n <  and  is (parametrically) n-exact for , then  is also (parametrically) m-exact for . Moreover, standard arguments show that, if  is parametrically 0-exact for , then both  and  are inaccessible cardinals. In addition, it is easily seen that, given 0 < n < , if  is (parametrically) n-exact for , then it is also weakly (parametrically)

4Even though X need not be transitive, we still define crit (j) as the least ordinal moved by j, which exists since j is not the identity on the ordinals as j() = .

4

JOAN BAGARIA AND PHILIPP LU¨ CKE

n-exact for . Finally, we will later show that, if a cardinal  is weakly parametrically (n+1)exact for some  and 0 < n < , then it is also parametrically n-exact for  (Proposition 7.2).
The equivalence of the existence of n-exact cardinals with ESR principles for n-definable classes of structures is given in the following theorem.
Theorem 1.9. The following statements are equivalent for all cardinals  and all natural numbers n > 0:
(i)  is the least cardinal such that n+1-ESR() holds. (ii)  is the least cardinal such that n+1(V)-ESR() holds. (iii)  is the least cardinal that is n-exact for some  > . (iv)  is the least cardinal that is parametrically n-exact for some  > .
The above results allow us to uniquely place the large cardinal properties introduced in Definitions 1.6 and 1.8 into a linear hierarchy. More specifically, if  is a cardinal satisfying the equivalent statements of Theorem 1.9 for some 0 < n < , then there exists a cardinal µ <  satisfying the equivalent statements of Theorem 1.7 for the same natural number n (Lemma 7.1). In addition, if 0 < n <  and  satisfies the statements listed in Theorem 1.7 for n + 1, then there is a cardinal µ <  satisfying the statements of Theorem 1.9 (see Lemma 5.8) for n. These results should be compared with the corresponding statements for the principle SR, showing that SR for n-definable classes of structures is equivalent to SR for n+1-definable classes ([Bag12, Section 4]).
Exact cardinals are very strong, consistency-wise. In Section 8 we give lower and upper bounds for their consistency strength, and we also prove they imply the existence of wellknown large cardinals in the upper ranges of the large-cardinal hierarchy. Recall that a cardinal  is almost huge (see [Kan03]) if it is the critical point of an elementary embedding j : V  M , with M transitive and closed under sequences of length less than j(). Given such an embedding j, we then say that  is almost huge with target j(). If  is either parametrically 0-exact for , or weakly parametrically 1-exact for , then many cardinals smaller than  are almost huge with target  (Corollary 8.2). As for upper bounds, while every huge cardinal (with target some ) is weakly parametrically 1-exact (for the same ), the least huge cardinal  is not 1-exact for any  >  (Propositions 8.4 and 8.6). A strong consistency upper bound is provided by an I3-embedding (see [Kan03, §24]), for if j : V  V is such an embedding, then in V a proper class of cardinals are parametrically n-exact for unboundedly-many , for every n (Proposition 8.7). A much lower upper bound, namely an almost 2-huge cardinal, is given in Proposition 8.9 for the consistency of weakly parametrically n-exact cardinals, all n > 0.
Finally, in Section 9, we show how the principle ESR(, ) can be strengthened to encompass increasing sequences of cardinals of length at most , instead of a single cardinal , in order to obtain principles of structural reflection that are much stronger, implying the existence of many-times huge cardinals or even I3-embeddings. The formulation of these stronger sequential ESR principles is motivated by the observation that the principle 1-ESR(, ) directly implies the instance
(, )  (, <)
of Chang's Conjecture, i.e. every structure A in a countable language with domain  has an elementary substructure B of cardinality  with |B  | < . The definition of our sequential ESR principles will then directly imply that higher versions of Chang's Conjecture hold for the respective cardinals.
We then also strengthen, accordingly, the notions of weakly exact and exact cardinals to obtain large cardinal properties that correspond to the new sequential ESR principles and show that much of the theory developed for ESR(, ) can be generalized to this stronger context. In particular, we obtain exact equivalences for the least cardinals witnessing the sequential forms of ESR and the corresponding sequential forms of weakly exact and exact cardinals (Theorems 9.8 and 9.11). As for determining the position of these large cardinals in the large cardinal hierarchy, we show, on the one hand, that the existence of a weakly 1exact or a 0-exact cardinal for a sequence of cardinals of length n + 1 implies the existence of

HUGE REFLECTION

5

smaller n-huge cardinals. On the other hand, every n-huge cardinal is weakly parametrically n-exact for some sequence of cardinals of length n (Proposition 9.3). Also, if  is the critical point of an I1-embedding (see [Kan03, §24]), then it is weakly parametrically 1-exact for a sequence of cardinals of length .
Many questions remain, and some of them are addressed in the last section of the article. Most interesting is the problem of determining the exact strength of the sequential forms of ESR. We know that these principles, in the case of sequences of length , are very strong, so much so that even when restricted to 2-definable classes of structures we don't know them to be consistent. This makes the study of such principles both challenging and exciting, for they appear to constitute a new class of large-cardinal principles that go beyond I1-embeddings, yet they may not fall into Kunen's Inconsistency.

2. Isomorphism-Closed classes
We start by studying instances of the principle ESR for classes of structures closed under isomorphic copies. Notice that if a class C of structures of the same type is n-definable (with or without parameters) for some n > 0, then the closure of C under isomorphic copies is also n-definable (with the same parameters, if any).
Proposition 2.1. Given uncountable cardinals  < , the following statements are equivalent for every class C of structures of the same type that is closed under isomorphic copies:
(i) ESRC(, ). (ii) For every structure B in C whose cardinality is contained in the interval [cof(), ],
there exists an elementary embedding of a structure A in C into B such that the cardinality of A is contained in the interval [cof(), ].
Proof. Assume that (i) holds and fix a structure B in C whose cardinality is contained in the interval [cof(), ]. Then we can pick an injection i from the domain of B into V such that the set
{ <  | ran(i)  (V+1 \ V ) = }
is unbounded in . Let B0 denote the isomorphic copy of B induced by i. Then B0 is a structure in C of rank  and our assumptions yield an elementary embedding of a structure A in C of rank  into B0. But this allows us to conclude that the cardinality of A is contained in the interval [cof(), ], and there exists an elementary embedding of A into B.
Now, assume that (ii) holds and fix a structure B in C of rank . Then the cardinality of B is contained in the interval [cof(), ] and our assumption yields an elementary embedding of a structure A in C into B whose cardinality is contained in the interval [cof(), ]. Pick an injection i from the domain of A into V with the property that the set
{ <  | ran(i)  (V+1 \ V) = }
is unbounded in , and let A0 denote the isomorphic copy of A induced by i. Then A0 is a structure in C of rank  and there exists an elementary embedding of A0 into B.
Corollary 2.2. Let  <  be inaccessible cardinals and let C be a class of structures of the same type that is closed under isomorphic copies. Then ESRC(, ) holds if and only if for every structure B  C of cardinality , there exists an elementary embedding of a structure A  C of cardinality  into B.
Corollary 2.3. Let C be a class of structures of the same type that is closed under isomorphic copies and let  < µ <  be infinite cardinals with the property that ESRC(, ) holds.
(i) If cof(µ)  cof(), then ESRC(µ, ) holds. (ii) If cof(µ)  cof(), then ESRC(, µ) holds.
Proof. Since cof(µ)  cof() implies [cof(), ]  [cof(µ), µ] and cof(µ)  cof() implies [cof(µ), µ]  [cof(), ], both statements follow directly from Proposition 2.1.

6

JOAN BAGARIA AND PHILIPP LU¨ CKE

3. Low complexities

In this section, we study exact structural reflection for 1-definable classes of structures. In the case of classes closed under isomorphic copies, these principles are provable in ZFC.

Proposition 3.1. If  is an uncountable cardinal, then the principle 1(V)ic-ESR(, ) holds for every cardinal  >  with cof()  cof().

Proof. Fix a 1-formula (v0, v1) such that C = {A | (A, z)} is a class of structures of the same type and pick a structure B in C whose cardinality is contained in the interval
[cof(), ]. Let B0 be an isomorphic copy of B in H + and pick an elementary substructure 
X of H + of cardinality  with V  {B0}  X. Let  : X  M denote the induced 
transitive collapse. Since (z) = z, 1-absoluteness now implies that ((B0), z) holds and hence (B0) is an element of C. Moreover, our construction ensures that (B0) has cardinality at most  and, since B0 has cardinality at least cof()  cof() and (cof()) = cof(), we know that (B0) has cardinality at least cof(). Finally, using the inverse collapse -1, it is easy to see that there exists an elementary embedding of (B0) into B. By Proposition 2.1, the above computations yield the desired conclusion.

In contrast with the previous Proposition, the principle ESRC(, ) for some  <  and all 0-definable (without parameters) classes C of structures of the same type (so, no closure under isomorphic copies required), has considerable large-cardinal strength and fails
in G¨odel's constructible universe L.

Lemma 3.2. If 0-ESR() holds for some uncountable cardinal , then a# exists for every real a.

Proof. Let L denote the first-order language that extends the language L of set theory by a binary predicate symbol E , a constant symbol c and a unary function symbol f. Define C to be the class of all L-structures of the form , , E, , f with the property that  is an ordinal and f : ,   ran(f ), E is an order-isomorphism. Then it is easy to see that C is definable by a 0-formula without parameters.
Now, fix a real a and a cardinal  >  such that ESRC(, ) holds. Pick a bijection b : L[a]   and set
E = { b(x), b(y) | x  y  L[a]}.

Then

B = , , E, b(), b  

is an L-structure of rank  in C. By our assumption, there exists a binary relation R on , a function f :    and  <  such that

A = , , R, , f

is a structure in C with the property that there exists an elementary embedding i of A into B. Since our construction ensures that , E is well-founded and , R embeds into , E , it follows that , R is well-founded too. Moreover, elementarity implies that , R is extensional. Let  : , R  M,  denote the corresponding transitive collapse and set

j = b-1  i  -1 : M  L[a].

Then j is an elementary embedding of transitive structures. Now, note that elementarity implies that ran(f ) = -1[M  Ord] and

  ran(f ) : ran(f ), R  M  Ord, 

is an order-isomorphism. But this shows that

  f : ,   M  Ord, 

is also an order-isomorphism and hence we can conclude that M  Ord = . In particular,
elementarity implies that M = L[a]. Finally, since j(()) =  > (), we know that j : L[a]  L[a] is a non-trivial
elementary embedding. But then |crit (j)| <  and the proof of [Jec02, Theorem 18.27] shows that a# exists.

HUGE REFLECTION

7

The next result provides an upper bound for the consistency strength of the assumption of Lemma 3.2. In particular, it shows that this assumption does not imply the existence of an inner model with a measurable cardinal. Its proof is based on arguments contained in the proof of [VW01, Theorem 2.3].
Lemma 3.3. If  is a Ramsey cardinal, then the set of inaccessible cardinals  <  with the property that 1(V)-ESR() holds in V is unbounded in .
Proof. Fix  <  and pick A   such that V = L[A]. By our assumption, there exists a good set I of indiscernibles for the structure L[A], , A (see [DJK81, Section 1]) that is unbounded in  and satisfies min(I) > . Set
X = Hull L[A],,A (min(I)  (I \ {min(I)}))
and let  : X  M denote the corresponding transitive collapse. Since I is unbounded in , we know that M  Ord = . Moreover, indiscernibility ensures that min(I) / X and hence -1 : M  V is a non-trivial elementary embedding with critical point min(I). Set  = -1(min(I))  M and  = -1()  M . Then  and  are both inaccessible cardinals greater than .
Claim. In V, the principle ESRC(, ) holds for every class C of structures of the same type that is definable by a 1-formula with parameters in V.
Proof of the Claim. Assume, towards a contradiction, that there exists a 1-formula (v0, v1) with the property that for some z  V, the class C = {A  V | (A, z)} consists of structures of the same type and there exists B  C of rank  such that for all A  C of rank , there is no elementary embedding of A into B. Using elementarity, we now know that, in M , there exist z0  Vmin(I) and B0  V+1 \ V with the property that the class C0 = {A  M | (A, z0)} consists of structures of the same type, B0  C0 and for all A  C0 of rank min(I), there is no elementary embedding of A into B0. Since we have
-1  VmMin(I) = id , VmMin(I)
the elementarity of -1 implies that C = {A  V | (A, z0)} consists of structures of the same type, -1(B0)  C and for all A  C of rank , there is no elementary embedding of A into -1(B0). But this yields a contradiction, because the upwards absoluteness of 1-formulas implies that B0 is a structure in C of rank  and -1 induces an elementary embedding of B0 into -1(B0).
The above claim completes the proof of the lemma.
4. The n-case for isomorphism-closed classes
We now show that the structural reflection principles introduced in Definition 1.1 become very strong when they hold for more complex classes of structures. In particular, the validity of these principles for 1-definable classes C of structures closed under isomorphic copies at singular cardinals already implies non-trivial fragments of supercompactness, and the corresponding principles for a regular cardinal will turn out to imply the existence of many almost huge cardinals.
Recall that a cardinal  is -supercompact if there is a transitive class M closed under -sequences and an elementary embedding j : V  M with crit (j) =  and j() > .
Lemma 4.1. Let  <  be infinite cardinals such that  is singular and cof()  cof(). If the interval (cof(), ) contains a -supercompact cardinal µ, then 1(Vµ)ic-ESR(, ) holds.
Proof. Fix a 1-formula (v0, v1) and an element z of Vµ such that C = {A | (A, z)} is a class of structures of the same type that is closed under isomorphic copies. Pick a structure B in C whose cardinality is contained in the interval [cof(), ] and whose domain is a subset of . Now, fix an elementary embedding j : V  M with crit (j) = µ, j(µ) >  and M  M . Then the closure properties of M ensure that B is an element of M and the elementary embedding of B into j(B) induced by j is also contained in M . Moreover, 1-downwards absoluteness for transitive classes implies that (B, z) holds in

8

JOAN BAGARIA AND PHILIPP LU¨ CKE

M . Thus, M satisfies that there exists a structure A whose cardinality is contained in the interval [cof(), j(µ)) such that (A, z) holds, and there exists an elementary embedding e : A  j(B), as this is witnessed by B and j  B : B  j(B). Since j(z) = z and j(cof()) = cof(), the elementarity of j yields an elementary embedding of a structure A of the given type into B such that (A, z) holds and the cardinality of A is contained in the interval [cof(), µ). This shows that there is an elementary embedding of a structure in C whose cardinality is contained in the interval [cof(), ] into B. By Proposition 2.1, this proves the lemma.
Corollary 4.2. If  <  are cardinals such that cof()  cof() and  is a singular limit of -supercompact cardinals, then 1(V)ic-ESR(, ) holds. Hence, if  is a singular limit of
supercompact cardinals, then 1(V)ic-ESR(, ) holds for a proper class of cardinals .
We continue by showing that, for all n > 1, analogous statements hold for n-definable classes and [ ,  + 1)-C(n-1)-extendible cardinals.
Lemma 4.3. Let n > 0 be a natural number and let  <  be infinite cardinals such that  is singular and cof()  cof() holds. If the interval (cof(), ) contains a cardinal  that is [µ,  + 1)-C(n)-extendible for some ordinal   µ  , then n+1(V)ic-ESR(, ) holds.
Proof. Fix a n+1-formula (v0, v1) and an element z of Vµ such that C = {A | (A, z)} is a class of structures of the same type that is closed under isomorphic copies. Pick a structure B in C whose cardinality is contained in the interval [cof(), ] and whose domain is a subset of . Let   C(n+1)  [µ,  + 1) and let j : V +1  V be an elementary embedding with crit (j) = , j(µ)   + 1, and j()  C(n). Then the fact that  < j(µ)  j() implies that B is an element of Vj() and the elementary embedding of B into j(B) induced by j is contained in V. Moreover, since j()  C(n), by n+1-downwards absoluteness for Vj(), we have that (B, z) holds in Vj(). Thus, V satisfies that there exists a structure A whose cardinality is contained in the interval [cof(), j(µ)) such that (A, z) holds in Vj(), and there exists an elementary embedding e : A  j(B), as this is witnessed by B and j  B : B  j(B). Since j(z) = z and j(cof()) = cof(), the elementarity of j yields an elementary embedding of a structure A of the given type into B such that (A, z) holds in V and the cardinality of A is contained in the interval [cof(), µ). But since   C(n+1), we know that (A, z) also holds in V . This shows that there is an elementary embedding of a structure in C whose cardinality is contained in the interval [cof(), ] into B. By Proposition 2.1, this proves the lemma.
The following observation shows that C(n)- extendible cardinals provide natural examples of [µ, )-C(n)-extendible cardinals.
Proposition 4.4.
(i) If  is a -C(n)-extendible cardinal and C(n+1)  [, ) = , then  is [, )-C(n)extendible.
(ii) Every C(n)-extendible cardinal  is [µ, )-C(n)-extendible, for every µ  .
Proof. (i) Assume  is -C(n)-extendible and   C(n+1)  [, ). Since   C(n), and since every true n+1 statement, with parameters in V is true in V , the assumption that  is -C(n)-extendible easily yields that   C(n+1). Then  itself witnesses the [, )-C(n)extendibility of .
(ii) As shown in [Tsa18], a cardinal  is C(n)-extendible if and only if it is C(n)+extendible, i.e., for a proper class of   C(n) there exists an elementary embedding j : V  V for some   C(n), with crit (j) = , j() >  and j()  C(n). Thus, if  is C(n)-extendible, then it is [µ, )-C(n)-extendible, for every µ   and every   C(n) such that C(n+1)  [µ, ) = . In particular, every C(n)-extendible cardinal  is [µ, )-C(n)extendible for every µ  .
Corollary 4.5. Let n > 0 be a natural number, let  be a singular cardinal and let  >  be a cardinal with cof()  cof().

HUGE REFLECTION

9

(i) If  is a limit of cardinals  that are [µ,  + 1) for some     , then n+1(V)ic-ESR(, ) holds.
(ii) If  is a limit point of C(n+1) and a limit of (  + 1)-C(n)-extendible cardinals, then n+1(V)ic-ESR(, ) holds.
(iii) If  is a limit of C(n)-extendible cardinals, then n+1(V)ic-ESR(, ) holds
Proof. The first statement follows directly from Lemma 4.3. For the second statement, notice that our assumption implies that  is a limit of (  + 1)-C(n)-extendible cardinals  with the property that C(n+1)  (, ) = . By Proposition 4.4, this implies that  is a limit of cardinals  that are [,  + 1)-C(n)-extendible and therefore we can use the first part to derive the desired conclusion. Finally, since [Bag12, Proposition 3.4] shows that all C(n)-extendible cardinals are elements of C(n+2), we can apply the second part of the corollary to prove the third statement.
We are now ready to show that Vopenka's Principle can be characterized through principles of exact structural reflection.
Proof of Theorem 1.5. First, assume that (i) holds and fix a natural number n > 0. Since [BCMR15, Corollary 6.9] shows that our assumption implies the existence of a proper class of C(n)-extendible cardinals, there exists a proper class of cardinals  of countable cofinality that are limits of C(n)-extendible cardinals. The third part of Corollary 4.5 now implies that for every such cardinal  and every  > , the principle n+1(V)ic-ESR(, ) holds. This shows that (iii) holds in this case.
Now, assume that (ii) holds and let C0 be a proper class of structures of the same type. Let C denote the class of all structures of the given type that are isomorphic to a structure in C0 and define C = {|A| | A  C}. By our assumptions, there exists a cardinal  with the property that ESRC(, ) holds for all  > . If C is a proper class, then there exists a structure B  C0 of cardinality greater than  and, since the principle ESRC(, |B|) holds, we can use Proposition 2.1 to find a structure A  C0 of cardinality at most  and an elementary embedding of A into B. In particular, we know that Vopenka's Principle for C holds in this case. In the other case, namely if C is a set, then we can find distinct A, B  C0 that are isomorphic and hence Vopenka's Principle for C also holds in this case. This allows us to conclude that (i) holds.
This concludes the proof of the theorem, because (iii) obviously implies (ii).
Similar results hold also for n(V)-definable classes closed under isomorphic copies, assuming  is a singular limit of supercompact cardinals, in the case n = 2, or a singular limit of [, )-C(n-2)-extendible cardinals, in the case n > 2.
Corollary 4.6. Let  be a singular cardinal and let  >  be a cardinal with cof()  cof().
(i) If  is a limit of supercompact cardinals, then 2(V)ic-ESR(, ) holds. (ii) If n > 0 and  is a limit of [, )-C(n)-extendible cardinals, then n+2(V)ic-
ESR(, ) holds.
Proof. (i) Assume that  is a limit of supercompact cardinals and fix z  V. Let (v0, v1) be a 2-formula such that C = {A | (A, z)} is a class of structures of the same type that is closed under isomorphic copies. Pick a structure B in C whose cardinality is contained in the interval [cof(), ]. We can use our assumption to find cardinals µ <  and    such that z  Vµ and there exists a transitive class M containing B and closed under sequences, and an elementary embedding j : V  M with crit (j) = µ, j(µ) >  and the property that (B, z) holds in M . In this situation, we can repeat the proof of Lemma 4.1 to find a structure A in C whose cardinality is contained in the intercal [cof(), ] and an elementary embedding of A into B.
(ii) Now, assume that  is a limit of [, )-C(n)-extendible cardinals. Fix a (v0, v1) be a n+2-formula and z  V defining a class C of structures of the same type closed under isomorphic copies. If we now pick a structure B  C whose cardinality is contained in the interval [cof(), ], then there is a cardinal  <   C(n+2), a cardinal   C(n+1)  [, ) and an elementary embedding j : V  V for some  such that z  Vcrit(j), j()   and

10

JOAN BAGARIA AND PHILIPP LU¨ CKE

j()  C(n). Using the fact that   C(n+2), we can now continue as in the proof of Lemma 4.3 to obtain the desired elementary embedding.
We shall next prove several results that will allow us to derive high lower bounds for the consistency strength of the principle i1c-ESR. In particular, these results will show that passing from 1-definable to 1-definable classes of structures drastically increases the strength of the principle ESR.
Given a set z and a natural number n > 0, we let Wn(z) denote the class of all structures (in the language L of set theory extended by five constant symbols and two unary function symbols) of the form D, E, a, b, c, d, e, f, g with the property that the relation E is a wellfounded and extensional, and, if  : D, E  M,  denotes the corresponding transitive collapse, then the following statements hold:
(i) (a), (b), (c), (d)  M  Ord, and V(c)  M . (ii) If (b) > 0, then (b)  C(n). (iii) (e) = z  V(a). (iv) M is n(V(c)+1)-correct. (v) The map   f  -1 induces a bijection between V(c) and (d). (vi) The map g  -1 restricts to a bijection between (d) and D.
Then it is easy to see that the class Wn(z) is closed under isomorphic copies and is definable by a n-formula with parameter z.
Lemma 4.7. Let µ <  be cardinals such that ESRWn(z)(µ, ) holds for some element z of Vµ and some natural number n > 0. Given a cardinal   C(n) greater than , there exist
· a cardinal   µ with z  V and cof(µ)  , · a transitive, n(V+1)-correct set M with V  { }  M , and · an elementary embedding j : M  H with crit (j) < , j(crit (j))  µ, j(z) = z,
µ  ran(j) and j() = . In addition, for every   C(n)  [µ, ), we can find objects satisfying the above statements such that j() =  holds for some   C(n)  .
Proof. Pick an elementary substructure X of H of cardinality  with V  (  + 1)  X, a map h0 : X  X that extends a bijection between V and , and a map h1 : X  X that extends a bijection between  and X. Fix an ordinal  such that either  = 0 or   C(n)  [µ, ). Since V+1  X is contained in the transitive part of X, it follows that the transitive collapse of X is n(V+1)-correct and hence
X, , µ, , , , z, h0, h1
is a structure in Wn(z) of cardinality . By Proposition 2.1, our assumptions allow us find a structure D, E, a, b, c, d, e, f, g in Wn(z) whose cardinality is contained in the interval [cof(µ), µ] and an elementary embedding
i : D, E, a, b, c, d, e, f, g  X, , µ, , , , z, h0, h1 .
Let  : D, E  M,  denote the corresponding transitive collapse. Set  = (a),  = (b), and  = (c). Then we have (e) = z  V  V  M ,
 = |V| = |M |  [cof(µ), µ]
and therefore rnk(z) <  <   µ. Moreover, since the ordinal (d) has cardinality , our setup ensures that   M . The definition of the class Wn(z) also ensures that M is n(V+1)-correct. Define
j = i  -1 : M  H .
Then j is an elementary embedding satisfying j(z) = z, j() = µ   > , and j() = . In particular, we know that crit (j)   <  and j(crit (j))  j() = µ. Finally, if we have   C(n)  [µ, ), then elementarity implies that  > 0 and this allows us to conclude that  is an element of C(n)   with j() = .
The following direct consequence of the Kunen Inconsistency (see [Kan03, Corollary 23.14]) will be used in our subsequent arguments:

HUGE REFLECTION

11

Proposition 4.8. Given cardinals  <  and an ordinal  < , if j : V  V is a non-trivial elementary embedding with j() = , then crit (j) > .
Proof. Assume, towards a contradiction, that crit (j) <  holds. Then jn(crit (j)) <  <  holds for all n <  and hence we can conclude that  = supn< jn(crit (j))   < . Since j() =  and V+2  V+2  V, we know that j  V+2 : V+2  V+2 is a non-trivial elementary embedding. This contradicts the Kunen Inconsistency.
The next results show that the assumptions of Corollary 4.2 are close to optimal.
Lemma 4.9. Let µ <  be cardinals and let  < µ be an ordinal. (i) If 1({})ic-ESR(µ, ) holds, then the interval (, µ] contains a <-supercompact cardinal. (ii) Given a natural number n > 0, if C(n+1)  [µ, ) =  and n+1({})ic-ESR(µ, ) holds, then the interval (, µ] contains a [µ, )-C(n)-extendible cardinal.
Proof. (i) Pick a cardinal  >  with the property that H is sufficiently elementary in V . Since ESRW1()(µ, ) holds, an application of Lemma 4.7 shows that there is a cardinal  <   µ, a transitive set M with V  {}  M and an elementary embedding j : M  H with crit (j) < , j(crit (j))  µ, j() =  and j() = . In this situation, Proposition 4.8 shows that crit (j) > . By [Mag71, Lemma 2], the fact that V  M implies that crit (j) is <-supercompact. Since all ultrafilters witnessing this property are contained in V  M , it follows that crit (j) is <-supercompact in M and hence j(crit (j))  (, µ] is <-supercompact in both H and V .
(ii) Pick some   C(n+1)[µ, ) and   C(n+1) greater than . Since ESRWn+1()(µ, ) holds, Lemma 4.7 allows us to find a cardinal  <   µ, a cardinal   C(n+1)  , a cardinal   , a n+1(V+1)-correct transitive set M with V  {}  M , and an elementary embedding j : M  H with crit (j) < , j() = , j() = µ, j() =  and j() = . By Proposition 4.8, we have crit (j) > . Now, notice that  and j  V witness that there exists an ordinal  and an elementary embedding i : V  V with crit (i)  (, ], i()   and i()  C(n), and this statement can be expressed by a n+1-formula with parameters , ,  and . Moreover, since  + 1  M and M is n+1(V+1)-correct, this statement holds in M . By the elementarity of j and the fact that   C(n+1), we now know that, in V , there exists an ordinal  and an elementary embedding i : V  V with crit (i)  (, µ], i(µ)   and i()  C(n). This shows that crit (i)  (, µ] is a [µ, )-C(n)-extendible cardinal.
Corollary 4.10. Let  be a cardinal and let  <  be an ordinal. (i) If 1({})ic-ESR(, ) holds for a proper class of cardinals , then the interval (, ] contains a supercompact cardinal. (ii) For each natural number n > 0, if n+1({})ic-ESR(, ) holds for a proper class of cardinals , then the interval (, ] contains a [, )-C(n)-extendible cardinal.
A combination of the above results now yield short proofs of Theorems 1.2 and 1.4 stated in the Introduction.
Proof of Theorem 1.2. Let  be a singular cardinal. If  is a limit of supercompact cardinals, then Corollary 4.6 shows that 2(V)ic-ESR(, ) holds for a proper class of cardinals . In the other direction, if 1()ic-ESR(, ) holds for a proper class of cardinals , then we can apply Corollary 4.10 to show that  is a limit of supercompact cardinals.
Proof of Theorem 1.4. Let  be a singular cardinal and let n > 0 be a natural number. If  is a limit of [, )-C(n)-extendible cardinals, then Corollary 4.6 shows that n+2(V)icESR(, ) holds for a proper class of cardinals . For the other direction, if n+1(V)icESR(, ) holds for a proper class of cardinals , then Corollary 4.10 allows us to conclude that  is a limit of [, )-C(n)-extendible cardinals.
We will eventually show that the strength of the principle i1c-ESR() further increases significantly if  is a regular cardinal. More specifically, we will show (see Corollary 8.2 below and Theorem 1.7 stated in the Introduction) that this assumption implies the existence of an almost huge cardinal. The next lemma is the starting point of this analysis. It will allow

12

JOAN BAGARIA AND PHILIPP LU¨ CKE

us to show that the least regular cardinal µ satisfying inc-ESR(µ) coincides with the least cardinal  satisfying n(V )-ESR().
Lemma 4.11. Given a natural number n > 0, assume that ·  <  <  are cardinals with  <   C(n-1), · M is a transitive, n(V+1)-correct set with V  {}  M , and · j : M  H is an elementary embedding with j() = .
Then the following statements hold:
(i) If µ  ran(j)  (crit (j), ] and z  M with j(z) = z, then j(µ) > µ and n({z})ESR(µ, j(µ)) holds.
(ii) If µ = j(crit (j)), then µ   implies that n(Vµ)-ESR(µ, j(µ)) holds.
Proof. (i) Set  = j(µ) and pick   M with j() = µ. Since j() =  >  and crit (j)  , we can apply Proposition 4.8 to show that  < µ < . Fix a n-formula (v0, v1) with the property that the class C = {A | (A, z)} consists of structures of the same type. Assume, towards a contradiction, that there exists B  C of rank  with the property that for all A  C of rank µ, there exists no elementary embedding of A into B. Since  <   C(n-1), this statement holds in H and therefore the n(V+1)-correctness of M ensures that, in M , the class C consists of structures of the same type and there exists B0  C of rank µ with the property that for all A  C of rank , there exists no elementary embedding of A into B0. In this situation, the elementarity of j implies that, in H , for every A  C of rank µ, there is no elementary embedding of A into j(B0). But then this statement also holds in V and this yields a contradiction, because the n(V+1)-correctness of M implies that B0 is an element of C and the map j induces an elementary embedding of B0 into j(B0).
(ii) Set  = j(µ) > µ and fix a n-formula (v0, v1). Assume, towards a contradiction, that there exists z  Vµ with the property that C = {A | (A, z)} is a class of structures of the same type and there exists B  C of rank  such that for all A  C of rank µ, there is no elementary embedding of A into B. Then this statement also holds in H and hence, in M , there exists z0  Vcrit(j) with the property that C0 = {A | (A, z0)} is a class of structures of the same type and there exists B  C0 of rank µ such that for all A  C0 of rank crit (j), there is no elementary embedding of A into B. Since j(z0) = z0 and µ  , we can now proceed as in the proof of (i) to derive a contradiction.
Lemma 4.12. Given a natural number n > 0, let µ be a regular cardinal with the property that inc-ESR(µ, ) holds for some cardinal  > µ. Then there exists an inaccessible cardinal   µ with the property that n(V)-ESR(, ) holds for an inaccessible cardinal  <   .
Proof. Pick   C(n) greater than  and use Lemma 4.7 to find a cardinal   µ with µ  , a transitive, n(V+1)-correct set M with V  { }  M and an elementary embedding j : M  H with crit (j) < , j(crit (j))  µ, µ  ran(j) and j() = . Since V  M , we have that crit (j) is an inaccessible cardinal.
Claim. j(crit (j))  .
Proof of the Claim. Let  be minimal with   µ. Note that   . Since µ is an element of ran(j), and  is definable form µ, we can find   M with j() = . Moreover, since crit (j) is an inaccessible cardinal smaller than , we know that   crit (j). But this allows us to conclude that j(crit (j))  j() =   .
Define  = j(crit (j))  M and  = j(). Then elementarity implies that  and  are also inaccessible cardinals. Moreover, an application of the second part of Lemma 4.11 directly shows that n(V)-ESR(, ) holds.

5. The n-case for arbitrary classes
In order to study principles of exact structural reflection for n-definable classes of structures that are not necessarily closed under isomorphic copies, we analyse connections between the validity of these principles and the existence of weakly n-exact cardinals. The following variation of Definition 1.6 will allow us to state our results more precisely:

HUGE REFLECTION

13

Definition 5.1. Given cardinals  < , a set z  V and a natural number n > 0, we say that  is weakly n-exact for  and z if for every A  V+1, there exists a transitive, n(V+1)-correct set M with V  {}  M , a cardinal   C(n-1) greater than  and an elementary embedding j : M  H with j() = , j(z) = z and A  ran(j).
Proposition 5.2. If a cardinal  is weakly parametrically n-exact for some cardinal , then  is weakly n-exact for  and all z  V.
Proof. Given z  V and A  V+1, our assumptions yield a transitive, n(V+1)-correct set M with V {}  M , a cardinal   C(n-1) greater than  and an elementary embedding j : M  H with j() = , j(crit (j)) =  and A, z  ran(j). Pick z0  M with j(z0) = z. Since we have j(rnk(z0)) = rnk(z) <  = j(crit (j)), it follows that z0  M  Vcrit(j) and hence z0 = j(z0) = z.
Proposition 5.3. If  is weakly n-exact for  and z, then n({z})-ESR(, ) holds. In particular, if  is weakly parametrically n-exact for , then n(V)-ESR(, ) holds.
Proof. By our assumptions, there exists a transitive, n(V+1)-correct set M with V{}  M , a cardinal  <   C(n-1) and an elementary embedding j : M  V with j() = , j(z) = z and   ran(j). Since  > crit (j), we can apply the first part of Lemma 4.11 to conclude that n({z})-ESR(, ) holds. The second part of the proposition follows directly from Proposition 5.2.
For each natural number n > 0 and every set z, let En(z) denote the class of structures D, E, a, b, c (in the language of set theory with three additional constant symbols) with the property that rnk(D)  D, E is a well-founded and extensional relation on D and, if  : D, E  M,  is the corresponding transitive collapse, then Vrnk(D)  {rnk(D)}  M , M is n(Vrnk(D)+1)-correct, (b) = rnk(D), (c) = z and -1  rnk(D) = idrnk(D). Note that the class En(z) is definable by a n-formula with parameter z.
Lemma 5.4. Let  <  be cardinals, let z  V and let n > 0 be a natural number with the property that ESREn(z)(, ) holds. Given B  V+1 and a cardinal   C(n) greater than ,5 there exists a transitive, n(V+1)-correct set M with V  {}  M and an elementary embedding j : M  H with j() = , j(z) = z and B  ran(j). In particular, the cardinal  is weakly n-exact for  and z.
Proof. Let X be an elementary submodel of H of cardinality  with V  {, B}  Y . Pick a bijection f : X  V with f   = id and let R be the induced binary relation on V. Since the transitive collapse of V, R is the composition of f -1 and the transitive collapse of X,  and all n-formulas using parameters from the transitive part of X are absolute between V and the transitive collapse of X, it follows that the structure V, R, f (B), f (), f (z) is an element of En(z) of rank .
By our assumptions, we can find a structure D, E, a, b, c of rank  in En(z) such that there exists an elementary embedding
i : D, E, a, b, c  V, R, f (B), f (), f (z) .
Let  : D, E  M,  denote the corresponding transitive collapse. Set A = (a) and
j = f -1  i  -1 : M  H .
Then M is a transitive set with V  {}  M , A  M  V+1 with the property that M is n(V+1)-correct and j is an elementary embedding with j() = , j(A) = B and j(z) = z.
Lemma 5.4, toghether with Lemma 4.11, yield the following:
Corollary 5.5. The following statements are equivalent for all natural numbers n > 0, all cardinals  <  and all z  V:
(i) n({z})-ESR(, ).
5Since the class C(1) consists of all cardinals µ with the property that Hµ = Vµ, the given assumption ensures that  is greater than .

14

JOAN BAGARIA AND PHILIPP LU¨ CKE

(ii)  is weakly n-exact for  and z. (iii) For all A  V+1 and  <   C(n), there exists a transitive, n(V+1)-correct
set M with V  {}  M and an elementary embedding j : M  V satisfying j() = , j(z) = z and A  ran(j).
The techniques developed above now allow us to show that exact structural reflection for n-definable classes implies exact structural reflection for n-definable classes.
Proposition 5.6. Let  <  be cardinals, let z  V and let n > 0 be a natural number. Then n({z})-ESR(, ) implies n({z})-ESR(, ).
Proof. Fix a n-formula (v0, v1) with the property that the class C = {A | (A, z)} consists of structures of the same type and a structure B in C of rank . Using Corollary 5.5, we can find a cardinal  <   C(n), a transitive, n(V+1)-correct set M with V  {}  M and an elementary embedding j : M  H with j() = , j(z) = z and B  ran(j). Pick B0  M with j(B0) = B. Since   C(n), we know that (B, z) holds in H and hence (B0, z) holds in M . By the n(V+1)-correctness of M , this shows that B0 is an element of C of rank . Moreover, the map j induces an elementary embedding of B0 into B.
Arguments contained in the proofs of the above results also allow us to prove the following parametrical version of Corollary 5.5 that will be needed later on.
Lemma 5.7. Let n > 0 be a natural number, and let  be weakly parametrically n-exact for some cardinal  > . If  <   C(n) and B  V+1, then there exists a transitive, n(V+1)-correct set M with V  {}  M and an elementary embedding j : M  H satisfying j(crit (j)) = , j() =  and B  ran(j).
Proof. Pick an elementary submodel X of H of cardinality  with V  {, B}  X and a bijection f : X  V with f   = id. Let V, R, f (B), f (),  denote the corresponding structure in En() of rank  constructed in the proof of Lemma 6.4. By our assumptions, we can find a transitive, n(V+1)-correct set N with V  {}  N , a cardinal  <   C(n-1) and an elementary embedding i : N  H with i(crit (i)) = , i() =  and R, f (B), f ()  ran(i). Pick R0, a0, b0  M with i(R0) = R, i(a0) = f (B) and i(b0) = f (). Then the elementarity of i, the n(V+1)-correctness of N and the fact that V is contained in H ensure that V, R0, a0, b0,  is a structure in En() of rank  and
i  V : V, R0, a0, b0,   V, R, f (B), f (), 
is an elementary embedding. Let  : V, R  M,  denote the corresponding transitive collapse. Then M is a n(V+1)-correct set with V{}  M , -1   = id and (b0) = . If we now define
j = f -1  i  -1 : M  H ,
then j is a non-trivial elementary embedding between transitive structures with j  crit (i) = idcrit(i), j(crit (i)) =  > crit (i) = crit (j), j() =  and B  ran(j).
In the remainder of this section, we prove that for all natural numbers n > 0, exact structural reflection for n-definable classes is strictly stronger than exact structural reflection for n-definable classes. This will follow from Corollary 5.5 and the next Lemma.
Lemma 5.8. Let n > 0 be a natural number and let  be weakly parametrically n-exact for some cardinal  > . Then the set of cardinals µ <  such that n(Vµ)-ESR(µ, ) holds is stationary in .
Proof. Fix a closed unbounded subset K of . By Lemma 5.7, there exists a transitive, n(V+1)-correct set M with V  {}  M , cardinals  <  <   C(n) and an elementary embedding j : M  H with j(crit (j)) = , j() =  and K  ran(j). Then crit (j)  K. Assume, towards a contradiction, that n(Vcrit(j))-ESR(crit (j), ) fails. Then there exists a n-formula (v0, v1), z  Vcrit(j) and B  V+1 \ V with the property that the class C = {A | (A, z)} consists of structures of the same type, (B, z) holds and for all A  C of rank crit (j), there is no elementary embedding of A into B. Since  is inaccessible and therefore every elementary embedding of a structure of rank less than  into a structure

HUGE REFLECTION

15

of rank  is an element of V, there is a n-formula with parameter V that expresses the
statement that there exists a structure B  C of rank  with the property that for every
A  C of rank crit (j), there is no elementary embedding of A into B. Since M is n(V+1)correct and V  M , this yields B0  C  M of rank  with the property that, in M , for all A  Vcrit(j)+1 \ Vcrit(j) such that (A, z) holds, there is no elementary embedding of A into B0. Then, in H , for all A  V+1 \ V such that (A, z) holds, there is no elementary embedding of A into j(B0). Since  <  <   C(n), it now follows that (B0, z) holds in H and the map j  B0 : B0  j(B0) is an element of H . But this yields a contradiction, because j  B0 is an elementary embedding of B0 into j(B0) in V .

6. The n+1-case
Analogously to the theory developed in the previous section, we now analyse the relationship between the principle n+1-ESR and n-exact cardinals. First, let us consider the following variation of Definition 1.8.
Definition 6.1. Given cardinals  < , a set z  V and n < , the cardinal  is n-exact for  and z if for every A  V+1, there exists a cardinal   C(n) greater than , a cardinal   C(n+1) greater than , an elementary submodel X of H with V  {}  X, and an elementary embedding j : X  H with j() = , j(z) = z and A  ran(j).
Proposition 6.2. If a cardinal  is parametrically n-exact for some cardinal  (see Definition 1.8), then  is n-exact for  and all z  V.
Proposition 6.3. If  is n-exact for  and z, then n+1({z})-ESR(, ) holds. In particular, if  is parametrically n-exact for , then n+1(V)-ESR(, ) holds.
Proof. Pick a n+1-formula (v0, v1) with the property that the class C = {A | (A, z)} consists of structures of the same type and fix B  C of rank . By our assumptions, there exists a cardinal  <   C(n), a cardinal  <   C(n+1), an elementary submodel X of H with V  {}  X and an elementary embedding j : X  H with j() = , j(z) = z and B  ran(j). Pick A  X with j(A) = B. Then our setup ensures that (A, z) holds and hence A is a structure in C of rank . Moreover, the map j induces an elementary embedding of A into B. These computations yield the first part of the proposition. The second part follows directly from a combination of the first part and Proposition 6.2.
For each natural number n > 0 and every set z, we let Dn(z) denote the class of structures D, E, a, b, c (in the language of set theory with three additional constant symbols) with the property that for some cardinal   C(n) greater than rnk(D), there exists an elementary submodel X of H with Vrnk(D)  {rnk(D)}  X and an isomorphism  : D, E  X,  with (b) = z and (c) = rnk(D). Note that the class Dn(z) is definable by a n+1-formula with parameter z.
Lemma 6.4. Let  <  be cardinals, let z  V and let n > 0 be a natural number with the property that ESRDn(z)(, ) holds. Then  is n-exact for  and z.
Proof. Fix A  V+1,   C(n+1) greater than  and an elementary submodel Y of H of cardinality  with V  {A, }  Y . Pick a bijection f : Y  V and let R be the binary relation on V induced by f and . Then  and f -1 witness that V, R, f (A), f (z), f () is a structure of rank  in Dn(z). By our assumptions, there exists a structure D, E, a, b, c of rank  in Dn(z) and an elementary embedding
i : D, E, a, b, c  V, R, f (A), f (z), f () .
Pick a cardinal   C(n), an elementary submodel X of H and an isomorphism  : D, E  X,  witnessing that D, E, a, b, c is an element of Dn(z). Then (b) = z, (c) = ,  <  and V  {}  X. Define
j = f -1  i  -1 : X  H .
Then j is an elementary embedding with j() = , j(z) = z and A = j((b))  ran(j).

16

JOAN BAGARIA AND PHILIPP LU¨ CKE

Corollary 6.5. Let  <  be cardinals, let z  V and let n > 0 be a natural number. If  is weakly (n + 1)-exact for  and z, then  is n-exact for  and z.
Proof. By Corollary 5.5, our assumption implies that the principle n+1({z})-ESR(, ) holds and this allows us to use Corollary 5.6 to show that n+1({z})-ESR(, ) also holds true. Using Lemma 6.4, we can conclude that  is n-exact for  and z.
7. Proofs of the main theorems
We shall now give a proof of Theorems 1.7 and 1.9.
Proof of Theorem 1.7. Fix a cardinal  and a natural number n > 0. The next two claims, together with Proposition 5.3, will allow us to conclude that all
statements (i)-(iv) listed in the theorem are equivalent.
Claim. If  is the least regular cardinal with the property that inc-ESR() holds, then  is weakly parametrically n-exact for some  > .
Proof of the Claim. By Lemma 4.12 and the minimality of , we know that  is an inaccessible cardinal with the property that the principle n(V)-ESR(, ) holds for some inaccessible cardinal  > . Assume, towards a contradiction, that  is not weakly parametrically n-exact for . Then there exists A  V+1 with the property that j(crit (j)) =  holds whenever M is a transitive, n(V+1)-correct set with V  {}  M ,   C(n-1) is a cardinal greater than  and j : M  H is an elementary embedding with j() =  and A  ran(j). An application of Lemma 5.4 now allows us to find a transitive, n(V+1)correct set M with V  {}  M , a cardinal  <   C(n-1) and an elementary embedding j : M  H with j() =  and A,   ran(j). Then j(crit (j))   and hence j(crit (j)) < . Set µ = j(crit (j))  M   and  = j(µ). We can now apply Lemma 4.11 to conclude that n(Vµ)-ESR(µ, ) holds, contradicting the minimality of .
Claim. If  is the least cardinal that is weakly n-exact for some cardinal , then  is regular.
Proof of the Claim. Assume, towards a contradiction, that  is singular. By definition, we can find a cardinal  > , a cardinal  <   C(n-1), a transitive, n(V+1)-correct set M with V  {}  M and an elementary embedding j : M  H with j() =  and   ran(j). Set µ = j(crit (j)). Then elementarity implies that µ is regular and, since   j()  ran(j) implies that µ  , we know that µ < . In this situation, the second part of Lemma 4.11 implies that n-ESR(µ, j(µ)) holds and this allows us to apply Corollary 5.5 to conclude that µ is weakly n-exact for j(µ), contradicting the minimality of .
By the first claim above, the cardinal that satisfies (i) of the Theorem is greater than or equal to the cardinal that satisfies (iv), which, by Proposition 5.3, is greater than or equal to the cardinal that satisfies (ii). An application of Corollary 5.5 then shows that the cardinal satisfying (ii) is greater than or equal to the cardinal that satisfies (iii). Our second claim then shows that the cardinal satisfying (iii) is regular and this allows us to use Corollary 5.5 again to conclude that it is greater than or equal to the cardinal satisfying (i). This shows that all of these cardinals are equal.

Proof of Theorem 1.9. Fix a cardinal  and a natural number n > 0. The next two claims, together with Proposition 6.3, will allow us to conclude that all
statements (i)-(iv) listed in the theorem are equivalent.
Claim. If  is the least cardinal with the property that n+1-ESR() holds, then  is parametrically n-exact for some  > .
Proof of the Claim. Fix D  V+1. Using Lemma 6.4, we find a cardinal  <   C(n), cardinals  <  <   C(n+1), an elementary submodel X of H with V  {}  X and an elementary embedding j : X  V with j() =  and D,   ran(j). Set µ = j(crit (j))    X and  = j(µ). Assume, towards a contradiction, that n+1-ESR(µ, ) fails. Then we can find a n+1-formula  with the property that the class C = {A | (A)} consists of structures of the same type and B  C of rank  with the property that for all A  C of rank

HUGE REFLECTION

17

µ, there is no elementary embedding of A into B. Since   C(n+1), this statement also
holds in H and therefore the elementarity of j allows us to find B0  X of rank µ with the property that (j(B0)) holds in H and for all A  Vµ+1 \ Vµ such that (A) holds, there is no elementary embedding of A into j(B0) in H . But this yields a contradiction, because our setup ensures that (B0) holds in V and the fact that V  X implies that j induces an elementary embedding of B0 into j(B0) that is an element of H . In this situation, the minimality of  implies that  = µ and  = . In particular, we can conclude that  is
parametrically n-exact for .

Since Proposition 6.3 shows that n+1(V)-ESR() holds whenever  is parametrically n-exact for some cardinal  >  and therefore all statements listed in the theorem imply that
n+1-ESR() holds, the above claim allows us to conclude that all of the listed statements are equivalent.

In the remainder of this section, we show that, for all n > 0, exact structural reflection for n+1-definable classes is strictly stronger than exact structural reflection for n-definable classes. In combination with the equivalences provided by Theorems 1.7 and 1.9, the following lemma shows that, in general, the principle n(V)-ESR() does not imply the principle n+1-ESR(). This statement should be compared with the results of [Bag12, Section 4], showing that the validity of the principle SR for n-definable classes of structures is equivalent to the validity of this principle for n+1-definable classes.
Lemma 7.1. Let n > 0 be a natural number and let  be parametrically n-exact for some cardinal  > . Then the set of cardinals µ <  with the property that n(Vµ)-ESR(µ, ) holds is stationary in . In particular, there exists a cardinal µ <  that is weakly parametrically n-exact for some cardinal  > µ.
Proof. Fix a closed unbounded subset K of . Using our assumptions, we can find a cardinal  <   C(n), a cardinal  <   C(n+1), an elementary submodel X of H with V  {}  X and an elementary embedding j : X  H with j() = , j(crit (j)) =  and K  ran(j). Then crit (j) is an element of K.
Now, assume towards a contradiction, that there is a n-formula (v0, v1) and z  Vcrit(j) such that the class C = {A | (A, z)} consists of structures of the same type and there exists B  C of rank  such that for all A  C of rank crit (j), there is no elementary embedding from A into B. Since  <   C(n), these statements hold in H and we can find B  C X of rank  with the property that for every A  C of rank crit (j), there is no elementary embedding of A into B. In this situation, since  <   C(n+1), elementarity implies that j(B) is an element of C and for every A  C of rank , there is no elementary embedding of A into j(B). But this yields a contradiction, because the fact that V is a subset of X implies that j induces an elementary embedding of B into j(B).
The above computations yield the first part of the lemma. The second part follows directly from a combination of the first part with Theorem 1.7.
We end this section by proving the following parametrical version of Corollary 6.5:
Proposition 7.2. Given a natural number n > 0, if a cardinal  is weakly parametrically (n + 1)-exact for some cardinal , then  is also parametrically n-exact for .
Proof. Fix A  V+1, a cardinal  <   C(n+1), an elementary submodel Y of H of cardinality  with V  {A, }  Y and a bijection b :   Y with b(0) =  and b( · (1 + )) =  for all  < . Set R = { ,  | b()  b()}  V+1. By Lemma 5.7, there exists a transitive, n+1(V+1)-correct set M with V  {}  M and an elementary embedding j : M  H with j(crit (j)) = , j() =  and A, R  ran(j). Pick A0, R0  M with j(A0) = A and j(R0) = R. Now, note that, since n > 0, the statement "There exists a cardinal  <   C(n) and an elementary embedding k : , R  H,  with V {A, }  ran(k), k(0) =  and k( ·(1+)) =  for all  < " can be expressed by n+1formula with parameters  and A, and therefore this statement also holds in H . Using the elementarity of j and the n+1-correctness of M , we can find a cardinal  <   C(n) and

18

JOAN BAGARIA AND PHILIPP LU¨ CKE

an elementary embedding i : , R0  V ,  with V  {A0, }  ran(i), i(0) =  and i( · (1 + )) =  for all  < . Set X = ran(i) and
j0 = b  j  i-1 : X  H .
Then X is an elementary submodel of H with V  {A0, }  X and, since i(crit (j)) = crit (j), b() =  and j   : , R0  , R is an elementary embedding, the map j0 is an elementary embedding with j0  crit (j) = idcrit(j), j0(crit (j)) = , j0() =  and A  ran(j0).

8. The strength of exact cardinals

In this section, we measure the strength of the principles of exact structural reflection introduced above by positioning exact and weakly exact cardinals in the hierarchy of large cardinals. We start by deriving lower bounds for their consistency strength by showing that the existence of such cardinals implies the existence of many almost huge cardinals below them.
Recall that a cardinal  is almost huge if there exists a transitive class M and a nontrivial elementary embedding j : V  M with crit (j) =  and <j()M  M . We then say that a cardinal  is almost huge with target  if there exists an embedding j witnessing the hugeness of  with j() = .
The following standard argument will allow us to prove these implications:

Lemma 8.1. Let  <  be cardinals with the property that there exists a non-trivial elementary embedding j : V  V with j(crit (j)) = . Then crit (j) is almost huge with target .

Proof. Set µ = crit (j). Given µ   < , define

U = {A  Pµ() | j[]  j(A)}.

Then it is easy to see that for every µ   < , the collection U is a normal ultrafilter over Pµ(). Moreover, this definition directly ensures that

U = {{a   | a  A} | A  U}
holds for all µ     < . Now, given µ   < , we let i : V  M denote the ultrapower embedding induced
by U. In addition, for all µ     < , we let k, : M  M denote the canonical embedding satisfying i = k,  i (see [Kan03, p. 333]).

Claim. If ¯   <  and    < i(¯), then there exists    <  with k,() = .

Proof of the Claim. Pick a function f : Pµ()  µ with [f ]U =  and define  = j(f )(j[]) < .

Since normality allows us to conclude that [a  ot(a)]U = , we know that

{a  Pµ() | ot(a)  f (a)}  U

and hence

 = ot(j[])  j(f )(j[]) = .

Moreover, we have

j(f )(j()  j[]) = j(f )(j[]) =  = ot(j[])

and hence {a  Pµ() | f (a  ) = ot(a)}  U. But then

k,() = k,([f ]U ) = [a  f (a  )]U = [a  ot(a)]U = .

By [Kan03, Theorem 24.11], this shows that µ is almost huge with target .

Corollary 8.2. Let  <  be cardinals with the property that  is either parametrically 0-exact for  or weakly parametrically 1-exact for . Then the set of cardinals µ <  with the property that µ is almost huge with target  is stationary in .

HUGE REFLECTION

19

Proof. Let C be a closed unbounded subset of . By definition, both of the listed assumption imply the existence of a non-trivial elementary embedding j : V  V with j(crit (j)) =  and C  ran(j). Then crit (j) is an element of C and Lemma 8.1 shows that crit (j) is almost huge with target .

Corollary 8.3. Let  be a cardinal that is parametrically 0-exact for some cardinal  > . Then  is almost huge with target .
Proof. By definition, there exist a cardinal  > , a cardinal  <   C(1), an elementary submodel X of H with V  {}  X and an elementary embedding j : X  H with j() =  and j(crit (j)) = . Then Lemma 8.1 implies that crit (j) is almost huge with target . Since the system of filters witnessing this statement is contained in H , the model X also contains such a system. But then the elementarity of j implies that, in H , there is a system of ultrafilters witnessing that  is almost huge with target . Since  <   C(1), this statement also holds in V .

Recall that a cardinal  is huge if there exists a transitive class M and a non-trivial elementary embedding j : V  M with crit (j) =  and j()M  M . We then say that a cardinal  is huge with target  if there exists an embedding j witnessing the hugeness of  with j() = . It is well-known that  is huge with target  if and only if there exists a -complete normal ultrafilter U over P() such that {x  P() | otp (x) = }  U (see [Kan03, Theorem 24.8]).
Proposition 8.4. If  is huge with target , then  is weakly parametrically 1-exact for .
Proof. Let M be an inner model with M  M and let j : V  M be an elementary embedding with crit (j) =  and j() = . Fix A  V+1 and let N be an elementary submodel of H+ of cardinality  with V  {A, }  N . We then have N  M and, since H+ = HM+ , 1-absoluteness implies that N is 1(V+1)-correct in M . Set j0 = j  N : N  HjM()+ . Then j0 is an elementary embedding that is an element of M . Thus, in M , there exists a transitive, 1(Vj()+1)-correct set K with Vj()  {j()}  K (namely N) and an elementary embedding k : K  Hj(+) with k(crit (k)) = j(), k(j()) = j() and j(A)  ran(k) (namely j0) Hence, the elementarity of j implies that, in V , there exists a transitive, 1(V+1)-correct set K with V  {}  K and an elementary embedding k : K  H+ with k(crit (k)) = , k() =  and A  ran(k).
This result also allows us to show that the consistency strength of huge cardinals is strictly larger than the consistency strength of weakly 1-exact cardinals.
Corollary 8.5. If  is huge with target , then 1(V)-ESR() holds in V.
Proof. Let j : V  N be an elementary embedding with critical point  such that j() =  and N is closed under -sequences. Note that V+1  Vj() = VjN(). Fix a 1-formula (v0, v1) and z  V with the property that, in VjN(), the class {A | (A, z)} consists of structures of the same type. Pick a structure B of rank  with the property that (B, z) holds in VjN(). Since H(+)  VjN(), 1-absoluteness implies that (B, z) also holds in V . By our assumptions, we can now apply Proposition 8.4 to find a structure A of rank  with the property that (A, z) holds in V and an elementary embedding of A into B. But then A is contained in VjN(), (A, z) holds in VjN() and the map i is an element of VjN().
These computations show that the principle 1(V)-ESR(, ) holds in VjN(). Using the elementarity of j, we can now conclude that 1(V)-ESR() holds in V.
We now show that the implication given by Proposition 8.4 is optimal. Note that, by Corollary 6.5, the next result also shows that the least huge cardinal  is not weakly 2-exact for some cardinal  > .
Proposition 8.6. If  is the least huge cardinal, then  is not 1-exact for any cardinal  > .

20

JOAN BAGARIA AND PHILIPP LU¨ CKE

Proof. Assume, towards a contradiction, that there exists a cardinal  <   C(1), cardinals  <   C(2), an elementary submodel X of H with V  {}  X and an elementary embedding j : X  H with j() = . Note that the statement "There exists a huge cardinal smaller than " can be formulated by a 2-formula with parameter  and, since  <   C(2), this statement holds in H . But then the elementarity of j and the fact that   C(1) allow us to conclude that there exists a huge cardinal smaller than , a contradiction.
The next proposition gives a consistency upper bound for the existence of a parametrically exact cardinal. Recall that an I1-embedding is a non-trivial elementary embedding j : V+1  V+1 for some limit ordinal . Also, an I2-embedding is an elementary embedding j : V  M for some transitive class M such that V  M for some limit ordinal  > crit (j) satisfying j() = . Finally, an I3-embedding is a non-trivial elementary embedding j : V  V, for some limit ordinal  (see [Kan03, §24]). Note that, if j : V  V is an I3-embedding with critical point , then V is a model of ZFC and the sequence jm() | m <  is cofinal in .
Proposition 8.7. Assume that  is the critical point of an I3-embedding j : V  V. If l, m, n < , then, in V, the cardinal jl() is parametrically n-exact for jl+m+1().
Proof. Given 0 < m < , set m = jm(). Then, in V, every m is inaccessible and belongs to C(n), for all n < . Pick 0 < m < , set  = m and fix A  V+1. Then, in V, the map jm  Hm+1 : Hm+1  H2m+1 witnesses that there exists an elementary embedding i : Hjm(1)  Hjm(m+1) with jm(A)  ran(i), i(jm()) = jm() and i(crit (i)) = jm(). But then the elementarity of jm : V  V implies that, in V, there exists an elementary embedding i : H1  Hm+1 with A  ran(i), i() =  and i(crit (i)) = . Since  < 1  (Cn)V and  < m+1  (C(n))V for all n < , these computations show that, in V, the cardinal  is parametrically n-exact for  for all n < . By elementarity of the iterated embedding jl, this yields the statement of the proposition.
In the following, we will derive a much lower upper bound for the consistency strength of the existence of a cardinal  that is weakly parametrically n-exact for some cardinal  for all n < .
Definition 8.8. Given a natural number n > 0, a cardinal  is n-superstrong if there exists a transitive class M and an elementary embedding j : V  M with crit (j) =  and Vjn()  M . If, moreover, j()Vjn()  M , then we say that  is hugely n-superstrong.
Notice that, given an elementary embedding j : V  M and a natural number n > 1, the embedding j witnesses that  is hugely n-superstrong if and only if it witnesses that  is n-superstrong and cof(jn()) > j(). Also note that every huge cardinal is hugely 1-superstrong and, for n > 1, every almost n-huge cardinal6 is hugely n-superstrong.
Proposition 8.9. If  is a hugely 2-superstrong cardinal, then there exists an inaccessible cardinal  >  and a cardinal  >  such that V is a model of ZFC and, in V, the cardinal  is weakly parametrically n-exact for  for all natural numbers n > 0.
Proof. Let j : V  M with be an elementary embedding with M transitive, crit (j) = , Vj2()  M , and j()Vj2()  M . Set  = j() and  = j2(). Then our assumptions ensure that  is an inaccessible cardinal and  is a cardinal with the property that V is a model of ZFC. Notice that, since V Vj() = V, elementarity implies that V = Vj() Vj() = V and therefore also V = Vj() VjM().
Now, fix A  V+1 and, in M , pick an elementary submodel X of V of cardinality  with V  {A, }  X. Let  : X  N denote the corresponding transitive collapse. Then V  {A, }  N . Moreover, since   (V+1  X) = idV+1X , it follows that N is n(V+1)correct in V for all n < . But since V VjM(), the set N is also n(V+1)-correct in VjM()

6Recall that  is almost n-huge if there exists an elementary embedding j : V  M , with crit (j) = , and with M transitive and closed under <jn()-sequences.

HUGE REFLECTION

21

for all n < . Finally, pick a bijection b : X   with b() = 0 and b() =  · (1 + ) for all  < . Set
E = { b(x0), b(x1) | x0, x1  X, x0  x1}  M.
Then the map j   : , E  , j(E) is an elementary embedding of L-structures and, since it is a subset of V of cardinality , the closure properties of M ensure that this map is an element of M .
We now have that, in M , the map
i = j(b-1)  (j  )  b  -1 : N - VjM()
is an elementary embedding with i   = id, i() = j() = , i() = j() =  and j(A)  ran(i). Finally, we know that N  V, because N is a subset of V of cardinality  in M and  is inaccessible in M . Since the closure properties of M imply that  is a limit cardinal of cofinality greater than  in V , we can find an M -cardinal  <  < j() with j(N )  HM  VjM().
Fix 0 < n < . The above computations now show that, in VjM(), there exists a cardinal  <   C(n), a transitive n(V+1)-correct set N with V  {}  N and a non-trivial elementary embedding i : N  H with i(crit (i)) = , i() =  and j(A)  ran(i). In this situation, the elementarity of j implies that, in V, there exists a cardinal  <   C(n), a transitive n(V+1)-correct set N0 with V  {}  N0 and a non-trivial elementary embedding i0 : N0  H with i0(crit (i0)) = , i0() =  and A  ran(i0).

9. Beyond huge reflection
In this section, we introduce a generalization of the principle ESRC(, ) to sequences of cardinals in order to obtain principles of structural reflection that imply the existence of even stronger large cardinals. The following definition is motivated by the formulation of Chang's Conjecture.
Definition 9.1. Let 0 <    and let L be a first-order language containing unary predicate symbols P = Pi | i <  .
(i) Given a sequence µ = µi | i <  of cardinals with supremum µ, an L-structure A has type µ (with respect to P ) if the universe of A has rank µ and rnk(PiA) = µi for all i < .
(ii) Given a class C of L-structures and a strictly increasing sequence  = i | i < 1 +  of cardinals, we let ESRC() denote the statement that for every structure B in C of type i+1 | i < 1 +  , there exists an elementary embedding of a structure A in C of type i | i <  into B.
(iii) Given a definability class  and a class P , we let (P )-ESR() denote the statement that ESRC() holds for every class C of structures of the same type that is definable with parameters in P .
In order to determine the large cardinal strength of the above principles, we consider the following sequential versions of n-exact and weakly n-exact cardinals:
Definition 9.2. Let 0 <    and let  = m | m <  be a strictly increasing sequence of cardinals with supremum .
(i) Given n < , a cardinal  < 0 is n-exact for  if for every A  V+1, there exists a cardinal ,7 a cardinal   C(n) greater than , a cardinal   C(n+1) greater than , an elementary submodel X of H with V  {}  X, and an elementary embedding j : X  H with A  ran(j), j() = , j() = 0 and j(m-1) = m for all 0 < m < . If we further require that j(crit (j)) = , then we say that  is parametrically n-exact for .

7Note that, in both parts of this definition, the listed requirements ensure that there is a unique cardinal  with these properties. If  = 1, then  = 0 and  = . Next, if 1 <  < , then  = -1 and  = -2. Finally, if  = , then  = .

22

JOAN BAGARIA AND PHILIPP LU¨ CKE

(ii) Given 0 < n < , a cardinal  < 0 is weakly n-exact for  if for every A  V+1, there exists a cardinal , a transitive, n(V+1)-correct set M with V  {}  M , a cardinal   C(n-1) greater than  and an elementary embedding j : M  H with A  ran(j), j() = , j() = 0 and j(m-1) = m for all 0 < m < . If we further require that j(crit (j)) = , then we say that  is parametrically weakly n-exact for .
Note that, if n > 0 is a natural number and i | i  n is a strictly increasing sequence of cardinals such that 0 is weakly 1-exact for i+1 | i < n , then the instance
(n, . . . , 1, 0)  (n-1, . . . , 0, <0)
of Chang's Conjecture (see, for example, [For10, p. 914]) holds true. Analogous implications hold true for sequences of cardinals of length .
We show next that the large cardinal notions introduced above are located in the uppermost regions of the large cardinal hierarchy. Recall that, given a natural number n > 0, a cardinal  is n-huge if there exists a transitive class M and an elementary embedding j : V  M with crit (j) =  and jn()M  M .
Proposition 9.3. Let n > 0 be a natural number.
(i) If  is an n-huge cardinal, witnessed by an elementary embedding j : V  M , then  is weakly parametrically 1-exact for the sequence jm+1() | m < n .
(ii) If  is a cardinal and  = m | m  n is a sequence of cardinals such that  is either weakly 1-exact for  or 0-exact for , then some cardinal less than  is n-huge.
Proof. (i) Set  = jn-1() and  = jn(). Fix A  V+1. Let N be an elementary submodel of H+ of size  with V{, A}  N . Then N is an element of M and N is 1(V+1)-correct in M . Since the map j  N : N  HjM()+ is also contained in M , elementarity allows us to conclude that, in V , there exists a transitive, 1(V+1)-correct set K with V  {}  K and an elementary embedding k : K  H+ with A  ran(k), k() = , k(crit (k)) =  and k(jm()) = jm+1() for all m < n.
(ii) Set  = n and  = n-1. Both of our assumptions then yield a cardinal  > , a set X with V  {}  X and an elementary embedding j : X  H with j() = 0 and j(m-1) = m for all 0 < m  n. Set µ = crit (j) < . An easy induction then shows that jm+2(µ)  m holds for all m  n. In particular, we have jn(µ) <  and therefore i = j  V : V  V is an elementary embedding with crit (i) = µ and in(µ) < . Using results of Kanamori (see [Kan03, Theorem 24.8]), we can now conclude that µ is n-huge.
Proposition 9.4. Let  = m | m <  be a strictly increasing sequence of cardinals with supremum  and let  < 0 be a cardinal.
(i) If  is either weakly 1-exact for  or 0-exact for , then there exists an I3-embedding j : V  V.
(ii) If  is either parametrically weakly 1-exact for  or parametrically 0-exact for , then the set of critical points of I3-embeddings is stationary in .
Proof. (i) Both of our assumptions ensure that there exists a cardinal  > , a set X with V  {}  X and an elementary embedding j : X  H with j() =  and j(m-1) = m for all 0 < m < . Then j  V is an I3-embedding.
(ii) Fix a closed unbounded subset C of . By our assumptions, there exists a cardinal  > , a set X with V  {}  X and an elementary embedding j : X  H with C  ran(j), j(crit (j)) = , j() =  and j(m-1) = m for all 0 < m < . Then crit (j)  C and the map j  V : V  V is an I3-embedding with critical point crit (j).
Proposition 9.5. If  is the critical point of an I1-embedding j : V+1  V+1 and k > 0 is a natural number, then  is weakly parametrically 1-exact for jk(m+1)() | m <  .
Proof. By standard coding arguments, our assumptions yields an elementary embedding i : H+  H+ with i  V = j  V and therefore i  V = idV . Fix A  V+1 and

HUGE REFLECTION

23

pick an elementary submodel N of H+ of cardinality  with   {A, }  N . Then 1-
absoluteness implies that N is 1(V+1)-correct. In this situation, the set N and the map ik  N : N  ik(N ) witness that, in H+ , there exists a transitive, 1(V+1)-correct set M with V  {}  M and an elementary embedding l : M  ik(N ) with ik(A)  ran(l), l(crit (l)) = ik(), l(ik()) = ik(jk()) and l(ik(jkm())) = ik(jk(m+1)()) for all 0 < m < . Using the elementarity of ik : V+1  V+1, 1-absoluteness and the fact that N is an
elementary submodel of H+ , we can now conclude that there exists a transitive, 1(V+1)-
correct set M with V  {}  M and an elementary embedding l : M  H+ with A  ran(l), l(crit (l)) = , l() = jk() and l(jkm()) = jk(m+1)() for all 0 < m < .

In the remainder of this section, we show how the validity of the principle ESR() is connected to the existence of cardinals that are exact or weakly exact for certain sequences of cardinals.
Lemma 9.6. The following statements are equivalent for every natural number n > 0, every ordinal 0 <   , every strictly increasing sequence  = i | i < 1 +  of uncountable cardinals with supremum , and all z  V0 :
(i) n({z})-ESRC(). (ii) For every A  V+1, there exists a cardinal , a transitive, n(V+1)-correct set
M with V  {}  M , a cardinal  <   C(n-1) and an elementary embedding j : M  H such that A  ran(j), j(z) = z, j() =  and j(i) = i+1 for all i < . (iii) For all cardinals  <   C(n) and every A  V+1, there exists a cardinal , a transitive, n(V+1)-correct set M with V {}  M and an elementary embedding j : M  H such that A  ran(j), j(z) = z, j() =  and j(i) = i+1 for all i < .
Proof. First, assume that (ii) holds. Fix a n-formula (v0, v1) with the property that C = {A | (A, z)} is a suitable class of structures and pick a structure B in C of type i+1 | i <  . Since B  V+1, we can find a cardinal , a transitive, n(V+1)-correct set M with V  {}  M , a cardinal  <   C(n-1) and an elementary embedding j : M  H such that A,   ran(j), j(z) = z, j() =  and j(i) = i+1 for all i < . Elementarity then implies that  is the supremum of the sequence i | i <  . Moreover, the fact that   C(n-1) implies that n-statements are downwards absolute from V to H , and this allows us to conclude that (B, z) holds in H . Pick A  M  V+1 with j(A) = B. In this situation, the elementarity of j and the fact that j(i) = i+1 holds for all i <  cause (A, z) to hold in M and, by the n(V+1)-correctness of M , this shows that A is a structure of type i | i <  in C. Finally, since A has rank  and V is a subset of M , the map j induces an elementary embedding of A into B. This shows that (i) holds in this case.
Next, assume that (i) holds and we shall prove (iii). So fix a cardinal  <   C(n) and A  V+1. Define L to be the first-order language extending L by predicate symbols P = Pi | i <  and constant symbols A,  , z and  i | i <  . Define C to be the class of all
L-structures D, E, P , a, b, c, d with the property that E is a well-founded and extensional
relation on D and, if P = Pi | i <  , d = di | i <  and  : D, E  M,  is the induced transitive collapse, then the following statements hold:
· rnk(D) is a cardinal and Vrnk(D)  {rnk(D)}  M . · M is n(Vrnk(D)+1)-correct. · (b) = rnk(D), (c) = z and (di) = rnk(Pi) for all i < . · rnk(Pi) | i <  is a strictly increasing sequence of cardinals with supremum
rnk(D).
Then C is definable by a n-formula with parameter z. Now, let X be an elementary substructure of V of cardinality  with V  {A, }  X.
Pick a bijection f : X  V and let R denote the induced binary relation on V. These choices ensure that the transitive collapse of V, R is n(V+1)-correct and this allows us

24

JOAN BAGARIA AND PHILIPP LU¨ CKE

to conclude that
V, R, i+1 | i <  , f (A), f (), f (z), f (i+1) | i < 
is a structure in C of type i+1 | i <  . By our assumptions, there exists an elementary embedding i of a structure
D, E, Pi | i <  , a, b, c, di | i < 
of type i | i <  in C into the above structure. Let  : D, E  M,  denote the corresponding transitive collapse and set
j = f -1  i  -1 : M  H .
Set  = (b) = rnk(D) = supi< i. Then M is a n(V+1)-correct set with V  {}  M and j is an elementary embedding with j() = , j(z) = z and A  ran(j). Moreover, given i < , we now have i = rnk(Pi) = (di) and this allows us to conclude that
j(i) = (f -1  i)(di) = i+1.
This shows that (iii) holds in this case. Since (iii) obviously implies (ii), this concludes the proof of the lemma.
Corollary 9.7. Let 0 < n < , let 0 <    and let  = i | i < 1 +  be a strictly increasing sequence of cardinals.
(i) The cardinal 0 is weakly n-exact for i+1 | i <  if and only if n-ESR() holds. (ii) If 0 is weakly parametrically n-exact for i+1 | i <  , then n(V0 )-ESR()
holds.
In the case of sequences of finite length, we can now generalize Theorem 1.7 to principles of the form n-ESR().
Theorem 9.8. The following statements are equivalent for every cardinal  and all natural numbers n,  > 0:
(i)  is the least cardinal such that there exists a strictly increasing sequence ¯ = i | i <  + 1 of cardinals with 0 =  and the property that n-ESR() holds.
(ii)  is the least cardinal such that there exists a strictly increasing sequence ¯ = i | i <  + 1 of cardinals with 0 =  and the property that n(V)-ESR() holds.
(iii)  is the least cardinal that is weakly n-exact for some strictly increasing sequence of cardinals greater than  of length .
(iv)  is the least cardinal that is weakly parametrically n-exact for some strictly increasing sequence of cardinals greater than  of length .
Proof. Let  be the least cardinal such that there exists a strictly increasing sequence  = i | i <  + 1 of cardinals with 0 =  and the property that n-ESR() holds. Set  =  and  = -1. Pick  >  with the property that V is sufficiently elementary in V .
Claim.  is weakly parametrically n-exact for i+1 | i <  .
Proof of the Claim. If the above statement fails, then we can apply Lemma 9.6 to find a transitive, n(V+1)-correct set M with V  {}  M and an elementary embedding j : M  V with j(crit (j)) <  and j(i) = i+1 for all i < . Given i <  + 2, set µi = ji(crit (j)). Then µi+1  i for all i <  + 1. Since µ1 < , the minimality of  yields a n-formula (v) with the property that the class C = {A | (A)} consists of structures of the same type and there exists a structure B of type µi+2 | i <  in C such that for every structure A of type µi+1 | i <  in C, there exists no elementary embedding of A into B. By the choice of , these statements are absolute between V and V . Elementarity now implies that, in M , there exists a structure B0 of type µi+1 | i <  with the property that (B0) holds and for every structure A of type µi | i <  such that (A) holds, there is no elementary embedding of A into B0. Since M is n(V+1)-correct and V is sufficiently elementary in V , it follows that both (B0) and (j(B0)) hold in V . But we can now use the elementarity of j to derive a contradiction, because j(B0) is a structure of type

HUGE REFLECTION

25

µi+2 | i <  , B0 is a structure of type µi+1 | i <  and the map j induces an elementary embedding of B0 into j(B0) that is an element of V .
With the help of the above claim, we can apply Corollary 9.7 to conclude that all statements listed in the theorem are equivalent.

Note that the above proof cannot be directly generalized to sequences of cardinals of length , because, if  is the least cardinal with the property that n-ESR() holds for some strictly increasing sequence  = i | i <  of cardinals with 0 =  and supremum , we assume that  is not weakly parametrically n-exact for i+1 | i <  and we repeat the above construction to obtain a transitive, n(V+1)-correct set M with V  {}  M and an elementary embedding j : M  V with j(crit (j)) <  and j(i) = i+1 for all i < , then we do not know wheter the sequence ji+1(crit (j)) | i <  is contained in the range of j and this stops us from repeating the above minimality argument.
Analogously to the above results, the statement of Theorem 1.9 can be generalized to the context of this section.
Lemma 9.9. The following statements are equivalent for every natural number n > 0, every ordinal 0 <   , every strictly increasing sequence  = i | i < 1 +  of uncountable cardinals with supremum , and all z  V0 :
(i) n+1({z})-ESRC(). (ii) For every A  V+1, there exists a cardinal , a cardinal   C(n) greater than
, a cardinal   C(n+1) greater than , an elementary submodel X of H with V{}  X, and an elementary embedding j : X  H with A  ran(j), j(z) = z, j() =  and j(i) = i+1 for all i < .
Proof. Assume that (ii) holds. Pick a n+1-formula (v0, v1) with the property that the class C = {A | (A, z)} consists of suitable structures and fix a structure B in C of type i+1 | i <  . Since B  V+1, there exists a cardinal ,  <   C(n) and  <   C(n+1), an elementary submodel X of V with V {}  X, and an elementary embedding j : X  H with B  ran(j), j(z) = z, j() =  and j(i) = i+1 for all i < . Pick A  X be such that j(A) = B. Since   C(n+1), we know that (B, z) holds in V . The elementarity of j then implies that (A, z) holds in V and, since   C(n), we may then conclude that A  C. Moreover, since j(i) = i+1 holds for all i < , elementarity allows us to conclude that A has type i | i <  . Finally, elementarity also implies that A has rank  and, since V is a subset of X, the map j induces an elementary embedding of A into B.
Next, assume that (i) holds and fix A  V+1. Let L to be the first-order language extending L by predicate symbols P = Pi | i <  and constant symbols A, z and  i | i <  . Define C to be the class of all L-structures D, E, P , a, b, c, d for which there exists   C(n) and an isomorphism  between D, E and an elementary substructure of H with the property that, if P = Pi | i <  and d = di | i <  , then the following statements hold:
· rnk(D) is a cardinal and Vrnk(D)  {rnk(D)}  X. ·  (b) = rnk(D),  (c) = z and  (di) = rnk(Pi) for all i < . · rnk(Pi) | i <  is a strictly increasing sequence of cardinals with supremum
rnk(D).
Then the class C is then n+1-definable with parameter z. Pick  <   C(n+1), an elementary substructure Y of H of cardinality  with
V  {A, }  Y and a bijection f : Y  V. If we now let R denote the binary relation on V induced by f , then the resulting L-structure
V, R, i+1 | i <  , f (A), f (), f (i+1) | i < 
is an element of C of type i+1 | i <  . Set  = supi< i. By our assumptions, there
exists an elementary embedding i of a structure D, E, P , a, b, c, d of type i | i <  in C into the above structure. Pick a cardinal   C(n), an elementary submodel X of H and an isomorphism  : D, E  X,  witnessing that the given structure is contained in C.

26

JOAN BAGARIA AND PHILIPP LU¨ CKE

Then  is a cardinal with  (b) =  = rnk(D) and V  {}  X. Moreover, we have  (c) = z and i = rnk(Pi) =  (di) for all i < . If we now define
j = f -1  i   -1 : X  H ,
then j is an elementary embedding with A  ran(j), j(z) = z, j() =  and j(i) = i+1 for all i < .
Corollary 9.10. Let 0 < n < , let 0 <    and let  = i | i < 1 +  be a strictly increasing sequence of cardinals.
(i) The cardinal 0 is n-exact for i+1 | i <  if and only if n+1-ESR() holds. (ii) If 0 is parametrically n-exact for i+1 | i <  , then n+1(V0 )-ESR() holds.
As above, we can now generalize Theorem 1.9 to the principle n+1-ESR() for finite sequences of cardinals .
Theorem 9.11. The following statements are equivalent for every cardinal  and all natural numbers n,  > 0:
(i)  is the least cardinal such that there exists a strictly increasing sequence ¯ = i | i <  + 1 of cardinals with 0 =  and the property that n+1-ESR() holds.
(ii)  is the least cardinal such that there exists a strictly increasing sequence ¯ = i | i <  + 1 of cardinals with 0 =  and the property that n+1(V)-ESR() holds.
(iii)  is the least cardinal that is n-exact for some strictly increasing sequence of cardinals greater than  of length .
(iv)  is the least cardinal that is parametrically n-exact for some strictly increasing sequence of cardinals greater than  of length .
Proof. Assume that  is the least cardinal such that n+1-ESR() holds for some strictly increasing sequence  = i | i <  + 1 of cardinals with 0 = . Set  =  and  = -1. Pick  >  with the property that V is sufficiently elementary in V .
Claim.  is parametrically n-exact for i+1 | i <  .
Proof of the Claim. Assume not. Using Lemma 9.9, we find  <   C(n),  <   C(n+1), an elementary submodel X of H with V {}  X and an elementary embedding j : X  H with j(crit (j)) <  and j(i) = i+1 for all i < . Given i <  + 2, set µi = ji(crit (j)). Since µ1 < , the minimality of  yields a n+1-formula (v) with the property that the class C = {A | (A)} consists of structures of the same type and there exists a structure B of type µi+2 | i <  in C such that for every structure A of type µi+1 | i <  in C, there exists no elementary embedding of A into B. Our set up now ensures that, in X, there exists a structure B0 of type µi+1 | i <  with the property that (B0) holds and for every structure A of type µi | i <  such that (A) holds, there is no elementary embedding of A into B0. Then both (B0) and (j(B0)) hold in V , and j induces an elementary embedding of B0 into jB0 that is an element of V . Since B0 has type µi+1 | i <  = j( µi | i <  ) and j(B0) has type µi+2 | i <  = j( µi+1 | i <  ), we can now use the elementarity of j to derive a contradiction.
A combination of this claim and Corollary 9.10 now yields the desired equivalences.

10. Open questions and concluding remarks
We close this paper by discussing some questions raised by the above results. First, recall that a cardinal  is superhuge if there is a proper class of cardinals  with the property that  is huge with target . In order to study principles of structural reflection related to superhugeness, Proposition 8.4 suggests to study cardinals  with the property that the principle 1-ESR(, ) holds for a proper class of cardinals . By Corollary 5.5, this property is equivalent to the assumption that  is weakly 1-exact for a proper class of cardinals . Therefore, it is natural to ask whether a variation of Theorem 1.7 can be proven for these cardinals.

HUGE REFLECTION

27

Question 10.1. Are the following statements equivalent for every cardinal  and every natural number n > 0?
(i)  is the least cardinal that is parametrically n-exact for a proper class of cardinals .
(ii)  is the least cardinal with the property that n+1-ESR(, ) holds for a proper class of cardinals .
Our next question deals with the exact position of n-exact and weakly n-exact cardinals in the large cardinal hierarchy. By Corollary 8.2 and Proposition 8.9, these notions are properly contained in the interval given by almost hugeness and almost 2-hugeness. Moreover, Corollary 8.5 shows that hugeness is strictly stronger than weak 1-exactness. Finally, Proposition 8.6 implies that, if  is the least huge cardinal, then 2-ESR(, ) fails for all  > . These results leave open the precise relationship between hugeness and exactness, and motivate the following question:
Question 10.2. Does the consistency of the theory ZFC + "there exists a huge cardinal" imply the consistency of the theory ZFC + "2-ESR() holds for some cardinal "?
The results of [For09, Section 2.2.1] might provide tools to derive a negative answer to this question.
We finally discuss some questions left open about the infinite sequential versions of exact structural reflection principles introduced in Section 9. In the light of Proposition 9.5, it is natural to ask whether the consistency of principles of the form n-ESR() for infinite sequences  of cardinals can be established from some very strong large cardinal assumption (like ZFC + "There exists an I0-cardinal ", or ZF + "There exists a Reinhardt cardinal "), or whether these principles are outright inconsistent.
Question 10.3. Does ZFC prove that the principle 2-ESR() fails for every strictly increasing sequence  of cardinals of length ?
Finally, as noted in the discussion following Theorem 9.8, our techniques do not allow us to generalize Theorem 1.7 to principles of the form ESR() for infinite sequences . This motivates the following question:
Question 10.4. If  is the least cardinal with the property that n-ESR() holds for some strictly increasing sequence  of cardinals of length  with minimum , is  weakly parametrically n-exact for some strictly increasing sequence of cardinals greater than  of length ?

References

[Bag]

Joan Bagaria. Large cardinals as principles of structural reflection. To appear.

[Bag12] Joan Bagaria. C(n) -cardinals. Archive for Mathematical Logic, 51:213­240, 2012.

[BCMR15] Joan Bagaria, Carles Casacuberta, A. R. D. Mathias, and Jir´i Rosicky´. Definable orthogonal-

ity classes in accessible categories are small. Journal of the European Mathematical Society,

17(3):549­589, 2015.

[BV16] Joan Bagaria and Jouko V¨a¨an¨anen. On the symbiosis between model-theoretic and set-theoretic

properties of large cardinals. The Journal of Symbolic Logic, 81(02):584­604, June 2016.

[BW]

Joan Bagaria and Trevor M. Wilson. The weak Vopenka Principle for definable classes of struc-

tures. To appear.

[DJK81] Hans-Dieter Donder, Ronald B. Jensen, and Bernd J. Koppelberg. Some applications of the core

model. In Set theory and model theory (Bonn, 1979), volume 872 of Lecture Notes in Math.,

pages 55­97. Springer, Berlin-New York, 1981.

[For09] Matthew Foreman. Smoke and mirrors: combinatorial properties of small cardinals equiconsistent

with huge cardinals. Adv. Math., 222(2):565­595, 2009.

[For10] Matthew Foreman. Ideals and generic elementary embeddings. In Handbook of set theory. Vols.

1, 2, 3, pages 885­1147. Springer, Dordrecht, 2010.

[HLN19] Peter Holy, Philipp Lu¨cke, and Ana Njegomir. Small embedding characterizations for large car-

dinals. Ann. Pure Appl. Logic, 170(2):251­271, 2019.

[Jec02] Thomas Jech. Set theory. The Third Millenium Edition, Revised and Expanded. Springer Mono-

graphs in Mathematics. Springer, 2002.

[Kan03] Akihiro Kanamori. The Higher Infinite. Springer, 2nd edition, 2003.

28

JOAN BAGARIA AND PHILIPP LU¨ CKE

[Lu¨c21] [Mag71] [Rat95] [Tsa18] [VW01]

Philipp Lu¨cke. Structural reflection, shrewd cardinals and the size of the continuum. Preprint, 2021. M. Magidor. On the role of supercompact and extendible cardinals in logic. Israel Journal of Mathematics, 10(2):147­157, Jun 1971. Michael Rathjen. Recent advances in ordinal analysis: 12-CA and related systems. Bull. Symbolic Logic, 1(4):468­485, 1995. Konstantinos Tsaprounis. On C(n)-extendible cardinals. The Journal of Symbolic Logic, 83(3):1112­1131, 2018. J. Vickers and P. D. Welch. On elementary embeddings from an inner model to the universe. The Journal of Symbolic Logic, 66(3):1090­1116, 2001.

ICREA (Institucio´ Catalana de Recerca i Estudis Avanc¸ats) and Departament de Matema`tiques i Informa`tica, Universitat de Barcelona. Corts Catalanes, 585, 08007 Barcelona, Catalonia. Email address: joan.bagaria@icrea.cat

Gran Via de les

IMUB (Institut de Matema`tiques, Universitat de Barcelona). Gran Via de les Corts Catalanes, 585, 08007 Barcelona, Catalonia.
Email address: philipp.luecke@ub.edu

