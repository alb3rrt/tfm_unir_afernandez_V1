1
A Schottky-Diode-Based Wake-Up Receiver for IoT Applications
Mahmoud Elhebeary, Student Member, IEEE, Samer Hanna, Student Member, IEEE, Sudhakar Pamarti, Senior Member, IEEE, Danijela Cabric, Senior Member, IEEE, and Chih-Kong Ken Yang, Fellow, IEEE

arXiv:2106.00140v1 [eess.SP] 31 May 2021

Abstract--This paper presents an always-on low-power wakeup receiver (WuRx) that activates the remainder of the system when a wake-up signal is detected. The proposed receiver has two phases of waking up. The first phase uses an integrated CMOS Schottky diodes to detect the signal power at a low bias current. The approach dissipates low quiescent power and allows the reuse of the design in multiple frequency bands with only modifying the matching network. In the second phase, a data-locked startable oscillator is proposed to correlate the received data with a target signature. This design eliminates the area and power dissipation of an external crystal oscillator and only turns on when the second phase is activated. By correlating to a target signature, the second phase also reduces the probability of a false alarm (PFA) that would otherwise wake up the high-power bulk of the system. The two-phase approach leads to significant reduction in average power consumption when compared to a single-phase design. This implementation targets sub-ms wake-up latency and operates in the unlicensed band at a 750-MHz carrier frequency with a data rate of 200 kbps. The design achieves 8.45pJ/bit and <-50 dBm of input sensitivity and average power of 1.69µW. The system is implemented in 65-nm CMOS technology and occupies an area of 1mm×0.75mm.
Index Terms--IoT applications, low power, relaxation oscillator, Schottky diode, wake-up receiver.
I. INTRODUCTION
INTERNET-of-Things (IoT) has enabled a wide array of applications by interconnecting a multitude of leaf nodes. In such systems, leaf nodes collect data from their environment and transmit the data to a gateway, which in turn stores and processes the data in a cloud or database. Leaf nodes, especially ones that are widely disseminated without connections to the power grid, have a limited power budget which constrains how often each leaf node can communicate with its gateway. In environmental, biomedical, or agricultural applications, a mobile gateway [1]-[11] that collects the data may only be periodically available. Always-on wake-up receivers (WuRx) have been introduced to constantly monitor a frequency band of interest at a very low power level and then awaken a primary transceiver of the IoT system upon receiving a wakeup signature. In applications such as a wireless body area network (WBAN), a WuRx should have low power dissipation of <5µW due to the high cost of battery replacement, moderate data rates of 100's of kbps to handle modest system configuration data, and sensitivity of <-40Bm. We further designed our target system to a wide data bandwidth to enable
Mahmoud Elhebeary, Samer Hanna, Sudhakar Pamarti, Danijela Cabric, and Chih-Kong Ken Yang are with the University of California, Los Angeles, CA 90095 USA. Email: {mahmoudrashad, samerhanna, spamarti, danijela, yangck}@ucla.edu

low wake-up latency of <200µs so that the leaf node can quickly link with an available gateway. This paper introduces several circuit techniques to lower the power and reduce the energy-per-bit to <10 pJ/bit. Because a WuRx operates in an unlicensed frequency band, multiple interferes can be present. False alarms can result in a large power penalty by waking up the system unnecessary. This paper further explores the power impact of a two-phase wake-up that incorporates digital correlation to reduce false alarms.
Always-on WuRx can be categorized into three main architectures dictated by their front end as shown in Fig. 1. The first architecture is based on superheterodyne mixers [1][6] which achieves good interference rejection as well as the required fast start-up time requirement. However, the high power consumed in the local oscillator and mixer power results in high energy per bit. The second architecture utilizes a frontend with tuned-RF filter and LNA [7]-[8] which achieves high sensitivity at the expense of the power consumption of the LNA. The third architecture eliminates the mixer and LNA and uses a square-law detector as an energy detector [9]-[14]. The envelop detector has the same structure as the square-law and are interchangeable, however we the term ED for large signal detection whereas for small signal detection we use squarelaw or energy detector. This architecture can be designed with high-latency [11]-[14] and low data rate (<1kbps) which in turn results in low power and high sensitivity due to the reduced bandwidth. Alternatively, designs targeting lowlatency applications [16] have also been shown to run at high data rates (>50kbps) and moderate sensitivity.A digital correlator would benefit the 3 architectures, however it would have maximum benefit when applied for square-law detector based architecture
In this work, we propose a two-phase always-on WuRx that can be used in different bands. In the first phase, as the energy detector, we propose using Schottky diodes. Through a fullyintegrated solution, we can minimize parasitic capacitance allowing operation at a high-frequency range [17]. The second phase utilizes a novel data-locked startable oscillator which allows digital data correlation while avoiding the need for an external clock or external crystal oscillator. A digital correlator compares the received data to a preset signature to avoid falsely activating the primary transceiver by interferers. By optimizing the correlator length and the energy detector thresholds, we show that the two-phase WuRx can reduce the system-level energy consumption by up to 60x compared to the equivalent single-stage energy detector. A wide-bandwidth front-end is adopted in the design to satisfy the wake-up

2

50 Matching Mixer Wide-band Envelop Baseband antenna Network LO IF-Amplifier Detector(ED) Amplifier

A1

( . )2

Ao

Signal Detected

50 Matching antenna Network

LNA

(a)
Envelop Baseband Detector(ED) Amplifier

( . )2

Ao

Signal Detected

(b)
50 Matching Square-Law Baseband antenna Network Detector Amplifier

Digital Correlator

IN[0] X[0] IN[1] X[1] IN[n-2] X[n-2] IN[n-1] X[n-1]

( . )2

Ao

(c)

......

Signal

+

+ +

Detected

Detect/

No Detect

Fig. 1: Architecture of (a) a conventional IF/Uncertain-IF Superhetrodyen WuRx, (b) a conventional tuned RF WuRx, and (c) a square-law detector based WuRx.

latency of 200µs corresponding to a signature of 40-bits at 200kbps data rate.
The paper is organized as follows. Section II shows the proposed system architecture, the system modeling, and the trade-offs of design parameters. Section III discusses the circuit implementation to achieve targeted sensitivity and lower overall power consumption. The measurement results for the proposed WuRx is discussed in Section IV.

is 1.48 µW and -50dBm for a data rate of 200kbps. The second stage has an energy cost of 0.2µW during the time it is awakened and runs a correlation. These parameters are used in the analytical model of the system presented in the next subsection.
The Schottky diode has a similar if not better conversion gain as the subthreshold slope of a CMOS transistor. For the bandwidth needed for high input frequency and data rate, the diode is biased above zero. The proposed CMOS Schottky diode provides a conversion gain of 660 at the required input frequency of 750MHz when biased at 50mV and 1.25µA. Whereas, the CMOS ED would require Vth  250mV with the same current biasing to achieve equivalent data rate and the same bandwidth which results in higher power consumption.
B. System Model
An analytical model of the receiver is used to compare different architectures. Assuming two hypothesis of whether a signature s is transmitted or not:
· H0: The sequence s was not transmitted. ­ H0A: No signal was transmitted ­ H0B: A sequence s = s was transmitted.
· H1: The sequence s was transmitted .
The probability of false alarm is defined as PF A = P r(declare H1|H0), and the probability of detection is defined as PD = P r(declare H1|H1).
For our analysis, we define the transmitted signal, x, as

II. SYSTEM ARCHITECTURE AND ANALYSIS
This section describes the architecture of the WuRx. An analytical model for the system is then presented to compare the detection performance to other architectures under varying SNR. The model is also used to evaluate the impact of the length of the digital correlation and the impact on power dissipation.
A. Wake-Up Receiver (WuRx) Architecture
The system architecture is shown in Fig. 2. In the first phase, the RF input is filtered by a matching network into a Schottky diode. The diode detects the signal power which is then amplified by a series of amplifiers. The last stage of the first phase is a comparator with an adjustable threshold. Data transitions from the thresholding amplifier determine whether to trigger the activation of the second phase. A startable oscillator is activated with a data transition and digitally correlates the received signal with a pre-determined signature. When a signature has been detected with sufficient accuracy and repetition (both are parameters), the signal is generated to wake-up the primary transceiver of the IoT system.
The first stage is always operating and can be tuned to different center frequencies depending on the front-end filter. Our system is designed for a center frequency of 750MHz. Details of the circuits are described in Section III. The power cost of our implementation of the first stage and its sensitivity

 0 H0A 

x = s H0B

(1)

s H1

Since we are using OOK modulation, s is a binary sequence of length L having d ones. The WuRx is triggered when either s or s has the first bit equal to one. The received signal is modeled as z = x + n where n is the additive white Gaussian noise (AWGN) vector with zero mean and variance 2 and the signal-to-noise-ratio (SNR) is equal to 1/2 for a normalized input signal.
By using this signal model and the possible events, we model three different WuRx architectures for comparison: one with only an energy detector (ED), one with two-phase wakeup by adding a correlator (Corr), and one with a matched filter (MF).
a) Energy Detector WuRx (ED): The decision made by an energy detector can be modeled as follows:

ED declares H0 z[1]  

(2)

H1 z[1]  

where  is a threshold and z[1] is the first element of the vector z. Due to the simplicity of the energy detector, it is unable to differentiate between H0A and H0B. PF A due to ED is formulated in Appendix-A.

3

RFIN
A 50 Antenna

Matching Network

Phase 1

DataIN

B

C

Schottky Diode Circuit

VDD Offset Cancellation VDD
DataOUT D
VGA VThreshold

Phase 2

Digital Correlation Unit VDD

1001 ... .... VDD

Wake-up Signal
E
VDD

VDD fOSC

fSTART

Startable

Oscillator

Counter

A

B

C

D

E

Wake-up Signal

Fig. 2: Proposed wake-up receiver architecture

b) Two-Phase WuRx with Correlator (Corr): Instead of waking up the receiver for every signal that crosses the energy threshold, a correlator improves detection by comparing the received signature to the sequence s. In the first phase, when the first element of the received vector z[1] crosses the threshold, of , the correlator of the second phase is activated. The binary vector z¯ is obtained using the ED threshold  and is compared to the sequence s. The system declares H1 if the received sequence z¯ differs by at most l bits from the reference sequence s. This can be expressed as follows

0 z[k]  

z¯[k] =

(3)

1 z[k] > 

 H0A 
WuRx declares H0B
H1

z¯[1] = 0 z¯[1] = 1, z¯[1] = 1,

L i=2

z¯[i]



s[i]

>

l

(4)

L i=2

z¯[i]



s[i]



l

where  is the binary xor operator. Since the correlator uses the entire sequence for comparison, it is expected to have a probability of false alarm lower than the ED. However, at low SNR, if we consider the exact match only (l = 0), any mistakes in the bits would lead to a missed detection. The derivation of PF A and PD for this architecture is provided in Appendix-B.
c) OOK Matched Filter WuRx (OOK MF): A third architectural option is to use a matched filter to compare the analog values of z with the signature s. By using the energy of the entire received signal prior to using a symbol-by-symbol threshold, one can expect an improved effective SNR. The improvement comes at the cost of the power from an analog correlator.
The MF operation can be written as  = zT s

MF declares H0   

(5)

H1  > 

Since, s is a binary sequence,  can be rewritten as the sum of the elements of z at the location where s[i] is equal one

=

z[i]

(6)

{i:s[i]=1}

Since  is the sum of multiple values of z, it is expected to be more robust to false alarms due to noise specially at low SNRs compared to ED, which only considers the first bit of z. However, the MF does not take into consideration the values of z where s is equal to zero. Hence, many different values of z, which might correspond to wrong signatures s , will map to the same value of . This would lead to more false alarms compared to the correlator at high SNRs. Further trade-off analysis of OOK MF across different parameters is provided in Appendix-C.
d) BPSK Matched Filter WuRx (BPSK MF): To avoid the shortcoming of an OOK MF where multiple values map to the same , a BPSK modulated sequence needs to be used such that s is the sequence of ±1 instead of zeros and ones. The statistic  in that case only attains the maximum value if the received vector z matches signature s. Although the BPSK MF performs better, it needs a mixer instead of a square-law device to downconvert the signal, leading to higher power consumption. The analysis of BPSK MF across different parameters is provided in Appendix-D.

C. Comparison of Architectures
This section compares the performance of the above architectures. Since, there is a trade-off between the probability of false alarm and the probability of detection, we use the receiver operation characteristics curves (ROC) to show this tradeoff [27]. In the following, both Corr, and MF use a sequence length L = 8 and d = 4 ones. The ROC curve is obtained for ED and MF by sweeping the values of  in the range [-2, 2] and [-1.25L, 1.25L] respectively. The BPSK MF signal power is normalized for a fair comparison. For the correlator, l is

4
SNR = 6

(a) SNR = 6 SNR = 15

Fig. 4: The effect of the correlator length (L) on the WuRx performance measured using AUC at different SNRs.

(b) SNR = 15
Fig. 3: ROC curves of ED, MF, and Corr at (a) SNR of 6dB and (b) SNR of 15dB.
swept from 0 to L and for each value of l, the threshold is swept between [-2, 2]. The expressions used to generate these curves are from the Appendices. The prior probabilities are chosen as P (H0A) = 0.9, P (H0B)=0.1×255/256, and P (H1)=0.1/256. These values are equivalent to 10% utilization with 256 equally-probable 8-bit sequences.
The ROC curves with SNR of 6 dB and 15 dB are shown in Fig. 3. At 15-dB SNR, Corr outperforms both MF and ED. Since Corr checks the entire sequence, it achieves lower PF A compared to ED. OOK MF suffers from being unable to distinguish sequences that match s at its ones while differing at its zeros, and hence, has a relatively lower PF A than BPSK MF. As the SNR drops to 6dB, both MF, by using the energy of the entire sequence, outperform Corr with BPSK MF performing slightly better. Since the correlator relies on binary decisions from the ED, missed detections or errors in the sequence occur more frequently at low SNR.

curves are generated using the same parameters as in Section II-B. The results are shown in Fig. 4, from which increasing L, improves the performance of the detector but with diminishing improvements at long L. Our WuRx implementation that is described in Section III considers the trade-off with latency and chooses L = 8.
With L = 8, the parameters l and  can be chosen to optimize system performance. The effect of changing the threshold for different l at SNR=15dB is shown in Fig. 5. The results from Monte Carlo simulations of 106 sequences for each hypothesis and the derived analytical expressions derived in Appendix-B agree and the lines overlap. As l increases, the probability of detection increases but at the cost of substantially increasing (100x) PF A. To avoid erroneous wake-ups of the receiver, our implementation uses l = 0. At lower SNR of 10dB, the PFA shows 10x increase leading to increase of the overall receiver energy cost. At the same time, the probability of detection reduces and falls below our target design of PD>0.99. For L=16, we can see a 10x improvement for the probability of false alarm (PFA) which is important design aspect as it sets the average power consumption. However, the latency will be double in that case.
The effect of varying the threshold on the system performance at different SNRs is shown in Fig. 6. In this model, setting the threshold to 0.5 yields the best detection performance for any SNR. This result matches intuition since the noise distribution is gaussian and the sequences are binary. For the implementation in the next section, the realistic dependence of the threshold on offset and signal energy is discussed. Since noise leads to misinterpreting the received signal in H0 as s, the lower the SNR the higher the probability of false alarm.

D. Correlator Design Analysis
The ROC curves in the previous section show that the values of PF A and PD of Corr are determined by the parameters l, L, and . The choice of L is a trade-off between wake-up latency and detection performance as measured by PF A and PD. To determine the effect of our choice of the correlator length L on the performance of the WuRx, we generate a ROC curve for the candidate values of L at different SNRs. The area under the ROC curve (AUC) is used as a comparison metric. An ideal detector would have an AUC value equal to one. The ROC

E. Energy Analysis
The expected energy consumption E of any receiver is related to the probability of false alarm and detection using

E = EWuRx + (PDP (H1) + PF AP (H0))ERx

(7)

where EWuRx is the energy of the WuRx and ERx is the energy of the primary data transceiver of the leaf node. Since, ERx >> EWuRx, we want a WuRx with the lowest PF A for a given PD.

5
Probablity of False Alarm

Probablity of Detection

Fig. 7: The expected energy consumption of ED and Corr when parameters are optimized as a function of SNR.

Fig. 5: Probability of false alarm and detection as a function of the threshold of an 8 bit correlator for different number of bits, l, allowed to be wrong while still declaring a match. Both simulation results (solid lines) and analytical results (dashed lines with markers) overlap.
Probablity of False Alarm
Probablity of Detection

ing both EWuRx and PF A. EWuRx can be expressed as

EWuRx = EED + (P (H0)PFEAD + P (H1)PDED)ECorr (8)

PF A is the result of activating both stages under H0 and can be expressed as

PF A = P (H0)PFEADPFCAorr

(9)

To compare the single-phase and two-phase system, we set a target value of PD and optimize both systems for minimal energy while meeting the required PD. For ED, we optimize the threshold and for Corr, we optimize the threshold and l. The value of the thresholds considered is within 0 and 1 with a step of 0.1 for both systems and l is from 0 to L. The optimal parameters are found by trying all possible combinations.
In this analysis, the minimal PD given by  needs to be realized with at most q re-transmissions, and hence, the probability of at least one transmission out of q being detected should be greater than .

P (det. at least one of q) = 1 - (1 - Pd)q   (10)

which is equivalent to PD  1 - (1 - )1/q. We consider  = 0.99 and q = 5 making the minimum
PD per transmission equal to 0.6. The results are shown in Fig. 7. Although the ED circuit by itself has a lower energy consumption than the correlator, it mistakenly awakes the primary transceiver often. This increases the energy consumption of the system by up to 60x. A correlator, on the other hand at SNR of 10 and above, has PF A approaching zero. Thus, it almost attains the lower bound of power consumption which occurs when receiver PF A = 0. For SNR>10, the optimal parameters of the correlator are  = 0.5 and l = 0, matching the previous results. For SNR<10, l has to be increased to meet the required PD leading to higher PF A and thus higher energy consumption.

Fig. 6: Probability of false alarm and detection as a function of the threshold of an 8 bit correlator for different SNRs. Both simulation results (solid lines) and analytical results (dashed lines with markers) overlap.
We optimize E in our two-phase implementation by reduc-

F. System analysis summary
The analysis is intended to show the rationale behind the design choices and the importance of using a correlator as part of the design. We showed the design trade-offs of using matched filter for OOK and BPSK modulation and ED with correlator. We opted to use the correlator as part of a 2 stage design that significantly impact the PFA/PD performance of

6

the overall receiver. We analyzed the impact of number of correlator bits used (L) and the allowance of incorrect bits (l) on both the PFA and PD. In addition, the other novelty revolves around the use of two phase wake up to reduce average power consumption. We proposed the use of CMOS Schottky diode as ED which operates at low bias and high conversion gain compared to CMOS ED. In the second-phase we proposed a data-locked startable oscillator which saves the system significant power consumption using oversampling or DLL compared to prior implementations.

CL

RX RJ

4kTRX

*

CJ

RX

RJ

CL

2q(Is+ID)

Diode Current(|I D|) (A)

III. WAKE-UP RECEIVER CIRCUIT DESIGN

(a)

This section describes the design and implementation of

10-3

circuit components in the proposed WuRx system. First, the

CMOS integrated Schottky diode as a square-law detector is

discussed in detail to achieve the desired performance at a high

10-4

carrier frequency with low power dissipation. The description

of a low-power amplifier with a variable threshold follows.

10-5

The two elements of the second phase are then discussed: the

startable oscillator and the digital correlator.

10-6

A. CMOS Integrated Schottky Diode

A Schottky diode is used as an energy-efficient power detec-

tor that accommodates the required input frequency and band-

width. The Schottky diode output voltage can be expressed as Vout1stage=eff ×Vr2f , where (eff ) is the conversion gain for the power detector which is dependent on the incident power.

The model of the diode is shown in Fig. 8(a) Where RJ is the dynamic equivalent resistance of the diode, RX is a parasitic series resistance, CJ is a parasitic capacitance, PJ is the equivalent power delivered to RJ , 0 is the DC voltagesensitivity, and CL represents the load, N is the ideality factor

of the diode. The model used for the impedance estimate

shown in Table I.

Fig. 8(b) shows the measured I-V characteristics of a

fabricated diode in a standard CMOS technology. We designed

this diode using a Schottky junction formed with a metal

contact to the diffusion layer on top of N-well layer similar

to the the approach in [17]. These layers are present in any

standard CMOS technology and hence enabling this diode to

be usable even if such a device is not explicitly present in the

technology library.

The effective voltage sensitivity of the diode detector as a

function of the input frequency rf can be expressed as

ef f

=

0 1 + r2f CJ2 (RX ||RJ )2

(11)

K

1

eff = 2(ID + IS) × 1 + r2f CJ2(RX ||RJ )2 V /W (12)

0 is a function of the bias point of the diode and increases with smaller bias as ID approaches 0 and bounded by the intrinsic reverse saturation current (IS) of the diode, and K is a proportionality constant that depends on the technology. The bandwidth for diode can be expressed as 3dB = Gmd/CJ where Gmd = ID/(N  VT ). Table I lists the parameters for our implementation. A bias of 1.6µA corresponding to roughly
50mV is sufficient for 1GHz bandwidth which accommodates

10-7

10--08.4

-0.2

0

0.2

0.4

Diode Voltage (VD)

(b)

Fig. 8: (a) Schottky diode small-signal model and equations, (b) and measured I-V characteristics for fabricated diode.

TABLE I: Schottky diode parameters

Parameter RX CJ IS ID N

Value 380 8fF 0.95µA 1.6µA 1.35

RFIN L1

C1

D1 DATAIN

L2 D1 VB

C2 RB

Fig. 9: Energy detector structure using Schottky diode and matching network.

our input center frequency of 750 MHz while obtaining a conversion gain, 0, of 660.
A Schottky diode doubler stage increases the voltage gain

7

Vmax=1mV Vmin=0V VCM=0.16V

DataIN R1 R1
Cf

VDD

R1

IOSP1

R IOSP2

2

- VOUT +

Offset

VDD

Cancellation

M5

VINP

IOSN1
M1

IOSN2
M2

VINN

VINP M3

VBIAS

VBIAS

(a)

DataOUT VDD 0

M6 VOUT_SE

VDD DataOUT

VINN M4
Thresholding circuit

V (V)
OUT

Gain (dB)

80

Chain disabled Chain enabled-Full

Chain enabled-1 ampl. disabled 60 Chain enabled-2 ampl. disabled

Chain enabled-3 ampl. disabled 40

20

0

-20

-41000

101

102

103

104

Frequency (Hz)

(b)

0.4

0.3

0.2

0.1

0

0

0.05

0.1

0.15

0.2

0.25

V (V)
IN

(c)

105

106

107

VTH=115mV VTH=237mV VTH=129mV VTH=248mV VTH=137mV VTH=256mV
VTH=150mV VTH=269mV VTH=200mV

0.3

0.35

0.4

Fig. 10: (a) Amplifier chain circuit implementation with offset cancellation, (b) amplifier gain configuration for different input power levels , (c) different threshold voltage configuration.

at the cost of increasing the bias voltage. Since the subsequent

amplifying stage requires a dc common-mode voltage, increas-

ing the bias voltage does not increase the power cost. In our

implementation shown in Fig. 9, we employ a doubler with

bias voltage, VB=300mV, such that the subsequent amplifier is dc biased at 200mV. As seen at the input of the doubler from

the matching network, the input impedance is RIN =2.15k in parallel with CIN =3.7pF. The input capacitance seen at the voltage doubler input is mainly parasitic capacitance due to

coupling the input from the off-chip matching network.

The matching network transforms the 50- impedance of

the antenna to the input impedance of the doubler. Due to

the finite quality factor (Q25) of the off-chip inductors, the

achieved gain is 13 dB. The filter is designed to be sufficient

for 200-kHz data bandwidth while also providing rejection

for interferers. The filter structure is built with L1=5.3nH and L2=40nH.
The equivalent noise sources are also shown in Fig. 8(a)

including thermal noised due to RX and shot noise due to
RJ . The noise power due to shot noise and thermal noise is estimated at 5.12*10-18 A2/Hz and 4.4*10-23 A2/Hz

respectively. As expected for a diode, the shot noise dominates

the output noise.

The noise for the square-law doubler stage can be modeled

[15] as

N FSD

=

1

+

No,SD NsG2P

(13)

where Ns=4kTRs and No,SD are the thermal noise and shot noise power of the voltage doubler respectively. GP in the expression is the conversion gain of the passive network

multiplied by the gain of the voltage doubler. GP depends on the incident power to the power detector which corresponds to

lower gain at lower input power leading to higher noise figure.

Multiple doubler stages, as shown in Fig. 9, have been demonstrated [10] to provide more power gain. In our design, we opt for a single doubler stage due to several considerations.

A larger number of stages increases thebias voltage by N while only increasing the power gain by N . A larger diodecapacitor chain impacts data bandwidth and latency. While smaller capacitors or higher bias current can be used, they either results in more noise or more power leading to worse overall performance.
B. VGA Design
The down-converted signal at 200kbps is amplified to full scale with the design shown in Fig.10(a) before being digitally correlated with the signature. The chain consists of five amplifiers followed by a thresholding circuit. The gain control of the amplifier chain is done by bypassing individual stages and disabling unused amplifiers. This approach also saves power dissipation of 200nW per stage. The control signals for bypassing and disabling are determined by detecting the amplitude of the amplified signal at the input of the thresholding circuit. The gain is reduced by turning off each of the first four stages in sequence starting from the last stage. The gain adjustment covers gain range from 66dB to 0dB, as shown in Fig 10(b).
The supply voltage of the amplifier chain is 0.4V and the same supply is shared by the digital logic of the second stage. The input common-mode of the first stage from the voltage doubler is 0.2V. Due to the low supply voltage and nearthreshold operation of the transistors, the sizing and biasing of the amplifiers are carefully chosen and adaptable. The first four stages are differential amplifiers with resistor loads for good common-mode supply noise rejection [18]. The last stage uses a current-mirror load for higher gain and single-ended outputs. The first stages have a larger transistor size and higher quiescent current to improve the overall noise of the chain. The transistors' size for the next three-stage is the same. The inputreferred noise of the chain is dominated by the first stage and is 5.1nV 2.
To set the common-mode level of each amplifier in the chain to 200mV, programmability using four digitally-controlled bits

8

SR Latch
Resistance(Mohm)

CLK CLKB

Data

S

R

VDD IB2

VREF VDD
VB1

VDD IB2

VDD

Pulse

CLK

Start

Pulse

C1

C1

(a)

Start

Pulse

Align CLK with data

Align CLK with data

CLKB

CLK

Start oscillation

Phase error corrected

(b)

Data T

C1

C1

Pulse C1

VDD IREF VREF Rcompensated

(c)

5

Compensated Resistance

Positive Temperature Coeff.

4.8

Negative Temperature Coeff.

NPOLY

4.6

+ve temp. coeff.

PPOLY

4


1

-ve temp. co eff.

4.4 Temperature 4 NPOLY
4.2 compensated 1 PPOLY

4

3.8

3.6 -40 -20 0 20 40 60 80 100 120 Temperature
(d)

Fig. 11: (a) Relaxation oscillator architecture with data locking technique, (b) timing diagram for oscillator operation, (c) pulse generator for data locking technique and reference voltage generator, and (d) zero-order temperature compensation using Npoly and Ppoly.

is added to the tail-current. The first stage bias can be adjusted by 200nA and the remaining stages by 100nA. The size of each differential pair is chosen so that at its bias current, the gm/ID is maximized for low power operation.
An offset cancellation technique is implemented to reduce the impact of voltage offset at each stage and to ensure the biasing setting of different stages in the chain by having variable current steps to add or subtract current at the output. The offset is calibrated and canceled at the startup of the chip. The calibration is based on monitoring the output voltage where the tail current is varied. The offset is checked to be limited with < 0.5mV so that we can cover the range of signal of 1mV which is equivalent to input power of -50dBm.
The thresholding circuit is an inverter with 15dB of gain. The PMOS and NMOS networks are implemented as arrays of digitally-selectable devices so that the effective width is programmable. The programmability controls the threshold level for deciding the "0" and "1" value of the received signal as shown in Fig. 10(c). The threshold can be changed from 115mV to 270mV. The threshold is calibrated by applying input and bypassing the amplifier chain. As discussed in Section II, depending on the noise and interference, the variable threshold lowers the probability of false alarm of the primary transceiver as well as control the probability of starting the second phase of the proposed system.
C. Data-locked Startable Oscillator
To digitally correlate an input data sequence with a signature, the timing of the data must be recovered to sample each data bit. In this work, the digital correlation is the second phase of the wake-up and does not continuously operate which lowers the average power consumption. While phaselocking approaches such as a delay-locked loop (DLL) or

oversampling [9] can be used to recover the timing, they

both require multiple cycles of the clock or a continuously

running clock. Our design uses a startable oscillator [25]

to enable the second phase. These two-approaches will cost

at least 50% more power than the proposed data-locked

technique. Also, compared to having single phase architecture

(i.e. oscillator always running in the background), the proposed

architecture saves 12% in average power consumption. It is

designed for a start-up within a one-bit period and maintains

a stable frequency of the target modulation rate of the data

across a wide range of temperature variation. The proposed

startable oscillator operate at no latency cost, however it has

2dB penalty on the minimum SNR required for data after

amplification.

Fig. 11(a) shows the design of the oscillator. A positive-

edge transition from the thresholding circuit creates a pulse

that aligns the start signal with the data edge. The timing

of the oscillator can be seen in Fig. 11(b) where the phase

difference is corrected at each positive data edge. In this

design, we limited the frequency variation across temperature

to be <5% using temperature compensation. The frequency

can be expressed as fclk =

IB1 C1 ×VRE F

and depends on the bias

current, IB1, and the reference voltage, VREF .

As shown in Fig. 11(d), the compensation is implemented

by using a resistor as the reference to generate VREF and IB1 is a fixed ratio of IREF . The resistor comprises a positive tem-

perature coefficient resistor (Npoly) in series with a negative

temperature coefficient resistor (Ppoly) with the sizing ratio

of 4:1. The resulting resistance varies within <0.1% across a

temperature range of [-30 to 110]. As a result, the variation

of the free-running frequency of the oscillator reduces from

±15% to ±5% which is composed of resistor variation and

reference current variation. Toggling and synchronizing the

9

startable oscillator with data transitions using a sequence with an 8-bit run length is sufficient to lock the oscillator frequency to within a small deviation (<1%) from the input frequency. The proposed techniques do not cause any power penalty and can be used for low power applications to avoid the use of expensive crystal oscillators or any external calibration techniques.
Another important feature in the proposed oscillator is a fast start-up. The set dominant SR latch avoids having the "CLK" and "CLKB" signal both at the forbidden state, hence avoid the need for any start-up circuits that requires multiple cycles to startup. It starts up with the correct oscillation frequency at the first cycle since it only waits for the "start" signal to oscillate with the previously set bias current. That start signal is asserted when the incident data changes from '0' to '1'. This represents the start of the packet that carries the signature to wake-up the primary transceiver. The proposed techniques are sufficient to correctly sample the incident packet of 40 bits and achieve BER of less than 10-3. The proposed oscillator consumes a power of less than 200nW at 200kHz oscillation frequency.

1 Variable gain amplifier chain 2 Test structure 3 Data-locked oscillator 4 Digital correlation unit

350µm 1

WuRxChip 3
2 4

800µm

5

Schottky diode on CMOS

5 WuRx

Chip

RF IN
Matching Network

Schottky Diode

D. Digital Correlator
As shown in Section II-D, since interferers are present in the unlicensed frequency band around 750MHz, a false alarm for the primary transceiver is possible when using only an energy detector leading to a large power penalty. After a '0' to '1' transition is detected from the thresholding circuit of the energy detector, a digital correlator matches the preset signature with the received data hence minimizing the probability of false wake-up. The first step to check for a preamble sequence. A 4-bit counter activates along with an 8-bit shift register which compares the received data to an externally-defined preamble sequence within 16 clock cycles. If the preamble is not found, the counter disables the oscillator to save power until another transition is detected. The preamble signature, when detected, enables the second step in detection. A 5-bit counter and a 32-bit shift register are activated to store the data after the preamble. The 32-bit data provides information for the selected channel and the signature from the transmitter. The signature is compared with the preset signature and, if a match is found, the wake-up signal is asserted. At the end of cycling through the 5-bit counter, the startable oscillator is disabled. This entire second phase of detection after cycling through the two steps stays off until another '0' to '1' data transition occurs. The correlator is used to improve the PFA as discussed in Section II-D. In our test chip, this digital correlator is also used to check the BER of the received data stream.
IV. MEASUREMENT RESULTS
The proposed WuRx is implemented in 65-nm CMOS technology and occupies an active area of 800µm×350µm as shown in Fig. 12. The implemented chip consists of the baseband processing and amplification, digital correlator, and generation of the wake-up signal. The CMOS Schottky diode is part of a second die and is connected by wire-bonding

Fig. 12: Die micrographs of the WuRx chip and Schottky diode, and PCB photograph of the overall system.
between the dice. Due to the low bandwidth at baseband, this assembly does not impact the performance. The input matching network is connected to the diodes by wire-bonding. The entire assembly is shown in Fig. 12.
Fig. 13 shows the received data sequence matching the target preamble sequence on an oscilloscope. The shift-register data setting the preamble sequence of "10011010" along with other control bits are loaded using a pattern generator and data acquisition unit (NI PXIe-1082). The same pattern generator produces the OOK pulse modulation that is externally driven to the frequency synthesizer. The clock of the startable oscillator starts when the data changes from 0 to VDD and searches for the preamble sequence within 16 clock cycles. The measurement also shows the oscillator correcting the clock phase based on the data transitions. The wake-up signal is generated to initialize the primary transceiver after storing 32-bits of channel information. After this, the data-locked oscillator is disabled to save power.
The fabricated Schottky diode input impedance is first characterized using a vector network analyzer (VNA HP8720D) by sweeping from 100MHz-1.8GHz as shown in Fig. 14. At the desired carrier frequency and bias condition of the doubler structure, an input impedance of (1.5-57j) is measured.
The LC matching network is built on a PCB to achieve 50ohm matching for the diode detector and bonding parasitics, and provide passive gain. Fig. 15 shows the measured input matching S11 from 500 MHz to 1 GHz. The measured and normalized S21 shows the band-pass filtering of the matching network around the carrier frequency. The bandwidth is sufficient for the 200kbps data rate and reduces the integrated in-band noise. The simulated passive gain of the matching network shows roughly 13dB of gain at the carrier frequency.

10

Probability of Missed Detection

Data out Wake-up Clock signal signal

Data-locked injection

Clock disabled

10-1

Preamble

Wake-up signal

10-2

detected 32-bits data stored for channel information

10-3 Preamble sequence
1 0 0 11010 10-4

Fig. 13: Measured detection of the preamble by the WuRx and generation of the wake-up signal with PIN =-50dBm and data rate of 200kbps.

RS=50

+j0.R5IN,S

VRF +j0.2

CIN,S

+j1.0

GIDEAL=

RIN,P RS

RS=50+j2.0

Series to

parallel

VRF

conversion

RIN,P=(Q2+1)*RIN,S

RIN,P CIN,P
+j5.0

Matching network 0.2 0.5 1.0 2.0 5.0 Matching network

0.0



10-5

-53

-52

-51

-50

-49

Input RF Power (dBm)

Fig. 16: Measured missed detection versus input power of the WuRx.

Phase-I+ 0.1%Phase-II

Phase-I+ Phase-II

Total : 1.485µW

Total : 1.69µW

Phase-II

Digital-

1% correlator

19.4%

Schottky 17% 0.013µW

Schottky 0.288µW

biasing

0.288µW

biasing

6.3%

7.2%

0.108µW

0.108µW 73.3% 1.088µW

11.5%

64.3%

Biasing + 0.196µW 1.088µW

Biasing + leakage

leakage

VGA

Oscillator

VGA

-j0.2

@750MHz

-j5.0

1.5-57j

Fig. 17: Power breakdown of proposed WuRx.

S-Parameters (dB) SIR(dB)

-j0.5

-j1.0

-j2.0

Fig. 14: Measured input impedance of the Schottky diode doubler structure at the operating biasing conditions.

0 -5 -10

-4 CW interferer

-6

AM interferer

-8

-10

-12

-14

-16

-18

-20

0

10

20

30

40

|f| (MHz)

-15
-20 Measured S21,N Measured S11
-25 550 600 650 700 750 800 850 900 950 Frequency (MHz)
Fig. 15: S11 and normalized S21 measurements. The matching network provides a passive gain of 13dB.
Fig. 16 shows the probability of missed detection across different input power. The signal is generated using an HP E4422B signal generator with a data pattern generated from an external PRBS-7 pulse modulator. The wake-up system achieves a sensitivity of -50dBm at a probability of missed

Fig. 18: Measured signal-to-interferer ratio (SIR) at different offset frequencies from carrier with CW and AM interferers at 5%.
detection of 10-3. Fig. 17 shows the power breakdown of the proposed architecture when running at 200kbps at PIN =50dBm. The power consumption of 1.485 µA at 0.1% activity rate of the second phase translates to 7.45 pJ/bit. The primary power dissipation in the first phase is in the amplifier chain (1.088 µW). The biasing power of the Schottky diode is 288nW and the matching network consumes no power. During the operation of the second phase, an additional power of 200nW is dissipated primarily by the oscillator. The digital correlator and storage elements only consumes 13.4 nW. The two-phase approach increases operating power by 12%

11

TABLE II: Comparison of the proposed WuRx with previously published designs.

TCAS-I20 [14] JSSC16 [2] JSSC19 [13] JSSC18 [9] CICC12 [19] TCAS-I17 [16] This work

Technology(nm)

90

65

130

180

130

180

65

Supply voltage(V)

1.2

0.5

0.6/1

0.4

1.2/0.5

0.8

0.4

Carrier frequency (GHz)

0.771

2.4

0.43

0.113

0.403

2.4

0.75

Passive gain (Av) (dB)

12

N/A

27

25

5

N/A

13

Data rate(kbps)

2

10

0.2

0.3

12.5

200

200

Wake-up latency(µs)

N/A

N/A

82.5

106

2.48

0.2

0.2

Sensitivity(dBm)

-46

-97

-76

-69

-45

-50

-50

Normalized Sensitivity(dB)*

-64.49

-136

-87.5

-81.4

-65.5

-76.5

-76.5

Power (µW)

0.036

99

0.0074

0.004

0.116

4.5

1.69

Energy per bit (pJ/bit)

18

9900

37

15

9.3

22.5

8.45

1

0.8

P =-50dBm
IN

PIN=-56dBm

0.6

Probability of Detection

0.4

0.2

0 0.3 0.35 0.4 0.45 0.5 0.55 0.6 0.65 Threshold
Fig. 19: Measured probability of detection (PD) at PIN =50dBm and PIN =-56dBm.

10-2 At PD=0.99 At PD=0.58
10-3

10-4

Probability of false alarm

0.3 0.35 0.4 0.45 0.5 0.55 0.6 0.65 Threshold
Fig. 20: Measured probability of false alarm at PD=0.99 and PD=0.58.
when compared to a single stage but dramatically reduces the probability of false alarm.
Fig. 18 shows the signal to interference ratio (SIR) of two

different interferers. First, the interferer is a continuous-wave (CW) signal at an offset frequency to the wake-up signal's carrier frequency. Close-in to the carrier frequency within the bandwidth of the baseband amplifiers, the CW modulates with the carrier and interferes strongly. At an offset of 10-MHz, beyond the amplifier bandwidth, the SIR is measured at -16dB and improves with the filtering of the passive bandpass filter. The input power used in the measurement is 6-dB higher than the reported sensitivity. The second curve in the figure shows the impact of using an amplitude-modulated (AM) interferer with 5% modulation depth at bandwidth of 400kHz. Even at offset frequencies beyond the bandwidth of the amplifiers, the AM signal shows greater impact on the system compared to the CW signal leading to an SIR of only -9dB at 10-MHz offset frequency. This difference is because, after the power detection of the diodes, the CW signal appears as an offset for the correct OOK sequence. The proposed system accommodates for this offset with the proper threshold. With an AM signal, the modulation corrupts the "0" and "1" bit amplitudes.
To verify the system analysis in Section II, both the probability of detection and the probability of false alarm are measured. The probability of detection, shown in Fig. 19, is measured at an input power of -50dBm and -56dBm while varying the threshold voltage as a ratio of the supply voltage. The measurement results match the analysis in Section II-D in which lower threshold voltages lead to higher noise of "0" to "1" bit flips and hence cause missed detection. The measurement shows the optimum threshold voltage near half VDD .
We measured the probability of false alarm as it impacts the average power consumed in the WuRx. The probability of detection at -50dBm and -56dBm which are near the threshold of detection is used as the baseline with the probability of detection of 0.99 and 0.58 respectively. The input sequence is then replaced with a false sequence that differs from the correct target signature by 2 bits. For each threshold voltage, we repeatedly transmit the wrong sequence and counted the times a false alarm is detected. The probability of false alarm

12

(dB)

SEN,nor

-60

[20]

[15]

-70

[14]

[17]

-80

This work

[9] [14]

-90

[13]

-100

ED Based Mixer Based

-110

[22]

-120 -130 -140 -150
100

[1] [8]
[24]

[6] [23]

101

102

103

104

105

Energy per bit (pJ/bit)

P

Fig. 21: Scatter plot comparing the normalized sensitivity and energy per bit of previously published design and this design. Various values of the proposed FoM are shown as dashed lines.

is the count divided by 106 which corresponds to the total number of packets sent. The results, plotted in Fig. 20, matches the analysis results in Fig. 6 showing a probability of false alarm of < 10-4. At this level, the power penalty due to false alarms is negligible.
Table II compares the performance metrics with other published designs. The energy performance of 8.45 pJ/bit compares favorably with previous publications. By using 200kbps and a short detection signature and payload (40 bits), the system wakes up with a latency of roughly only 200µs allowing for fast response of the leaf node.
A plot comparing the proposed design with other publications is shown in Fig.21 along with a proposed figure of merit (F oM ). The F oM is based on the following equation.

F oM = -PSEN,nor - 10log(E/bit)

(14)

PSEN,nor(dB) is the normalized sensitivity in [9] and is given by PSEN,nor(dB) = PSEN - 5log(BWBB) for a square-law detector. While this normalization properly compensates for the noise reduction from using a lower data rate, there is still a power advantage from reducing the data bandwidth. The proposed F oM adjusts for the data-bandwidth dependency by using the energy per bit (E/bit) to normalize the power to different data rates. This normalization accounts for not only the digital switching (CVD2Dfosc) of the correlator but also the bias current of the Schottky diode and the amplifiers, both of which are roughly proportional to the bandwidth. The proposed F oM equally weights the three main parameters of a WuRx, namely, the input sensitivity, the data rate, and the power dissipation. The proposed WuRx system achieves an F oM of 187.23dB which compares favorably to prior publications as shown in the figure.

V. CONCLUSION
In this paper, we present a two-phase WuRx that operates at a carrier frequency of 750 MHz, dissipates <10 pJ/bit, and achieves a low latency of 200µs. By using a system analysis

to guide the design, we choose parameters to achieve a low probability of false alarm of the primary transceiver which in turn can lead to up to 60x energy reduction of the overall system as compared to a single-stage energy detection receiver. A Schottky-diode doubler biased at low current is used and achieves the required bandwidth while downconverting the modulated data sequence. The second phase of operation uses a data-locked startable relaxation oscillator that turns on only after the first phase detects a transition. The design consumes only 1nW/kHz, achieves <0.1% frequency variation across temperature, and avoids the use of an external crystal oscillator. The overall system receives up to 200kbps of data with -50dBm of sensitivity. The design is implemented in 65-nm CMOS technology and occupies an active area of 800µm×350µm.

APPENDIX

A. ED Analysis

To model the energy detector (ED), we first make a few definitions in addition to the ones in Section II. The probability distribution of a sample z[k] when x[k] = 0 is given by

p0(z)  N (0, 2)

(15)

and when x[k] = 1

p1(z)  N (1, 2)

(16)

where N (µ, 2) denotes a Gaussian distribution with mean µ and variance 2. Using a threshold , the probability of 1

being received when 1 is transmitted is given by [27]



-1

p1C =


p1(z)dz = Q(



)

(17)

where Q is the Q-function and the probability of 0 being

received when 0 is transmitted is given by





p0C =

-

p0(z)dz

=

1

-

Q( 

).

(18)

Note, since we are using OOK, zero being transmitted is the

same as not transmitting any signals. The probability of noise being mistakenly decoded as a one is given by (1 - p0c). Hence, the probability of detection is equal to the probability

of correctly decoding 1

PdED

=

p1C

=

 Q(

- 

1 )

(19)

However, the probability of false alarm for an ED is due to either misclassifying a 0 given H0A and a detection given H0B, which can be expressed as

PFEAD

=

(1

- P0C )P (H0A) + p1C P (H0B) P (H0A) + P (H0B)

(20)

B. Corr Analysis

The probabilities of detection and false alarm of the correlator can be calculated from the probability of the correlator declaring a match under the H0A, H0B, and H1 using the following relations

PDCorr = P (match|H1)

(21)

13

PFCAorr =p(match|H1  H0A)

=p(match|H0A)

P

P (H0A

(H0A) ) + P (H0B

)

(22)

+

p(match|H0B

)

P

P (H0A

(H0B )+P

) (H0B

)

The derivation of p(match|H0A), p(match|H0B), and p(match|H1) requires the consideration of different combinations of the signature s and the received bits,

and hence, is more involved than the energy detector. We start

by discussing the expression for the simple case where all

bits need to be decoded correctly (l = 0) and then discussing

the general case where a match is declared despite having a

mistake in l  0 bits.

1) l=0: Assuming a threshold  yielding probability P1C and P0C same as previously defined, the probability of a sequence of length L and d ones to be received correctly, i.e. all bits match, is given by P (match|H1) = (P1C )d(P0C )L-d. The probability of an error given H0A is similar. Since nothing is being transmitted, d erroneous ones need to be decoded with

nothing transmitted. Hence, we replace P1C with (1 - P0C ) to obtain P (match|H0A) = (1 - P0c)d(P0c)L-d.
The probability P (match|H0B) is the probability of a
sequence s to have errors in detection such that it ends

up decoded as s. For any sequence s = s, we define

j=

L k=1

s[k]&(

s

[k])

as

the

number

of

ones

that

differ

from s and i =

L k=1

(

s[k])&s

[k]

as

the

number

of

zeros

that differ from s, where  denotes logical NOT operator

and & logical AND operator. The number of sequences that

differ in j ones and i zeros from s is given by C(i, j) =

L-d i

d j . The probability of a match to occur is

given by

P (match|i, j) = (1 - P1C )iP0LC-d-i(1 - P1C )iP0LC-d-i (23)

which is the probability of having i zeros and j ones to
flip while the remaining bits to be decoded correctly. When assuming that all 2L - 1 sequences in H0B (excluding s) are equally probable, the probability of a match given H0B is

1

d L-d

p(match|H0B) = 2L - 1

C(i, j)P (match|i, j)

j=0 i=0,i+j>0

2) l  0: We derive the probability of a match under the

three hypotheses when we consider sequences that differ from

the target, s, by at most l bits as a match. Let g be defined as

the number of differences between a received sequence ^s and

the target such that g =

L i=0

s^[k]

=

s[k].

The probability of receiving a sequence s which differs in

exactly k bits from s given that s was transmitted is given by

P (g = k |H1) =

i + j = k,

d i

(P1C )d-i

L-d j

(P0C )L-d-j

0  i, j  L

which is the probability of decoding d - i ones correctly and L - d - j zeros correctly for all combinations satisfying i +

j = k. The probability of a match given H1, hence, is the

summation over all possibilities of having k  l mistakes

given by P (match|H1) =

l k=0

P

(g

=

k|H1)

The probability of a match with l bits different under H0A

is similar to P (match|H1), except that P1C is replaced with

(1 - P0c) similar to what we did for l = 0.

A match occurs under H0B when a sequence s = s is

transmitted and a sequence ^s is received which differs by at

most l bits from s. Let ^s(n) denote a received sequence having

n ones, the probability of s being received as ^s is given by

1

n L-n

P (s rec ^s(n)) = 2L - 1

(C(i, j) - r)P (match|i, j)

j=0 i=0

where the value of r accounts for the fact that the sequence s is never transmitted under H0B and is given by r =
1 i+j =k . When the sequence ^s differs from s by
0 OW exactly k bits, the number of ones in ^s can vary from n = d-k to n = d + k. The number of sequences that differ from s (which has d ones and L - d zeros) in k bits and have n zeros is given by C (k, n). The probability of a sequence having exactly k mistakes being decoded as s is given by

d+k

P (match g = k) =

C (k, n)P (s rec ^s(n)) (24)

n=d-k

where C (k, n) =



 

L-d





  

h+f









 L-d





  

h









0

d ,
h
d h-f

f  0, L - d  h + f, d  h, h  0, 2h + |f | = k
f < 0, L - d  h, d  h - f,
h  0, 2h + |f | = k OW

and h =

k-|f | 2

and f = n - d. The probability of match

given H0B is given by

L

P (match|H1) = P (match g  l) = P (match g = k)

k=0

The derived expressions were verified against simulations in

the paper.

C. OOK MF Analysis

Since s has L - d zeros and we multiply the input by s,
the zeros do not affect our decision. So,  is the sum of d
random Gaussian random variables. Under H1, these variable have a mean equal to d making  |H1  N (d, d2) leading to a probability of detection equal to

PdM F

=

p(

>

MF |H1)

=

MF - d Q(  )
d

(25)

Under H0A, no signal was transmitted and the the mean is equal to zero making  |H0A  N (0, d2) leading to

P

(pos|H0A)

=

p(

>

M F

|H0A)

=

Q(

M F 

)

(26)

d

14

Probablity of False Alarm Probablity of Detection

Under H0B, the mean for a sequence having i mistakes, is

L - 2i where each wrong bit will decrease the expected value

of the statistic by two. Since we have

L i

of each of these

sequences, the probability of exceeding the threshold is given

by

P (pos|H0B) = p( > MF |H0B)

(31)

1L = 2L - 1 (
i=1

L i

MF - L - 2i

)Q( 

)

L

(32)

The probability of false alarm can be calculated from P (pos|H0A) and P (pos|H0B) similar to (22). The derived expressions are verified by simulations in Fig. 22.

REFERENCES

Fig. 22: Probability of false alarm and detection as a function of the threshold for a matched filter detector. Both simulation results (solid lines) and analytical results (dashed lines with markers) overlap.

Under H0B, the mean for a sequence having i ones, is i. This is given by

P (pos|H0B) = p( > MF |H0B)

(27)

1

d

MF - i

= 2L - 1

C (i)Q

i=0

 d

(28)

where C (i) is the number of sequences having at least i

ones matching the ones of s and it is given by C (i) =

d i

2L-d - r where r equals 1, when i = d and zero

otherwise to account for the fact that s is never sent under

H0B. The derived expressions are verified by simulations in

Fig. 22. The probability of false alarm can be calculated from

P (pos|H0A) and P (pos|H0B) similar to (22).

D. BPSK MF Analysis

In the case of the BPSK matched filter,  is the sum of L

random Gaussian random variables. Under H1, these variable have a mean equal to L and variance equal to L2 making

 |H1  N (L, L2) leading to a probability of detection equal

to

PdM F

=

p(

>

MF |H1)

=

MF - L Q(  )
L

(29)

Under H0A, the mean is equal to zero, and hence the distribution is given by  |H0A  N (0, L2) making the probability
of declaring a positive

P

(pos|H0)

=

P

(

>

M F

|H0A)

=

M F Q( 

)

(30)

L

[1] N. M. Pletcher, S. Gambini, and J. M. Rabaey, "A 2GHz 52 µW Wake-Up Receiver with -72dBm Sensitivity Using Uncertain-IF Architecture," 2008 IEEE International Solid-State Circuits Conference - Digest of Technical Papers, San Francisco, CA, 2008, pp. 524-633.
[2] C. Salazar, A. Cathelin, A. Kaiser, and J. Rabaey, "A 2.4 GHz InterfererResilient Wake-Up Receiver Using A Dual-IF Multi-Stage N-Path Architecture," in IEEE Journal of Solid-State Circuits, vol. 51, no. 9, pp. 2091-2105, Sept. 2016.
[3] X. Huang, A. Ba, P. Harpe, G. Dolmans, H. De Groot, and J. Long, "A 915MHz 120µW-RX/900µW-TX envelope-detection transceiver with 20dB in-band interference tolerance," 2012 IEEE International Solid-State Circuits Conference, San Francisco, CA, 2012, pp. 454-456.
[4] J. Y. Hsieh, Y. C. Huang, P. H. Kuo, T. Wang, and S. S. Lu, "A 0.45-V Low-Power OOK/FSK RF Receiver in 0.18 µm CMOS Technology for Implantable Medical Applications," in IEEE Transactions on Circuits and Systems I: Regular Papers, vol. 63, no. 8, pp. 1123-1130, Aug. 2016.
[5] S. Drago, D. M. W. Leenaerts, F. Sebastiano, L. J. Breems, K. A. A. Makinwa, and B. Nauta, "A 2.4GHz 830pJ/bit duty-cycled wake-up receiver with -82dBm sensitivity for crystal-less wireless sensor nodes," 2010 IEEE International Solid-State Circuits Conference - (ISSCC), San Francisco, CA, 2010, pp. 224-225.
[6] J. Bae and H. J. Yoo, "A 45 µW Injection-Locked FSK Wake-Up Receiver With Frequency-to-Envelope Conversion for Crystal-Less Wireless Body Area Network," in IEEE Journal of Solid-State Circuits, vol. 50, no. 6, pp. 1351-1360, June 2015.
[7] D. Y. Yoon et al., "A New Approach to Low-Power and Low-Latency Wake-Up Receiver System for Wireless Sensor Nodes," in the IEEE Journal of Solid-State Circuits, vol. 47, no. 10, pp. 2405-2419, Oct. 2012.
[8] S. Moazzeni, M. Sawan, and G. E. R. Cowan, "An Ultra-Low-Power Energy-Efficient Dual-Mode Wake-Up Receiver," in IEEE Transactions on Circuits and Systems I: Regular Papers, vol. 62, no. 2, pp. 517-526, Feb. 2015.
[9] P. H. P. Wang et al., "A Near-Zero-Power Wake-Up Receiver Achieving -69dBm Sensitivity," in the IEEE Journal of Solid-State Circuits, vol. 53, no. 6, pp. 1640-1652, June 2018.
[10] J. Moody et al., "Interference Robust Detector-First Near-Zero Power Wake-Up Receiver," in IEEE Journal of Solid-State Circuits, vol. 54, no. 8, pp. 2149-2162, Aug. 2019.
[11] N. E. Roberts and D. D. Wentzloff, "A 98nW wake-up radio for wireless body area networks," 2012 IEEE Radio Frequency Integrated Circuits Symposium, Montreal, QC, 2012, pp. 373-376.
[12] V. Mangal and P. R. Kinget, "28.1 A 0.42nW 434MHz -79.1dBm WakeUp Receiver with a Time-Domain Integrator," 2019 IEEE International Solid-State Circuits Conference - (ISSCC), San Francisco, CA, USA, 2019, pp. 438-440.
[13] P. Bassirian, D. Duvvuri, D. S. Truesdell, N. Liu, B. H. Calhoun, and S. M. Bowers, "30.1 A Temperature-Robust 27.6nW -65dBm Wakeup Receiver at 9.6GHz X-Band," 2020 IEEE International Solid-State Circuits Conference - (ISSCC), San Francisco, CA, USA, 2020, pp. 460-462.
[14] A. M. Elgani et al., "A Clockless Temperature-Compensated Nanowatt Analog Front-End for Wake-Up Radios Based on a Band-Pass Envelope Detector," in IEEE Transactions on Circuits and Systems I: Regular Papers.

15
[15] X. Huang, G. Dolmans, H. de Groot, and J. R. Long, "Noise and Sensitivity in RF Envelope Detection Receivers," in IEEE Transactions on Circuits and Systems II: Express Briefs, vol. 60, no. 10, pp. 637-641, Oct. 2013.
[16] K. Cheng and S. Chen, "An Ultralow-Power Wake-Up Receiver Based on Direct Active RF Detection," in IEEE Transactions on Circuits and Systems I: Regular Papers, vol. 64, no. 7, pp. 1661-1672, July 2017.
[17] R. Han, Y. Zhang, D. Coquillat, H. Videlier, W. Knap, E. Brown, K. O, Kenneth, "A 280-GHz Schottky Diode Detector in 130-nm Digital CMOS," IEEE Journal of Solid-State Circuits, vol. 46, no. 11, November 2011, pp. 2602-2612.
[18] M. Elhebeary and C. -K. K. Yang, "A 92%-Efficiency Battery Powered Hybrid DC-DC Converter for IoT Applications," in IEEE Transactions on Circuits and Systems I: Regular Papers, vol. 67, no. 10, pp. 3342-3351, Oct. 2020
[19] S. Oh, N. E. Roberts and D. D. Wentzloff, "A 116nW multi-band wakeup receiver with 31-bit correlator and interference rejection," Proceedings of the IEEE 2013 Custom Integrated Circuits Conference, San Jose, CA, 2013, pp. 1-4.
[20] C. Hambeck, S. Mahlknecht, and T. Herndl, "A 2.4µW Wake-up Receiver for wireless sensor nodes with -71dBm sensitivity," 2011 IEEE International Symposium of Circuits and Systems (ISCAS), Rio de Janeiro, 2011, pp. 534-537.
[21] H. Cho, J. Bae, and H. Yoo, "A 39 µW body channel communication wake-up receiver with injection-locking ring-oscillator for wireless body area network," 2012 IEEE International Symposium on Circuits and Systems, Seoul, 2012, pp. 2641-2644.
[22] B. Otis, Y. H. Chee, and J. Rabaey, "A 400 µW-RX, 1.6mW-TX superregenerative transceiver for wireless sensor networks," ISSCC. 2005 IEEE International Digest of Technical Papers. Solid-State Circuits Conference, 2005., San Francisco, CA, 2005, pp. 396-606 Vol. 1.
[23] C. Bryant and H. Sjoland, "A 2.45GHz, 50µW wake-up receiver frontend with -88dBm sensitivity and 250kbps data rate," ESSCIRC 2014 40th European Solid-State Circuits Conference (ESSCIRC), Venice Lido, 2014, pp. 235-238.
[24] N. E. Roberts et al., "26.8 A 236nW -56.5dBm-sensitivity bluetooth low-energy wakeup receiver with energy harvesting in 65nm CMOS," 2016 IEEE International Solid-State Circuits Conference (ISSCC), San Francisco, CA, 2016, pp. 450-451.
[25] M. Banu and A. Dunlop, "A 660 Mb/s CMOS clock recovery circuit with instantaneous locking for NRZ data and burst-mode transmission," 1993 IEEE International Solid-State Circuits Conference Digest of Technical Papers, San Francisco, CA, USA, 1993, pp. 102-103,
[26] K. Cheng, X. Liu, and M. Je, "A 2.4/5.8 GHz 10µW wake-up receiver with -65/-50 dBm sensitivity using direct active rf detection," 2012 IEEE Asian Solid-State Circuits Conference (A-SSCC), Kobe, 2012, pp. 337340.
[27] S. M. Kay, "Fundamentals of statistical signal processing". Prentice-Hall PTR, 1993.

