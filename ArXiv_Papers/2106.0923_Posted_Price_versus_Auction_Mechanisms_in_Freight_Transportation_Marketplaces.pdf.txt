arXiv:2106.00923v1 [math.OC] 2 Jun 2021

Posted Price versus Auction Mechanisms in Freight Transportation Marketplaces
Sungwoo Kim
School of Industrial and Systems Engineering, Georgia Institute of Technology, GA 30332, skim3025@gatech.edu
He Wang
School of Industrial and Systems Engineering, Georgia Institute of Technology, GA 30332, he.wang@isye.gatech.edu
Xuan Wang
Department of Information Systems, Business Statistics and Operations Management Hong Kong University of Science and Technology, Clear Water Bay, Kowloon, Hong Kong, xuanwang@ust.hk
We consider a freight platform that serves as an intermediary between shippers and carriers in a truckload transportation network. The objective of the platform is to design a policy that determines prices for shippers and payments to carriers, as well as how carriers are matched to loads to be transported, in order to maximize its long-run average profit. We analyze three types of mechanisms commonly used in freight marketplaces: posted price mechanisms, auction mechanisms, and a hybrid of both. First, we propose a static posted price mechanism and show that it is asymptotically optimal when supply and demand are both large in the network. Then, we consider an auction mechanism based on a Lagrangian decomposition of the network. We show that this auction mechanism is incentive compatible and individually rational, and generates higher profits than the static posted price mechanism in a two-node network. Finally, we study a hybrid mechanism, in which carriers can either book a load instantly by accepting the posted price offered by the platform, or join an auction to seek higher payments. We show that the hybrid mechanism achieves a trade-off between platform profit and carrier waiting time.
Key words : online platforms, revenue management, mechanism design, freight transportation
1. Introduction
The trucking industry transports 72% of freight in the U.S. and generates a gross revenue of $800 billion annually (ATA 2021). However, the trucking market is very fragmented. There are over 900,000 for-hire carriers in the U.S., of which 90% operate 6 or fewer trucks (ATA 2021). Traditionally, the industry relies on freight brokers to manually connect shippers and carriers using phone calls or emails. This process is time consuming and labor intensive. Digital freight marketplaces, where shippers and carriers can list and book loads to be transported through smartphone apps or websites in automated processes, have grown rapidly in recent years.
A central question faced by freight platforms is how to design mechanisms for shippers and carriers who participate in the marketplace. Various types of mechanisms are being used in practice: Some platforms offer posted prices for market participants. Others use auctions that allow carriers to bid their own prices for loads. Still others support hybrid mechanisms that combine posted pricing and auction bidding (e.g. Convoy 2018, Uber Freight 2020). For example, Figure 1
1

2

Kim, Wang, and Wang: Posted Price versus Auction Mechanisms In Freight Marketplaces

illustrates the carrier-side booking process of a freight marketplace app that uses such a hybrid mechanism. The platform displays information of available loads to carriers, such as a load's origin and destination, distance, pickup and drop-off time, as well as a price (i.e., the payment to carriers) set by the platform. If a carrier chooses a load, then the app shows more detailed information of the load. At this step, the carrier can either book the load instantly at the displayed price or bid a different price to receive possibly higher payments.

Figure 1 An example of a freight marketplace app for carriers (source: Convoy.com). The left screen shows a list of loads to be transported. The right screen shows that carriers have the option to book a load at the posted
price (bottom of the screen) or bid a different price (top of the screen).

The goal of this paper is to understand the properties of freight marketplace mechanisms and their implications for market efficiency and platform profitability. Because of demand and supply heterogeneity in freight transportation (e.g., there are various types of cargo, truck trailers, and loading facilities), most freight platforms allow carriers to choose which loads they want to transport, which makes them fundamentally different from those marketplaces where matching decisions are made by the platform operator exclusively. To formulate the mechanism design problem, we consider a dynamic model for a two-sided freight marketplace in a transportation network. We assume that the behavior of carriers are characterized by a random utility model, where the opportunity costs to transport loads are carriers' private information. By analyzing the decisions of carriers, we consider the three types of mechanisms mentioned earlier: posted price, auction, and hybrid mechanisms.

Kim, Wang, and Wang: Posted Price versus Auction Mechanisms In Freight Marketplaces

3

1.1. Contributions The main contributions of this paper are summarized as follows.
· Two-sided marketplace model and fluid approximation: A two-sided freight marketplace model is formulated as a discrete-time infinite horizon Markov decision process (MDP). The model is defined for a transportation network where shipper demand and carrier supply arrive dynamically. Carriers may stay in the marketplaces for multiple periods. This general model framework allows us to study various types of shipper and carrier mechanisms. A fluid approximation problem is defined by replacing random variables with their means. We show that the fluid approximation problem can be reformulated as a convex optimization problem. In addition, it gives an upper bound benchmark of any stable, incentive compatible, and individually rational dynamic mechanisms.
· Posted price mechanisms: Using the fluid approximation model, a static posted price mechanism is developed. We show that the profit gap between the posted price mechanism and the
 optimal mechanism is bounded by O( ), where  is a scaling parameter representing the size of demand and supply in the marketplace. Therefore, our result shows that posted price mechanisms can perform well for large scale freight marketplaces.
· Auction and hybrid mechanisms: An auction mechanism is proposed based on a decomposition of the transportation network using Lagrangian relaxation. For each location, we apply the Vickrey­Clarke­Groves (VCG) auction to determine payments to carriers and use the fluid approximation model to set reserve prices. Furthermore, we consider a hybrid mechanism that combines this auction with a static posted price policy. For a two-node network, we show that the expected profit of the auction mechanism is higher than that of the hybrid mechanism, which in turn is higher than that of the static posted price mechanism. This implies that auction and hybrid
 mechanisms are also asymptotically optimal with a profit gap no more than O( ). In numerical studies, we find that the auction and hybrid mechanisms outperform the posted price mechanism, especially in instances with relatively low supply and demand, at the expense of longer waiting time for carriers to be informed of bidding results.

1.2. Literature Review Fluid approximation and static price policies. For revenue management problems in large networks where exact solutions are intractable, one common approach is to use fluid approximation to get deterministic optimization problems. Gallego and Van Ryzin (1994, 1997) introduced a fluid approximation method for finite-horizon dynamic pricing problems and proposed static pricing policies that are asymptotically optimal. Similar approaches have been applied in the following works (Cooper 2002, Maglaras and Meissner 2006, Liu and Van Ryzin 2008). In general, the fluid

4

Kim, Wang, and Wang: Posted Price versus Auction Mechanisms In Freight Marketplaces

approximation model will give an upper bound of the optimal dynamic pricing policy. A new contribution of our analysis is to show that the fluid approximation model is an upper bound for not only pricing but also general market mechanisms (including auctions) in an infinite horizon setting.
Mechanism design. Our proposed auction is based on the Vickrey­Clarke­Groves (VCG) mechanism with reserve prices (Vickrey 1961, Clarke 1971, Groves 1973). The VCG mechanism is widely used for theoretical analysis in mechanism design. One theoretical virtue of the VCG mechanism is that it guarantees incentive compatibility. However, the VCG mechanism is not commonly used in practice (Rothkopf 2007, Ausubel et al. 2006). Both studies mentioned that the VCG mechanism generates low revenues for sellers. Intuitively, the introduction of reserve prices can alleviate the revenue deficiency problem and leads to optimal mechanisms in some special cases (Myerson 1981, Ausubel and Cramton 2004). Einav et al. (2018) analyzed the trade-off between posted price and auction mechanisms for an e-commerce marketplace and used historical data from eBay to validate their model.
Freight marketplace. Figliozzi et al. (2003) proposed a model for freight marketplaces using auction mechanisms and applied Vickery auctions in a simulation study. In a following work, Figliozzi et al. (2005) compared three different sequential auctions numerically. However, the two papers above assume that auctions are run by shippers rather than the platform operator. Caplice (2007) gave a survey of auctions in truckload transportation marketplaces. Topaloglu and Powell (2007) proposed an optimization model for a carrier's fleet by integrating shipper pricing and load assignment decisions. Cao et al. (2020) considered a dynamic pricing problem for freight marketplaces. The authors proposed a static pricing policy by setting a fixed price for each lead time. There are several key differences between Cao et al. (2020) and this paper. Their work focuses on posted price mechanisms exclusively, whereas our study compares different mechanisms including posted price, auction, and hybrid mechanisms for both carriers and shippers. Moreover, Cao et al. (2020) considered a single location model, while our study considers a network model with multiple locations.

2. Model
We formulate the marketplace design problem for a freight transportation platform that serves both shippers and carriers. In this platform, shippers post information about goods that need to transported, hereafter referred to as loads. Carriers book loads from the platform and transport them. Our goal is to design a mechanism that specifies how the platform should set prices for shippers and determine payments to carriers, and how carriers and loads should be matched, in order to maximize the profits of the platform.

Kim, Wang, and Wang: Posted Price versus Auction Mechanisms In Freight Marketplaces

5

The model is defined for a transportation network, which is represented by a graph G(N , E). The set of nodes N := {1, ..., n} represents geographical locations, and the set of arcs E = {(i, j) : i, j  N } contains all the origin-destination (O-D) pairs, also known as lanes in truckload transportation. We assume there is no self-loop in the network, i.e., (i, i) / E for all i  N , although this assumption can be easily relaxed. Let +(j) := {k  N : (j, k)  E} be the outbound nodes from node j and -(j) := {i  N : (i, j)  E} be the inbound nodes to node j. For simplicity, we assume all loads require exactly one period to transport on any O-D pair. (It is possible to generalize our model when travel times of some O-D pairs are more than one period using the approach in Godfrey and Powell (2002), but such a generalization will add additional complexity to the model.)
We model the dynamics of the platform as a discrete-time, infinite horizon, average cost Markov decision process. The platform aims to maximize its long-run average profit. The system state consists of both the state of loads and the state of carriers.
In each period, the following events occur on the shipper side of the marketplace: (1) upon observing the current system state, the platform determines spot prices for shippers; (2) with the announced shipper prices, shippers submit their load information to the platform; (3) all the loads submitted by shippers in the current period will be released to the carriers for booking at the beginning of the next period.
In addition, the following events occur on the carrier side of the marketplace: (1) upon observing the current system state, the platform selects either a carrier-side mechanism (defined in Section 2.1) that specifies how carriers are compensated for each load they transport; (2) carriers arrive to the platform during this period following a Poisson process; (3) given the announced pricing/auction format and the payment rules, each arriving carrier chooses which load to book, or submits their bids for loads, or leaves the platform without any booking; (4) the platform makes payment to carriers who have transported loads, and pays a penalty cost for each load that was not booked through the platform at the end of this period ­ the penalty cost can either be an external cost to find a carrier through another channel or a compensation paid to the shipper; (5) a subset of carriers who delivered their loads may choose to remain in the marketplace and become available again at the beginning of the next period at their new locations.
To define the system state, let Sit denote the set of carriers at node i at the beginning of period t (including the new carriers who have just arrived to the marketplace), and denote Sit := |Sit| as the total number of carriers available at node i at the beginning of period t. On the shipper demand side, let Dijt denote the number of loads in the marketplace that need to be shipped from node i to node j at the beginning of period t, where Dijt follows a Poisson distribution with rate dijt. Let (St, Dt) denote the system state vector in period t, where St = (Sit, i  N ) and Dt = (Dijt, (i, j)  E).

6

Kim, Wang, and Wang: Posted Price versus Auction Mechanisms In Freight Marketplaces

2.1. The Platform's Mechanism In this section, we introduce the platform's mechanism (Mr, Mp), where the shipper-side mechanism Mr sets the prices charged to the shippers, and the carrier-side mechanism Mp specifies payment and load allocation rules for the carriers.

Mechanisms for the Shipper Side

Given the system state (St, Dt), the shipper-side mechanism Mr specifies a pricing vector rt =

(rijt : (i, j)  E), where rijt is the spot price for each load that needs to be shipped from node i

to node j in period t. In response to the pricing vector rt, shippers choose to buy transportation

services from the marketplace and submit load information to the platform. The loads that need

to be transported from node i to node j are submitted to the platform in period t according to a

Poisson process with demand rate dij(rijt). In other words, the demand Dijt+1 for the next period is

drawn from a Poisson distribution with mean dij(rijt). (Recall that all loads submitted by shippers

during period t will be released to carriers at the beginning of period t + 1.) Assuming the demand

function dij(rijt) is strictly decreasing, we denote by rij(dijt) the inverse demand function given

demand rate dijt in period t. Finally, we make the standard assumption that the revenue function

rij(dijt)dijt is concave in dijt. The concavity assumption on the revenue function is commonly

assumed in the literature, stemming from the economic principle of diminishing marginal returns.

Remark 1. In addition to spot rates, it is common for freight platforms to offer contract rates to

shippers. A truckload contract covers all loads offered by a shipper during a specific period (e.g., a

year) at fixed rate formulas. We remark that our shipper model defined above holds for this general

setting, where the demand dijt is interpreted as the sum of contract and spot demands. Specifically,

we

define

the

overall

demand

as

dijt(rijt)

:=

dcontract ijt

+

dstpot(rijt),

where

dcontract ijt

is

assumed

to

be

exogenous and independent of the spot price rijt.

Mechanism for the Carrier Side Carrier-side mechanisms are more complex than shipper-side mechanisms. To formally describe
the carrier-side mechanism, we need to introduce some notation to define carriers' utility functions. Consider a carrier s  St located at node i  N available on the platform in period t. If the carrier s transports a load on (i, j) in period t and receives a payment amount psijt, his net utility Uisjt is determined by a random utility model. In particular, we assume

Uisjt := psijt - ij +

s ijt

,

(i, j)  E,

(1)

where  > 0 denotes the price sensitivity parameter, ij > 0 represents the average cost for carriers

to transport a load from node i to node j, and

s ijt

represents

the

idiosyncratic

error

terms

of

the carrier s, which are assumed to be independent and identically distributed random variables

Kim, Wang, and Wang: Posted Price versus Auction Mechanisms In Freight Marketplaces

7

following the Gumbel distribution with mean zero and scale parameter one. If the carrier s chooses

to not book any load from the platform, it may choose any outside option (i.e., the null alternative)

resulting in a utility of Uis0t :=

s i0t

,

where

s i0t

follows

the

same

Gumbel

distribution

with

mean

zero

and scale parameter one. The definition of this random utility model implies that the opportunity

cost of the carrier s for transporting a load on (i, j) in period t with the platform is

Cisjt := (ij -

s ijt

+

s i0t

)/

,

(i, j)  E.

(2)

We now define a carrier-side mechanism Mp = (A, P). By the revelation principle, we focus on direct mechanisms exclusively. In period t, when carriers arrive to the platform, they submit their

bids (representing their opportunity costs) for one or multiple loads to the platform. Given a vector of bids zt submitted by carriers, an allocation rule A determines the probability Asijt(zt)  [0, 1] that the carrier s is allocated a load from origin node i to destination node j in period t, and a payment rule P determines the expected payment Pisjt(zt) made to the carrier s for the service provided.

In this paper, we consider three types of carrier-side mechanism Mp: posted price mechanisms, auction mechanisms, and hybrid mechanisms that combine pricing and auction. In a posted price

mechanism, for each load in the marketplace, the platform sets a price that is offered to carriers for

transporting the load. Since carriers have i.i.d. opportunity costs, we shall drop the carrier index s if

we are referring to an arbitrary carrier in Sit. Given a posted price vector pt = (pijt : (i, j)  E), the carriers' utilities defined in Eq (1) imply that each carrier's choice among the available loads follows

the multinomial logit (MNL) model. It is well known by the multinomial logit model (cf. McFadden

1973) that a carrier at node i will choose to transport a load from node i to node j with probability

xijt, where

xijt =

e pij t -ij ,
e + 1 k+(i) pikt-ik

j  +(i),

and the probability that a carrier chooses to not book any load and leave the marketplace is given

by

wit =

1 .
e + 1 k+(i) pikt-ik

It then follows that pijt can be expressed as a function of xijt and wit:

1 pijt =  ln

xijt wit

+ ij ,

j  +(i).

(3)

Alternatively, the platform may use an auction mechanism. We next use a simple example to

illustrate how an auction may work in the context of truckload platforms, while deferring the

general setting to Section 5. Consider an origin-destination pair (i, j)  E. Given the observed

8

Kim, Wang, and Wang: Posted Price versus Auction Mechanisms In Freight Marketplaces

system state (St, Dt) in period t and the set of bids zt that the carriers have reported, the platform

sorts

the

carriers'

bids

from

the

smallest

to

the

largest

such

that

zi[1jt]

 zi[2jt]



·

·

·



z[Sit] ijt

and

uses

the following allocation and payment rules. For each carrier s  Sit, Asijt(zt) = 1 and Pisjt(zt) = zisjt

if

zisjt



z . [min(Sit,Dijt)] ijt

Otherwise,

Asijt(zt)

=

0

and

Pisjt(zt)

=

0

if

zisjt

>

z . [min(Sit,Dijt)] ijt

In

other

words,

when the number of available carriers Sit is no less than the number of loads Dijt that need to

be transported, the platform allocates the Dijt loads to the first Dijt lowest bids with probability

one, and the payment amount is equal to each carrier's reported opportunity cost. When there is

not enough carriers, i.e., Sit < Dijt, each carrier s  Sit is allocated a load with probability one and receives a payment amount equal to their bid zisjt. Of course, there are numerous other auction formats that the platform may use, including a hybrid of posted price and auctions that are used

by several platforms in practice.

2.1.1. Stability, Incentive Compatibility (IC) and Individual Rationality (IR). In this subsection, we show some properties of the platform's mechanism (Mr, Mp) introduced above. Let    be a stationary policy that maps the system state (St, Dt) to a mechanism (Mr, Mp). Lemma 1 below shows that the Markov chain induced by any stationary policy  is stable. The proof uses the Foster-Lyapunov theorem (Foster 1953) with a Lyapunov function on the total number of carriers in the system, and we refer the readers to the appendix for the complete proof.

Lemma 1. There exists a stationary distribution of the Markov chain induced by the platform's mechanism  and the system is stable (i.e., positive recurrent).

By the revelation principle (Myerson 1981), we shall focus on direct mechanisms that satisfy
the incentive compatibility (IC) and individual rationality (IR) constraints. To make the paper
self-contained, we next briefly discuss the two properties and the conditions under which IC and
IR constraints are satisfied.
Let St := iN Sit denote the total number of carriers in the marketplace at the beginning of period t. Consider a carrier s at node i at the beginning of period t. Let zsit = (zisjt, j  +(i)) denote the bids submitted by the carrier s to the platform, where zisjt represents the opportunity cost reported by the carrier s for transporting a load from node i to node j in period t. Let C-t s = C1t , ..., Cst-1, Cst+1, ..., CSt t be a vector that represents the opportunity costs of all the carriers other than s, where Cst = (Cisjt : (i, j)  E) with Cisjt defined in (2). Let gs(·) denote the joint probability density function of Ct-s. Finally, let (zsit, C-t s) = C1t , ..., Cts-1, zsit, Cst+1, ..., CSt t .
Assume that all the carriers other than s report their true opportunity costs C-t s when submitting the bids. Then the carrier s who submitted bid zsit will be allocated a load to be transported from node i to node j in period t with probability

asijt(zsit) := Asijt(zsit, C-t s)gs(C-t s)dC-t s,

Kim, Wang, and Wang: Posted Price versus Auction Mechanisms In Freight Marketplaces

9

and the expected payment to the carrier s for transporting a load from node i to node j is given by
psijt(zsit) := Pisjt(zsit, C-t s)gs(C-t s)dC-t s. Let psit(zsit) denote the expected payment of the platform to the carrier s, which is given by

psit(zsit) :=

asijt(zsit)psijt(zsit).

j  + (i)

Let Csit = (Cisjt, j  +(i)) be the true opportunity cost of the carrier s. Then the expected net utility of the carrier s when he submits a bid zsit is given by

usit(zsit) := psit(zsit) - asit(zsit) · Csit.

A carrier-side mechanism Mp is incentive compatible if it is a Bayesian Nash equilibrium for each carrier to report their true opportunity costs. That is, for each carrier s, we have

usit(Csit) = psit(Csit) - asit(Csit) · Csit  psit(zsit) - asit(zsit) · Csit, zsit.
We say a carrier-side mechanism Mp is individual rational if each carrier's expected net utility is non-negative when they report their true opportunity costs, i.e., usit(Csit)  0 for each carrier s.
2.2. Dynamic Program Formulation In this section, we provide a dynamic program formulation for the platform's optimization problem. At period t, given the state (St, Dt), a policy  maps the state to a pair of shipper/carrier mechanisms (Mr, Mp). Given the carrier-side mechanism Mp, each available carrier either chooses to book a load or leaves the marketplace without any booking. For all (i, j)  E, let Yijt be a random variable that denotes the number of carriers who have transported a load from node i to node j in period t, and let Vit be the number of carriers who leave the marketplace from node i in period t. It then follows that for each period t, we have

Yijt + Vit = Sit, i  N .

(4)

j  + (i)

For a carrier who just completes a load shipment from node i to node j in period t, we assume

that the carrier will stay in the marketplace with probability qij  (0, 1), and will leave the system with probability 1 - qij. Let Zijt be a random variable that denotes the number of carriers who decide to stay in the marketplace after completing a load shipment from node i to node j in period

t. Note that Zijt follows a Binomial distribution with parameters (Yijt, qij). Then, the dynamics of how the number of carriers evolving over time is characterized as follows:

Sjt+1 =

Zijt + jt+1, j  N ,

(5)

i - (j )

10

Kim, Wang, and Wang: Posted Price versus Auction Mechanisms In Freight Marketplaces

where jt is a Poisson random variable with rate j > 0 that denotes the number of new carriers

who exogenously arrive to node j in period t.

For carriers who have completed a load shipment in period t, the platform makes payments

to them. Let Pijt denote the total payment to all the carriers who have transported a load from

node i to node j in period t. It is then clear from the definitions that E

Sit s=1

Asij

t(Ct

)

St, Dt

=

E[Yijt|St, Dt] and E

Sit s=1

Pisj

t(Ct

)

St, Dt

= E[Pijt|St, Dt] for each (i, j)  E. If there is not enough

carriers to transport all the loads (i.e., Yijt < Dijt), we assume that the excess demand (Dijt - Yijt)

incurs a unit penalty cost bij, which may represent either the cost to find carriers through an

external channel or a compensation paid to shippers for not delivering their loads. Therefore, the

total payment that the platform has made during period t is equal to (i,j)E Pijt + bij(Dijt - Yijt). Next we consider the shipper side dynamics. Recall that a shipper-side mechanism Mr specifies
the prices rt charged to the shippers, which determine the number of loads Dijt+1 that need to be

transported from node i to node j in period t + 1. We assume that Dijt+1 follows a Poisson process

with rate dij(rijt). The revenue that the platform collects from the shippers is rijtDijt+1 with mean

rijtdij(rijt). It is worth pointing out that, although these loads are transported in period t + 1, we

account them for the revenue in period t. Therefore, the platform's expected profit in period t is

given by:





Gt (St, Dt) := E 

rijtdij (rijt) - bij (Dijt - Yijt) - Pijt St, Dt .

(6)

(i,j)E

Define  as the long-run average profit per period under a stationary policy :

 :=

lim

1 E

T  T

T
Gt (St, Dt) .

t=1

Note that the existence of  is implied by Lemma 1. Let  denote the optimal long-run average

profit per period, and let h(St, Dt) denote the differential cost for the state (St, Dt). Then the

optimality equation is given by

 + h(St, Dt) = max E 

Gt (St, Dt) + E[h(ZTt 1 + t, Dt)]

St, Dt

,

(St, Dt)

(MDP)

where t = (it, i  N ), Zt = (Zijt, (i, j)  E), and 1 is a vector with all entries equal to one.

3. Fluid Approximation and Profit Benchmark
The dynamic programming formulation MDP is intractable, since the number of nodes may be large in practice and the state space grows at least exponentially with the number of nodes. This motivates us to consider a fluid approximation of the MDP, where the random shipper demands and carrier arrivals are replaced with their respective mean values, and we consider the system

Kim, Wang, and Wang: Posted Price versus Auction Mechanisms In Freight Marketplaces

11

under the stationary distribution. In this section, we first provide the formulation of the fluid model. Then, we show that the fluid model can be transformed into a convex optimization problem and hence can be solved efficiently. Finally, we show that the optimal objective value of the fluid optimization problem serves as an upper bound for the long-run average profit for the MDP under any stationary policy. This upper bound is useful in that it can be used as a benchmark to establish performance guarantees of any given policy. As we shall show later in Section 4, a simple static posted price policy for the MDP based on the optimal solution of the fluid optimization problem is asymptotically optimal.

3.1. The Fluid Model

In the fluid model, the random shipper demands Dijt and random carrier arrivals it in each

period t are replaced with their mean values dij and i, respectively, for each node i  N and origin-destination pair (i, j)  E. We consider the fluid system in a steady state. Let xij denote the

fraction of carriers at node i who choose to transport a load from node i to node j in the fluid

system, and let wi be the fraction of carriers at node i who choose to not book any load and leave

the marketplace. Suppose for now that a posted price mechanism is used on the carrier side. It

then follows from Eq (3) that the payment pij offered to carriers for transporting a load from node

i to node j is given by

1 pij =  ln

xij wi

+ ij ,

(i, j)  E.

It is worth pointing out that the fraction of carriers who choose loads from node i to node j may

not be equal to the number of carriers who actually ship loads, since the actual shipment depends

on both the carriers' choices and the shipper demand. In view of this distinction, let yij be the

fraction of carriers at node i who end up hauling loads from node i to node j, and let vi be the fraction of carriers who leave the system from node i. Let ¯i denote the total available carriers at node i, which includes both the new arrivals and the existing carriers in the marketplace who just

finished a shipment and decided to stay at node i.

We define the fluid approximation model as

max s.t.

1 rij(dij)dij - 
(i,j)E

ln xij wi


+ ij ¯iyij - bij(dij - ¯iyij) 

qij¯iyij + j = ¯j 

yjk + vj , j  N ,

i - (j )

k + (j )

xjk + wj = 1, j  N ,
k + (j )

yjk + vj = 1, j  N ,
k + (j )

(7a)
(7b) (7c) (7d)

12

Kim, Wang, and Wang: Posted Price versus Auction Mechanisms In Freight Marketplaces

¯iyij  dij,

(i, j)  E,

(7e)

yij  xij, (i, j)  E,

(7f )

xij, yij  0, (i, j)  E and wi, vi, ¯i  0, i  N .

The objective of the fluid model (7a) maximizes the platform's per period profit, where the first term represents the revenues received from shippers, the second term represents payments made to carriers, and the last term represents the penalty costs incurred from unsatisfied demand. Constraint (7b) represents the flow balance equations, where the left-hand side represents the total inflow rate to node j, and the right-hand side represents the outflow rate from node j. Constraints (7c) and (7d) follow from the definition of probability vectors x, w, y, and v. Constraint (7e) states that the flow of loaded carriers cannot exceed the number of loads that are available for each O-D pair. Constraint (7f) requires that yij cannot exceed xij since the actual shipment is constrained by the carriers' supply.

3.2. Convex Reformulation

In this section, we show that the fluid model presented in Section 3.1 can be reformulated into

a (convex) conic optimization problem and hence can be solved efficiently. To that end, we first introduce some notation. For each node i  N and each O-D pair (i, j)  E, define x¯ij := ¯ixij, w¯i := ¯iwi, y¯ij := ¯iyij, and v¯i := ¯ivi. By the definition of these new variables, it is clear that

1 pij =  ln

xij wi

1

+ ij

= 

ln

x¯ij w¯i

+ ij ,

(i, j)  E.

Then we have

max

1 rij(dij)dij -  ln
(i,j)E

x¯ij w¯i

+ ij y¯ij - bij(dij - y¯ij)

s.t.

qijy¯ij + j =

y¯jk + v¯j, j  N ,

i - (j )

k + (j )

y¯jk + v¯j =

x¯jk + w¯j,

k + (j )

k + (j )

y¯ij  dij, (i, j)  E,

j  N ,

y¯ij  x¯ij, (i, j)  E,

x¯ij, y¯ij  0, (i, j)  E and w¯i, v¯i  0, i  N .

(8a) (8b) (8c) (8d) (8e) (8f )

The interpretations of the constraints in the new formulation (8) are straightforward and similar to those in the original formulation (7).
Next, we show that the new formulation (8) and the original fluid model (7) are equivalent. First, it is easy to check that for any feasible solution to the original formulation (7), there exists

Kim, Wang, and Wang: Posted Price versus Auction Mechanisms In Freight Marketplaces

13

a corresponding feasible solution to the new formulation (8) with the same objective value by the

definition of variables x¯, w¯ , y¯, and v¯. On the other hand, for any given feasible solution (d, x¯, w¯ , y¯, v¯) to the new formulation, let ¯j = i qijy¯ij + j for each j  N , and define variables yij = y¯ij/¯i, xij = x¯ij/¯i, wi = w¯i/¯i, vi = v¯i/¯i for each (i, j)  E and d remains unchanged. It is easy to check
that the newly defined variables is feasible to (7), and the new formulation can be reduced to the

original formulation.

Let (d, x¯, w¯ , y¯, v¯) be an optimal solution to (8). We note that the optimal solution satisfies

x¯ = y¯. To see this, suppose that there exists some node i  N such that y¯ij < x¯ij for some

j  +(i). This implies that w¯i < v¯i. In addition, we have

1 ln


x¯ij w¯i

1

+ ij

> 

ln

y¯ij v¯i

+ ij .

In this case, we can construct a new solution (d , x¯ , w¯ , y¯ , v¯ ), where x¯ij := y¯ij and w¯i := w¯i +

(x¯ij - y¯ij), and the rest of the variables have the same value as that in (d, x¯, w¯ , y¯, v¯). It

is straightforward to check that (d , x¯ , w¯ , y¯ , v¯ ) is feasible to (8) and achieves a strictly larger

objective value. This leads to a contradiction with the optimality of (d, x¯, w¯ , y¯, v¯), and hence

we must have x¯ = y¯. In view of this, formulation (8) can be simplified as follows:

(FA) :

max

1 rij(dij)dij - 
(i,j)E

ln

y¯ij v¯i

+ ij y¯ij - bij(dij - y¯ij)

s.t.

qijy¯ij + j =

y¯jk + v¯j,

i - (j )

k + (j )

y¯ij  dij, (i, j)  E,

j  N ,

(9) (10)

y¯ij  0, (i, j)  E and v¯i  0, i  N .

In what follows, we show that the FA is a convex optimization problem under the assumption

that

rij (dij )dij

is

concave

in

dij .

Let

ij

be

an

upper

bound

of

1 

ln

y¯ij v¯i

y¯ij. Then, we have

1 ij  

ln

y¯ij v¯i

y¯ij  ij  ln

y¯ij v¯i

y¯ij  (v¯i, y¯ij, -ij)  Kexp,

where Kexp is the exponential cone defined as

Kexp = {  R3 : 0  1 exp(2/1), 0, 1  0}.

Then, the FA reduces to the following (convex) conic optimization problem, which can be readily

solved by commercial solvers:

max

rij (dij )dij

-

ij 

y¯ij

-

ij

-

bij (dij

-

y¯ij )

(i,j)E

s.t.

qijy¯ij + j =

y¯jk + v¯j,

i - (j )

k + (j )

y¯ij  dij, (i, j)  E,

j  N ,

(v¯i, y¯ij, -ij)  Kexp, (i, j)  E.

14

Kim, Wang, and Wang: Posted Price versus Auction Mechanisms In Freight Marketplaces

3.3. FA Gives an Upper Bound of the Optimal Profit In this section, we show that the optimal objective value of the FA provides an upper bound of the long-run average profit for the MDP under any stationary policy.

Theorem 1. The optimal value of the fluid problem FA is an upper bound for the long-run average profit of the system under any stationary policy   .

It is worth noting that although we previously define the fluid model (FA) assuming a posted price mechanism, Theorem 1 holds for any direct mechanism that is IC and IR. As such, the upper bound established in Theorem 1 is useful for analyzing different types of mechanisms.
The proof of Theorem 1 proceeds in two steps: we first show that the constraints in FA are necessary for any mechanism under which the system is stable; then we show that the optimal value of the FA is an upper bound of the long-run average profit of any platform mechanism (Mr, Mp).
Lemma 2. Constraints (8b)-(8f) in FA are necessary conditions for any mechanism under which the system is stable.

Next we analyze the expected profit achieved by platform's policy . To that end, we first analyze

the expected payment made to the carriers by the platform. Consider a carrier s located at node

i in period t. Let zsit be the vector of bids submitted by the carrier s. Let fi(·) and gi(·) be the probability density function of zsit and |zsit|, respectively. (Note that since the Gumbel distribution is unbounded, zsit may take negative values.) We use I(·) to denote the indicator function. Given the bid vector zsit, we define the following three functions that will prove useful in our analysis:

+

Gi(zsit) := I(zsit  0)

gi(zsit)d ,

0

+

Hi(zsit) :=

fi ( zsit )d ,

1

i(zsit) = (ij(zsit), j = 1, ..., n) := zsit

1

+

Gi(zsit) fi(zsit)

-

Hi(zsit) fi(zsit)

.

(11)

The following lemma provides a characterization of the expected payment made to the carrier

s at node i under the mechanism (S, D) = (Mr, Mp). By the revelation principle, it suffices to

focus on direct mechanisms that are IC and IR. Also, we consider the system under the stationary

distribution in view of Lemma 1. We have the following revenue equivalence theorem.

Lemma 3. Under a given state (S, D) with the platform's mechanism (S, D) = (Mr, Mp) that is IC and IR, the expected payment to a carrier s at node i is

E[psi (Csi )|S, D] = E[asi (Csi ) · i(Csi )|S, D],

(12)

where Csi = (Cisj, j  +(i)) denotes the true opportunity costs of the carrier s at node i.

Kim, Wang, and Wang: Posted Price versus Auction Mechanisms In Freight Marketplaces

15

In view of Lemma 3, the expected payment is determined by the allocation rule, and the function i(Csi ) defined in Eq (11) can be viewed as the virtual cost of the carrier s at node i.
We next analyze the expected total payment made to all the carriers at a given node. Consider

node i  N under a state (S, D) in the stationary distribution, and we index the carriers at node i

as s  {1, ..., Si}. Let Pi denote the payment made to all the carriers who have transported a load

originating from node i, where Pi :=

Si s=1

psi (Csi ).

Lemma 4. Under a state in the stationary distribution of the system induced by the platform's mechanism (S, D) = (Mr, Mp) that is IC and IR, the expected total payment to all the carriers in this period is lower bounded by

E [Pi] 

ln

j  + (i)

E[Yij ] E[Si] - k+(i) E[Yik]

1 + ij  E[Yij],

i  N .

With Lemma 4, we are now ready to complete the proof of Theorem 1. Proof of Theorem 1. By Lemma 1 and Lemma 2, any platform mechanism under which the system is stable should satisfy the constraints of the FA. The stability of the system implies that the long-run average profit is the same as the expected profit under the stationary distribution. In the remainder of the proof, we will show that the optimal solution to FA gives an upper bound on

the expected profit of any mechanism    under the stationary distribution. By the revelation principle, we can restrict our focus to IC and IR mechanisms. Consider the expected payment made

by the platform E [Pi] under an IC and IR mechanism (S, D) = (Mr, Mp). By Lemma 4, we have

E [Pij] = E [Pi] 

ln

j  + (i)

j  + (i)

E[Yij ] E[Si] - k+(i) E[Yik]

1 + ij  E[Yij].

Then, it follows that the expected profit of the platform mechanism  is upper bounded by

E[rij(dij)dij - bij(Dij - Yij) - Pij]
(i,j)E



rij(dij)dij - bij(dij - E [Yij]) - ln

(i,j)E



rij (dij )dij - bij (dij - y¯ij ) - pij y¯ij .

(i,j)E

E[Yij ] E[Si] - k+(i) E[Yik]

+ ij

1  E[Yij]

Therefore, the optimal value of the FA provides an upper bound on the long-run average profit of any platform mechanism, which completes the proof.
In view of Theorem 1, the optimal objective value of FA provides an upper bound for the longrun average profit for the MDP under any platform mechanism. As a result, this upper bound can serve as a benchmark to evaluate the performance of any platform mechanism.

16

Kim, Wang, and Wang: Posted Price versus Auction Mechanisms In Freight Marketplaces

4. Posted Price Mechanisms

In this section, we study a posted price mechanism in which the platform sets prices rt = (rijt : (i, j)  E) to shippers and payments pt = (pijt : (i, j)  E) to carriers for transporting a load in period t. Among all the posted price mechanisms, we consider a static pricing mechanism, where

the platform offers a fixed price to the carriers and charges a fixed price to the shippers. We show

that with a proper choice of the fixed prices, a static posted price policy is asymptotically optimal

under an asymptotic scaling regime. A static pricing policy is easy to implement in practice, and

our results provide further theoretical support for its effectiveness. We consider the following asymptotic regime. Consider a sequence of problem instances {MDP}
with scaling parameter   {1, 2, ...}. In the instance MDP, the arrival rates of shippers and carriers

are equal to d and , respectively. In other words, the scaling factor  can be considered as a

a measure of the system size of the marketplace. Let (d, y¯, v¯) be an optimal solution to the FA

and let FA denote the optimal objective value of the FA. Given an optimal solution (d, y¯, v¯), the optimal total in-flow of carriers to each node j is given by ¯j = i-(j) qijy¯ij + j, and denote ¯ = (¯i : i  N ). The probability vectors y and v associated with the optimal fluid solution can be derived accordingly by yij = y¯ij/¯i and vi = v¯i/¯i . Recall in Section 3.2 we showed that x¯ = y¯
in the optimal solution to the fluid problem (8). As it shall become clear later, it is sometimes more

convenient to use x¯ (and correspondingly, x) in our analysis, and therefore we will differentiate

between x¯ and y¯ (correspondingly, x and y) by using their respective notations (even though

they have the same value under the optimal fluid solution). Finally, let (r, p) respectively be the

prices charged to the shippers and the payments paid to the carriers by the platform corresponding

to the optimal fluid solution (d, y¯, v¯), where r is determined via the inverse shipper demand

function,

and

p

is

given

by

pij

=

1 

ln

y¯ij v¯i

+ ij

for each (i, j)  E.

Our proposed static posted price mechanism, denoted as SP, applies the prices (r, p) obtained

from the optimal solution to the FA in all system states. Given a system state (St, Dt) and the posted

price vector p = (pij : (i, j)  E), carriers choose to book a load among the available remaining loads following the MNL choice model. We use the superscript [s] to denote the sth carrier that

arrives to the marketplace at origin node i. Let Di[sj]t denote the number of remaining loads that need to be shipped from node i to node j when the sth carrier arrives to the platform in period t,

i.e., Di[sj]t := Dijt -

s-1 s =1

A[isjt].

We

define

t[s]+(i)

:=

{j



N

:

Di[sj]t

>

0}

as

the

set

of

destinations

still

with remaining loads to be transported from origin i when the sth carrier arrives. Then, the choice

probabilities of the sth carrier can be defined as follows:

x[isj]t =

epij -ij e + 1 , kt[s]+(i) pik-ik

j  t[s]+(i) and wi[st] =

1 e + 1 . kt[s]+(i) pik-ik

Kim, Wang, and Wang: Posted Price versus Auction Mechanisms In Freight Marketplaces

17

Under the static posted price mechanism SP, carriers choose to deliver a load among all the available loads only if their choice maximizes their utilities, and otherwise they would leave the marketplace without booking any load. Therefore, the posted price mechanism SP is IC and IR.
For a problem instance with scaling factor , let SP() denote the long-run average profit under the proposed SP mechanism. The optimal solution to FA() is (d, y¯, v¯), and the optimal objective value of FA(), denoted as FA(), is equal to FA. The following theorem establishes the asymptotic optimality of our proposed static posted price mechanism SP.

Theorem 2. The static posted price mechanism (r, p) is asymptotically optimal. More specif-

ically, we have

 FA() - SP()  O( ),

and

therefore

the

loss

ratio

 FA ()- SP ()  FA ()

0

as



approaches

infinity.

The remainder of this section is devoted to the proof of Theorem 2. Notice that although SP

uses a static posted price for each O-D pair that is independent of the system state, a carrier's

choice probabilities are not constants and may evolve within one time period. In particular, the

choice probabilities depend on the remaining shipper demands upon the carrier's arrival. This

poses challenges in analyzing the SP mechanism directly. Instead, we will consider an auxiliary

static posted price mechanism with fixed choice probabilities, denoted as SP-2, to facilitate our

analysis. As we shall show later, the long-run average profit under SP-2 is lower than that under SP.

Moreover, we show that the SP-2 mechanism is asymptotically optimal, which then immediately

implies the asymptotic optimality of the SP mechanism.

The SP-2 mechanism also applies the optimal fluid prices (r, p) to all system states. However,

different from SP under which carriers only choose among the available loads, under SP-2 each

carrier chooses to book a load that maximizes his utility without considering the system state (in

particular, the remaining demands). In other words, the carrier makes his decisions only based on

the offered posted price, and he may end up choosing a destination with zero remaining load, in

which case the platform would reject this carrier. It is worth noting that SP-2 is not a realistic

policy to be implemented in practice and it is only considered for the purpose of theoretical analysis.

Under SP-2, the choice probabilities xit = (xijt, j  +(i)) and wit are given in Section 2.1, and

the

posted

price

satisfies

pij

=

1 

ln

xijt wit

+ ij

for each j  +(i) (cf. Eq (3)).

For a problem instance with scaling parameter , let SP-2() denote the long-run average profit

of the platform under the SP-2 mechanism. We first show in Lemma 5 that SP-2() is a lower

bound of SP().

18

Kim, Wang, and Wang: Posted Price versus Auction Mechanisms In Freight Marketplaces

Lemma 5. The long-run average profit of the platform under the SP-2 mechanism is no more than that under the SP mechanism:
SP-2()  SP().

In view of Lemma 5, if the SP-2 mechanism is asymptotically optimal, then the asymptotic optimality of the SP mechanism immediately follows. We next focus on establishing the asymptotic optimality of the SP-2 mechanism. Let XiSjP-2() and YiSjP-2() respectively denote the number of carriers who choose to ship a load from node i to node j and who have actually delivered a load from node i to node j in a state of the stationary distribution under the SP-2 mechanism, where YiSjP-2() = min{XiSjP-2(), DiSjP-2()}. The following result provides an upper bound on E[XiSjP-2()] - E[YiSjP-2()], which measures the expected number of drivers in excess of the shipper demands in steady state under the SP-2 mechanism.

Lemma 6. Given a problem instance with scaling factor , we have

 E[XiSjP-2()] - E[YiSjP-2()]  O( ), i  N ,

(13)

where E[XiSjP-2()] and E[YiSjP-2()] are the expected number of carriers who choose to ship a load from node i to node j and who actually delivered a load from node i to node j, respectively, in a state of the stationary distribution under the SP-2 mechanism.

Next, we show an upper bound on the difference between the expected number of carriers in steady state under the SP-2 mechanism and that in the fluid system.

Lemma 7. Given a problem instance with scaling factor , we have 
¯i - E[SiSP-2()]  O( ), i  N ,

where E[SiSP-2()] is the expected number of carriers in node i in a state of the stationary distribution under the SP-2 mechanism.

With Lemmas 5, 6, and 7, we are now ready to complete the proof of Theorem 2. Proof of Theorem 2. Given a problem instance with scaling parameter , the long-run average profit of the platform under the SP-2 mechanism, SP-2(), is given by





SP-2() = E 

rij dij (rij ) - bij (DiSjP-2() - YiSjP-2()) - pij YiSjP-2()

(i,j)E





=E

rij dij (rij ) - bij (DiSjP-2() - XiSjP-2()) - bij (XiSjP-2() - DiSjP-2())+ - pij YiSjP-2()

(i,j)E

Kim, Wang, and Wang: Posted Price versus Auction Mechanisms In Freight Marketplaces

19





E

rij dij (rij ) - bij (DiSjP-2() - XiSjP-2()) - bij (XiSjP-2() - DiSjP-2())+ - pij XiSjP-2()

(i,j)E







=E

rij dij (rij ) - bij DiSjP-2() + (bij - pij )XiSjP-2() - E 

bij (XiSjP-2() - DiSjP-2())+ ,

(i,j)E

(i,j)E

where

the

first

inequality follows 

from

the

definition

of

YiSjP-2().

The

second

term

in

the

last

equation is bounded by O( ) as shown in Lemma 6. Consider the first term in the last equation:





E

rij dij (rij ) - bij DiSjP-2() + (bij - pij )XiSjP-2()

(i,j)E

=

rij dij (rij ) - bij dij + (bij - pij )E[SiSP-2()]xij

(i,j)E

=

rijdij(rij) - bijdij + (bij - pij)(¯i - ¯i + E[SiSP-2()])xij

(i,j)E

=

rijdij(rij) - pij · ¯i xij - bij · (dij - ¯i xij) + (bij - pij)xij(-¯i + E[SiSP-2()])

(i,j)E

= FA() -

(bij - pij)xij(¯i - E[SiSP-2()]).

(i,j)E

By

Lemma

7,

¯i

- E[SiSP-2()]

is

bounded

from

above

by

 O( ).

Therefore,

FA() - SP-2()

is

bounded from above by O( ). It then follows that

 FA() - SP()  FA() - SP-2()  O( ),

where the first inequality follows from Lemma 5, and this completes our proof.

5. Auctions Mechanisms
Auction mechanisms are widely used in the freight marketplaces to match shippers and carriers (Figliozzi et al. 2005, Caplice 2007). Unlike posted price mechanisms where carriers can book loads instantly, auction mechanisms allow the platform to collect bids from multiple carriers for a load before it makes an allocation decision.
Throughout this section, we assume the shipper side mechanism is defined by the fluid price r as in Section 4. On the carrier-side, we consider a reverse auction mechanism based on the VCG auction. We call it the modified VCG mechanism (VCG-M for short), in the sense that we modify the VCG mechanism by considering a decomposition of the network and applying a VCG reverse auction to each location separately. This would greatly simplify the implementation of the carrierside auctions as the auction for each origin node can be conducted independently. In addition, we apply reserve prices in the VCG auction for each O-D pair: When the bid submitted by a carrier for a load is higher than the associated reserve price, the platform will reject the bid. Intuitively,

20

Kim, Wang, and Wang: Posted Price versus Auction Mechanisms In Freight Marketplaces

introducing reserve prices can improve the platform's expected profit, since a reserve price imposes an upper bound on the payment to the carriers. For our multi-period multi-location marketplace model, a carefully chosen reserve price must also take into account how the allocation decisions in one location will affect the states of other locations in the future.
We now formally define the VCG-M mechanism. A carrier at node i in time period t submits bids for loads originating from node i, which is represented by a bid vector Cit. After receiving bids from the carriers, the platform makes allocation decisions using the following optimization problem and reserve prices  = (ij, (i, j)  E):

Ji(Cit) := min

CisjtAsijt(Cit) +

ij Yi0jt(Cit)

sSit j+(i)

j  + (i)

s.t.

Asijt(Cit)  1,

j  + (i)

s  Sit,

Asijt(Cit) + Yi0jt(Cit) = Dijt,

j  +(i),

sSit

0  Asijt(Cit)  1,

s  Sit, j  +(i),

Yi0jt(Cit)  0,

j  +(i).

(14)

A few remarks are in order. In VCG-M, we decompose the auctions by locations, where the allocation decisions Ait at origin node i only depend on the bidding information Cit submitted by the carriers at this node. It is worth noting that, due to the network structure and the multi-period dynamics, in the optimal auction the allocation of the loads at one node may depend on the bids submitted by carriers originating from other nodes in general. In the above optimization problem, the variable Yi0jt in the objective function (14) represents the number of "dummy" bidders who bid at the reserve price ij. This ensures that carriers whose submitted bids are higher than the reserve price will not receive any load allocation. The first constraint requires that each carrier can be allocated at most one load. Notice that (14) is an assignment problem, so there always exists an integral optimal solution.
After the allocation decisions are set, the payments to carriers are then determined as in the VCG mechanism. Let Ait(Cit) denote the allocation of loads to carriers originating from node i at period t in the optimal solution to Ji(Cit). Notice that such an optimal solution always exists because the objective function (14) is bounded from above and there always exists a feasible solution (Ait(Cit) = 0, Yi0t(Cit) = Dit) to the above optimization problem. With the allocation rule Ait(Cit), the payment to a carrier s originating from node i at period t, denoted as Pist(Cit), is given by the following VCG payment rule:

Pist(Cit) = Csit · Asit(Cit) + Ji(C-its) - Ji(Cit), s  Sit, i  N .

(15)

Kim, Wang, and Wang: Posted Price versus Auction Mechanisms In Freight Marketplaces

21

The following lemma shows that VCG-M satisfies the desired incentive compatibility (IC) and individual rationality (IR) properties. The proof of Lemma 8 is relegated to the Appendix.

Lemma 8. The modified VCG mechanism VCG-M is IC and IR.

To fully characterize VCG-M, we still need to specify the value of the reserve prices. In this section, we propose two auctions with different reserve prices. The first auction, denoted as AUC-1, simply uses the optimal fluid carrier-side prices p as the reserve price, i.e.,  = p. Compared with the static posted price mechanism proposed in Section 4 which offers a fixed payment price p to the carriers, intuitively we would expect that the expected payment to the carriers under the auction mechanism AUC-1 should be lower than p. This is because the payment to each individual carrier under AUC-1 will never exceed the reserve price p, and in case the number of carriers is abundant, the competitive bidding from the carriers may lead to a payment lower than the reserve price. As a result, the auction mechanism AUC-1 has the potential to outperform the static posted price mechanism SP and help the platform to achieve a higher expected profit. We will confirm this intuition in a special two-node network in Section 5.1.
The second VCG-M auction that we consider, denoted as AUC-2, uses a different reserve price  = {ij  R : (i, j)  E}. We first provide the mathematical definition of  and then discuss the motivation and intuition for the choice of this particular reserve price. The reserve price ij for each origin-destination pair (i, j)  E is the solution to the following equation:

ij (ij ) = bij + µj qij ,

(16)

where the function ij(·) is defined in Eq (11), and µj is the optimal dual variable associated with constraint (9).
We note that the key motivation to consider a reserve price different from p is to capture the network externality and the system dynamics (5) across different time periods. In the fluid formulation FA, the constraint that results from the system dynamics (5) is a linking constraint (9) that involves multiple nodes in the network. To decompose the problem into node-specific auctions while at the same time taking into account the linking constraints among the different nodes, we consider a Lagrangian relaxation formulation with dual prices being the optimal dual variable µ. The function ij(·) comes into play due to the characterization of the expected payment of an auction mechanism in Lemma 3. Intuitively speaking,  is the optimal price that minimizes the total payment made by the platform in the Lagrangian relaxation problem.

22

Kim, Wang, and Wang: Posted Price versus Auction Mechanisms In Freight Marketplaces

5.1. Analysis for a Two-location Model Multi-item auction mechanisms are notoriously difficult to analyze. As such, we examine the performance of our proposed modified VCG mechanism in a simple setting when the network has two nodes, i.e., |N | = 2. (The general setting with |N | > 2 will be studied numerically in Section 7.) We first present our main result in the following theorem.

Theorem 3. Both AUC-1 and AUC-2 mechanisms are asymptotically optimal when |N | = 2. More specifically, for a given problem instance with scaling factor , we have

SP()  AUC-1().

(17)

Under the asymptotic regime, we have

AUC-1()

AUC-2()

lim

 lim

.









(18)

In view of (17), AUC-1 achieves a higher long-run average profit than the static posted price

mechanism SP. Since SP is asymptotically optimal, so is AUC-1. In addition, (18) shows that both

AUC-1 and AUC-2 are asymptotically optimal.

The remainder of this subsection is devoted to the proof of Theorem 3. In what follows, we first

show in Lemma 9 that the AUC-1 mechanism outperforms the SP mechanism, which together with

Theorem 2 immediately implies the asymptotic optimality of AUC-1.

Lemma 9. Suppose |N | = 2. For any given problem instance with scaling factor , we have

SP()  AUC-1().

Here we provide some high-level idea about the analysis of Lemma 9, with the detailed proof relegated to the Appendix. Denote N = {i, j}. Recall that the AUC-1 mechanism uses the optimal fluid price p as the reserve price, which is also the posted price offered in the SP mechanism. Intuitively, the payment for a carrier delivering a load from node i to node j under the AUC-1 mechanism should not be higher than the reserve price pij. In addition, we show in the proof of Lemma 9 that SP and AUC-1 share the same stationary distribution of Yij(), which is the number of loads shipped from node i to node j in steady state. As a result, the expected payment made to the carriers under AUC-1 is lower than that under SP, while the expected penalty costs under these two mechanisms are the same in view of the same distribution of Yij() in steady state. It then follows that AUC-1 achieves a higher long-run average profit than SP since both mechanisms receive the same shipper-side revenue.
Next, we analyze the performance of the second modified VCG mechanism AUC-2. Recall that the reserve price  used in AUC-2 is defined in Eq (16), where the function ij(·) is defined in Eq (11). The following lemma provides a characterization of the function ij when there are only two nodes in the transportation network.

Kim, Wang, and Wang: Posted Price versus Auction Mechanisms In Freight Marketplaces

23

Lemma 10. When |N | = 2, we have

ij (Cij )

=

Cij

+

1 

(1

+

eCij -ij

),

(i, j)  E.

By Lemma 10, the derivative of ij(Cij) is given by ij(Cij) = 1 + eCij-ij > 0. Therefore, ij is a strictly increasing function when the transportation network consists of two nodes. As the domain
and range of ij are both R and ij is monotonically increasing, there exists an inverse function of ij, denoted as i-j1, such that the reserve price in auction AUC-2 is given by ij := i-j1(bij + µj qij). The following lemma characterizes the relationship between the reserve price  and the optimal fluid price p.

Lemma 11. Let  = {ij : (i, j)  E} be the optimal dual variable associated with constraint (10) in the fluid problem FA. Then we have

ij(ij) = ij(pij) + ij, (i, j)  E .

The characterization of the relationship between ,  and p in Lemma 11 offers some additional insights about the reserve price . By definition, the dual variable vij is non-negative. Since ij is monotonically increasing for two-node networks, we have pij  ij. In other words, the reserve price used in AUC-2 is higher than or equal to that in AUC-1. Intuitively, with a higher reserve price, AUC-2 is likely to "accept" more carriers. As a result, the number of carriers in the marketplace tends to be larger when the AUC-2 mechanism is adopted. We confirm this intuition in the following lemma by showing that the number of carriers SiAtUC-2 is stochastically larger than SiAtUC-1 for each node i  N and time period t.

Lemma 12. Suppose |N | = 2. For each node i  N and time period t, SiAtUC-2 is stochastically

larger than SiAtUC-1. Moreover, under the stationary distributions of the AUC-1 and AUC-2 mecha-

nisms, we have

lim


E[SiAtUC-1()] 

=

lim


E[SiAtUC-2()] 

=

¯i ,

i  N .

Lemma 12 shows that the expected number of carriers in steady state under AUC-1 and AUC-2

converge to the same value under the asymptotic regime. This result shall prove useful in our later

analysis to establish the asymptotic optimality of the AUC-2 mechanism.

Recall that Eq (5) governs the evolution of the number of carriers in the marketplace. This system

dynamics equation leads to a linking constraint (9) in the fluid formulation FA that involves the

interaction among multiple nodes in the transportation network across different time periods. To

decompose the problem, we consider a Lagrangian relaxation formulation that relaxes this linking

constraint with the optimal dual variables µ associated with Eq (9) in FA. As it will become clear

24

Kim, Wang, and Wang: Posted Price versus Auction Mechanisms In Freight Marketplaces

later, the AUC-2 mechanism achieves the optimal objective value of the decomposed Lagrangian relaxation problem, which is a key result that facilitates the proof of Theorem 3.
Consider the platform's objective function Eq (6) in a Lagrangian relaxation problem, where the system dynamics Eq (5) is relaxed by the dual variables µ and the shipper-side mechanism offers the optimal fluid price r to the shippers:









E

rij dij (rij ) - bij (Dijt - Yijt) - Pijt + µj 

Zijt + jt+1 - Sjt+1 St, Dt .

(i,j)E

jN

i - (j )

By the definition of Zijt, we have E[Zijt] = E[qijYijt]. Under the stationary distribution, we have E[Sjt] = E[Sjt+1], and the above objective function reduces to









E

rij dij (rij ) - bij (Dijt - Yijt) - Pijt + µj 

qij Yijt + jt+1 - Sjt St, Dt .

(i,j)E

jN

i - (j )

For notation convenience, we define it and Hit for each i  N as follows:

it :=

rij dij (rij ) - bij Dijt + µi (it+1 - Sit),

j  + (i)

Hit :=

bij Yijt + µj qij Yijt - Pijt.

j  + (i)

(19) (20)

Then, a single-period problem under a given system steady state (St, Dt), denoted as Lt(St, Dt), is defined as follows:

Lt(St, Dt) := max E [it + Hit|St, Dt]
iN

s.t.

Yijt  Sit, i  N ,

j  + (i)

Yijt  Dijt, (i, j)  E ,

Yijt  0, (i, j)  E.

(21a) (21b) (21c)

In the above formulation, constraint (21b) follows from Eq (4), and constraint (21c) follows from the definition of Yijt. We show in the following lemma that the AUC-2 mechanism achieves the optimal solution to this problem.
Lemma 13. Suppose |N | = 2. The AUC-2 mechanism achieves the optimal objective value of the single-period problem Lt(St, Dt) under a given steady state (St, Dt).
With Lemmas 12 and 13, we can complete the proof of Theorem 3; the full proof is included in the Appendix.

Kim, Wang, and Wang: Posted Price versus Auction Mechanisms In Freight Marketplaces

25

6. Hybrid Mechanisms
Hybrid mechanisms that combine posted price and auction mechanisms have become increasingly popular in digital freight marketplaces (e.g., Convoy 2018, Uber Freight 2020). Our previous results suggest that the auction mechanism can lead to a higher long-run average profit for the platform. However, this comes at the expense of longer waiting time for carriers to receive load allocation confirmations; in contrast, under the posted price mechanism, carriers can confirm a load booking instantly. A hybrid mechanism, in which carriers can either book a load instantly by accepting a posted price offered by the platform or by bidding in an auction for the load, serves as an attractive alternative to balance the trade-off between platform profit and carrier waiting time.
In this section, we consider a carrier-side hybrid mechanism, which combines the static posted price mechanism SP and the auction mechanism AUC-2. The challenge here is that, although both SP and AUC-2 are IC and IR, the hybrid mechanism that is a simple combination of these two mechanisms may not be IC or IR in general. To see this, consider a carrier whose true opportunity cost is lower than the posted price. If the carrier reports the opportunity cost truthfully, it will be assigned a load instantly under the SP mechanism with a payment equal to the posted price. However, if it turns out that the payout from the auction (which is determined at the end of this period) is higher than the posted price, the carrier may be better off by reporting untruthfully in order to join the auction.
In view of the challenge that arises from the design of an IC and IR hybrid mechanism, we restrict our attention to a two-node transportation network for the remainder of this section. Let the network be N = {i, j}. We propose a carrier-side hybrid mechanism HYB as follows. Consider a carrier who arrives in the marketplace at node i in period t. If there is still any remaining load originating from node i upon his arrival, then the platform solicits a bid from this carrier. If the submitted bid is less than or equal to the posted price pij, then this carrier is assigned a load immediately and the platform guarantees that the payment that carrier would receive is at least pij, with the exact payment amount to be determined at a later time. On the other hand, if the submitted bid is higher than pij, then this carrier will join an auction with the result to be determined at the end of this period. An auction will be conducted among all the available carriers if the total number of carriers with submitted bid no more than pij is smaller than Dijt, and the format of the auction is same as the modified VCG mechanism with reserve price ij defined in Section 5. In other words, an auction will be conducted only if there still exists remaining load that cannot be served by the carriers who have confirmed a load allocation under SP. Finally, if all the loads have already been booked (under SP) upon a carrier's arrival, then this carrier will leave the marketplace without receiving any load allocation.

26

Kim, Wang, and Wang: Posted Price versus Auction Mechanisms In Freight Marketplaces

Similar to the SP and AUC-2 mechanisms, the HYB mechanism sets the same shipper-side price

r as in Section 4. On the carrier side, we now formally define the allocation rule and the payment

rule under the hybrid mechanism HYB. Let XiSjPt(Cijt) denote the number of carriers who would choose to deliver a load from node i to node j in period t under SP with posted price pij when the

opportunity cost vector submitted by the carriers is Cijt. The allocation rule of the HYB mechanism

is defined as

Asij,Ht YB(Cijt) =

Asij,StP(Cijt), if XiSjPt(Cijt)  Dijt, Asij,At UC-2(Cijt), otherwise

(22)

where Asij,StP(Cijt) and Asij,At UC-2(Cijt) represent the allocations under the SP and AUC-2 mechanisms

defined in Sections 4 and 5, respectively. The payment rule of HYB is defined as

Pist,HYB(Cijt) =

pij Asij,Ht YB(Cijt), if XiSjPt(Cijt)  Dijt, CisjtAisj,Ht YB(Cijt) + Ji(C-ijst ) - Ji(Cijt), otherwise

(23)

where Ji(·) represents the optimal objective value of the allocation problem in AUC-2 as defined in Eq (14).

A few remarks are in order. First, we notice that when XiSjPt(Cijt)  Dijt, all the loads are

allocated under SP and the payment to each carrier is Pist,HYB(Cijt) = pij. Otherwise, the payment

under the HYB mechanism is given by the payment under the AUC-2 mechanism, Pist,HYB(Cijt) =

Pist,AUC-2(Cijt). When there are only two nodes in the transportation network, it is easy to see that

Pist,AUC-2(Cijt)

=

Ci[jDtijt+1],

where

C [Dijt+1] ijt

is

the

Dijt

+ 1th

lowest

opportunity

cost

in

the

bid

vector

Cijt.

Since

in

this

case

we

have

XiSjPt(Cijt)

< Dijt,

it

then

implies

that

C [Dijt+1] ijt



pij .

Therefore,

the payment to a carrier who receives a load allocation under HYB is at least the posted price

pij, i.e., Pist,HYB(Cijt)  pij when Asij,Ht YB(Cijt) = 1. Intuitively, this ensures that a carrier whose true opportunity cost is no more than pij does not have the incentive to bid untruthfully, since he will

be able to receive a higher payment based on the auction outcome in case the carrier supply is

insufficient. As shown in Lemma 14 below, the hybrid mechanism HYB is IC and IR for two-node

transportation networks.

Lemma 14. The HYB mechanism is IC and IR when |N | = 2.

We next present our main result in this section, which establishes the asymptotic optimality of the hybrid mechanism HYB under a fluid scaling asymptotic regime.

Theorem 4. The HYB mechanism is asymptotically optimal when |N | = 2. More specifically, for a given problem instance with scaling factor , we have

HYB()  AUC-2().

Under the asymptotic regime, we have

SP()

HYB()

lim

 lim

.

 

 

(24)

Kim, Wang, and Wang: Posted Price versus Auction Mechanisms In Freight Marketplaces

27

7. Numerical Studies
In this section, we conduct numerical studies to provide further insights regarding the performance of different policies. We consider the following simulation setup. On the shipper side, the demand function in a -scaled problem instance is given by rijt() = 10 - dijt+1()/, where the range of the scaling parameter  that we consider is   {5, 10, 25, 50}. On the carrier side, we consider a homogeneous preference setting, where the average cost to transport a load from node i to node j is ij = 1 for each (i, j)  E, the price sensitivity parameter is  = 1, and the probability that a carrier will remain in the marketplace after transporting a load from node i to node j is qij = 0.4 for each (i, j)  E. The carriers' external arrival rate to the marketplace in a -scaled problem instance is i() = 3 for each node i  N . Excess demand that cannot be served by the carriers in the marketplace is served by third party companies at a cost bij = 10 for each O-D pair (i, j)  E. We use simulation to generate independent sample paths, each with a total number of T = 500 time periods. For each sample path, the first 100 time periods are discarded and the performance of the system under a given policy (e.g., average profit) is evaluated against the remaining time periods. Furthermore, we set the number of carriers at the beginning of period 1 as Si1() = ¯i for each node i  N . This is to help reduce the number of iterations to reach the stationary distribution in view of Lemma 7 and Lemma 12.

7.1. Profit Loss Ratio and Average Allocation Waiting Time (AWT) Our first set of numerical experiments consider a transportation network with two nodes, and compare the performance of the static posted price mechanism SP, the auction mechanism AUC2, and the hybrid mechanism HYB. We consider two performance metrics, the profit loss ratio and the average allocation waiting time. More specifically, the profit loss ratio of a given policy    in a -scaled problem instance is defined as (FA() - ())/FA(). The second performance metric is the average allocation waiting time (AWT), which is defined as the average time elapsed between a carrier's arrival and the confirmation of load allocation decision to the carrier. The AWT measures how long carriers have to wait on average before knowing whether they can receive a load allocation, so a shorter AWT is more desirable.
We assume that the arrival times of carriers are independent and identically distributed according to a uniform distribution on [0,1]. It is worth pointing out that for carriers who decided to stay in the marketplace after completing a load shipment, we assume that their "arrival time" to the marketplace (i.e., when they return to the app and check the information of available loads in the next period) also follows U [0, 1]. For any posted price mechanism, the average allocation waiting time is zero because carriers can decide whether to book a load immediately upon arrival. For any auction mechanism, a carrier needs to wait until the auction is conducted at the end of the period

28

Kim, Wang, and Wang: Posted Price versus Auction Mechanisms In Freight Marketplaces

to receive load allocation confirmation. By the assumption of uniform carrier arrivals, the AWT of any auction mechanism is 0.5. Under the HYB mechanism, the allocation waiting time of a carrier depends on how the submitted opportunity cost compares with the posted price. If a carrier's opportunity cost is no more than the posted price, then load allocation is confirmed immediately upon arrival and the allocation waiting time of this carrier is zero. Otherwise, the carrier needs to wait until the auction is closed to receive load allocation confirmation.
Table 1 summarizes the profit loss ratio and average allocation waiting time under policies SP, AUC-2 and HYB in a transportation network with two nodes. Notice that it suffices to report the AWT of HYB, since the AWT of SP and AUC-2 are equal to 0 and 0.5, respectively. We observe that the gap between the simulated long-run average profit under all the three policies and the fluid upper bound decreases as the system size  becomes larger, which is consistent with the findings in Theorems 2-4. Moreover, Table 1 shows a trade-off between the two competing performance metrics, the profit loss ratio and the AWT. The long-run average profit and the average load waiting time under the SP mechanism are the lowest, while those under the AUC-2 are the highest. In other words, a higher long-run average profit comes at the expense of a longer waiting time before carriers can receive load allocations. Compared with SP and AUC-2, the HYB mechanism achieves a balanced trade-off between the profit loss ratio and the AWT. In particular, we observe that HYB can achieve a 30%-50% reduction in the profit loss ratio compared with the SP policy, at the expense of a slightly increased AWT from 0 to around 0.15. In view of this, the HYB policy can be an attractive alternative for platforms that care about both the average profit and the carriers' waiting time experience.

Table 1

Profit Loss Ratio(%) AWT  SP AUC-2 HYB HYB 5 23.33 11.58 16.21 0.14 10 16.10 5.98 9.76 0.15 25 12.03 3.62 6.18 0.15 50 8.10 1.43 3.95 0.15
Profit Loss Ratio and AWT under SP, AUC-2 and HYB when |N | = 2
.

To gain further insights about the performance of the three policies, we breakdown the longrun average cost into two components, the payment made to the carriers in the marketplace and the penalty incurred (or, payment made to third-party companies) due to the excess demand, and the results are summarized in Table 2. First, we observe that SP incurs the highest average total cost, which is as expected, since all the three policies adopt the same shipper-side pricing mechanism, while SP has the largest profit loss. Second, we observe that HYB makes the highest

Kim, Wang, and Wang: Posted Price versus Auction Mechanisms In Freight Marketplaces

29

average payment to the carriers among the three policies. This is intuitive because HYB offers the higher payment of that under SP and AUC-2 by the definition of the payment rule (23). As for the average penalty, SP incurs the highest penalty cost due to unsatisfied demand. Recall that the reserve price  under AUC-2 and HYB is higher than the posted price p. Then intuitively, both AUC-2 and HYB accept more carriers to transport loads, i.e., E[YiHjtYB] = E[YiAjtUC-2]  E[YiSjPt ], which leads to a lower average penalty cost than that under SP.

Average Cost

Average Payment

Average Penalty

 SP AUC-2 HYB SP AUC-2 HYB SP AUC-2 HYB

5 88.65 70.7 77.77 44.47 54.35 62.07 44.18 16.35 15.7

10 155.22 124.32 135.86 93.72 111.02 123.31 61.5 13.3 12.55

25 356.98 292.77 312.3 243.33 282.72 303.22 113.65 10.05 9.08

50 653.84 552.09 590.58 504.04 550.01 589.03 149.8 2.08 1.55

Table 2 Cost decomposition under SP, AUC-2 and HYB when |N | = 2

.

7.2. Robustness Checks In this section, we conduct additional numerical experiments to test the robustness of the insights obtained from our results. In particular, we simulate and compare the performance of different policies in networks with more than two nodes, and investigate how the profit loss ratio and average allocation waiting time change with respect to various system parameters.
7.2.1. Multi-location Networks. We have simulated the long-run average profit for transportation networks with three nodes and four nodes. Since the HYB mechanism may not be incentive compatible when the number of nodes in the network is larger than two, Table 3 reports the profit loss ratio only for the posted price mechanism SP and the auction mechanism AUC-2. We observe that the profit gap of the SP mechanism decreases as the network has a larger number of nodes. However, the profit loss ratio of the AUC-2 mechanism becomes larger as the number of nodes increases. Nevertheless, the auction mechanism still outperforms the posted price mechanism. The simulation results in Table 3 suggest that auction mechanism is particularly advantageous in small sized transportation networks.
7.2.2. Effect of Penalty Costs. Table 4 summarizes how the performance of the three different mechanisms SP, AUC-2 and HYB change with respect to the penalty cost parameter. In our simulation, we fix the scale parameter as  = 50. All the other parameters remain the same as those in Section 7.1 except the penalty cost parameter, where bij  {10, 15, 20} for each O-D pair (i, j)  E. We observe that the profit loss ratio of SP increases significantly as the penalty cost parameter becomes larger, while the profit loss ratio of the other two policies are not that

30

Kim, Wang, and Wang: Posted Price versus Auction Mechanisms In Freight Marketplaces

Profit Loss Ratio(%) Profit Loss Ratio(%) Profit Loss Ratio(%)

with |N | = 2

with |N | = 3

with |N | = 4

 SP

AUC-2

SP

AUC-2

SP

AUC-2

5 23.33

11.58

22.63

15.77

20.21

15.44

10 16.10

5.98

15.86

10.02

14.07

10.45

25 12.03

3.62

9.30

5.22

8.91

6.07

50 8.10

1.43

7.81

4.26

6.66

4.54

Table 3 Profit loss ratio under SP and AUC-2 in multi-location networks.

sensitive to the change in bij. Intuitively, the posted price mechanism has the largest amount of excess demand, and hence is most affected by the change in the penalty cost parameter. As for the average allocation waiting time, our numerical results suggest that AWT is immune to the change in the penalty cost parameter.

Table 4

Profit Loss Ratio(%) AWT bij SP AUC-2 HYB HYB 10 8.10 1.43 3.95 0.15 15 12.57 1.45 3.78 0.15 20 18.53 1.76 4.05 0.15
Impact of penalty cost parameter b on profit loss ratio and AWT when |N | = 2.

7.2.3. Effect of Staying Probabilities. In addition to the penalty cost parameter, we have also conducted additional numerical experiments to investigate the impact of q, the probability that a carrier will stay in the marketplace after completing a load transportation. The scale parameter is fixed at  = 50. All the other parameters remain the same as those in Section 7.1 except the staying probability parameter, where qij  {0.4, 0.6, 0.8} for each O-D pair (i, j)  E. As shown in Table 5, the profit loss ratio of both AUC-2 and HYB decreases as qij increases, whereas the profit gap under SP does not exhibit any specific monotonic pattern in qij. Moreover, we observe a slight increase in the average allocation waiting time of the HYB mechanism as qij becomes larger.

Table 5

Profit Loss Ratio(%) AWT qij SP AUC-2 HYB HYB 0.4 8.10 1.43 3.95 0.15 0.6 9.73 1.26 3.39 0.17 0.8 9.51 0.45 2.56 0.19
Impact of staying probability q on profit loss ratio and AWT when |N | = 2.

7.2.4. Effect of Carrier Arrival Balancedness. Our final numerical study examines how the balancedness of the external carrier arrival rates affect the performance of the three policies. The scale parameter is fixed at  = 50. All the other parameters remain the same as those in Section 7.1

Kim, Wang, and Wang: Posted Price versus Auction Mechanisms In Freight Marketplaces

31

except the external carrier arrival rates, where   {(3, 3), (2, 4), (, 5)}. As we observe from Table 6, an imbalanced arrival rate seems to negatively affect the long-run average profit achieved by all the three policies. On the other hand, the numerical results suggest that the balancedness level of  does not have any material impact on the average allocation waiting time.

Table 6

Profit Loss Ratio(%) AWT  SP AUC-2 HYB HYB (3, 3) 8.10 1.43 3.95 0.15 (2, 4) 9.09 2.19 4.38 0.15 (, 5) 9.12 2.03 4.41 0.16
Impact of exogenous carriers inflow rates  on profit loss ratio and AWT when |N | = 2.

8. Concluding Remarks
In this paper, we study a mechanism design problem for freight marketplaces. We consider a freight platform who serves as an intermediary between shippers and carriers in a truckload transportation network and aims to maximize its long-run average profit. We have proposed and analyzed three types of mechanisms: posted price mechanisms, auction mechanisms, and a hybrid of both. First, we show that a static posted price mechanism based on fluid approximation is asymptotically optimal when the shipper demand and the carrier supply are both large. Second, we study an auction mechanism to determine the load allocation and payments to the carriers. Our proposed auction mechanism applies the VCG auction on a Lagrangian decomposition of the transportation network. We show that this auction mechanism generates higher profits for the platform than the static posted price mechanism in the two-node case. Finally, we study a hybrid mechanism, in which carriers can either book a load instantly by accepting the posted price offered by the platform, or join an auction to seek higher payments. We show that the hybrid mechanism can achieve a trade-off between platform profit and carrier waiting time, and is asymptotically optimal in the two-node case.
There are several possible directions to extend our research. First, our model assumes that the lead time of each load is one period. That is, any load arriving at the beginning of a period will expire at the end of the period and cannot be carried over to the next period. It would be interesting to generalize our model and consider loads with heterogeneous, multi-period lead times. Second, our proposed static posted price mechanism uses a fixed price for each O-D pair. To improve the platform's profit, it would be interesting to consider prices that dynamically change over time in response to the system states. Finally, it still remains challenging to analyze auction and hybrid mechanisms for networks with an arbitrary number of nodes, and we shall leave it to future research.

32

Kim, Wang, and Wang: Posted Price versus Auction Mechanisms In Freight Marketplaces

References
ATA (2021). Americal Trucking Associations: Economics and industry data. https://www.trucking.org/ economics-and-industry-data/. [Online; accessed 9-March-2021].
Ausubel, L. M. and Cramton, P. (2004). Vickrey auctions with reserve pricing. Economic Theory, 23(3):493­ 505.
Ausubel, L. M., Milgrom, P., et al. (2006). The lovely but lonely vickrey auction. Combinatorial auctions, 17:22­26.
Cao, Y., Kleywegt, A., and Wang, H. (2020). Dynamic pricing for truckload transportation marketplaces. Available at SSRN 3700227.
Caplice, C. (2007). Electronic markets for truckload transportation. Production and Operations Management, 16(4):423­436.
Clarke, E. H. (1971). Multipart pricing of public goods. Public choice, pages 17­33. Convoy (2018). Introducing instant bidding: Helping carriers find the right job at the right price. https:
//convoy.com/blog/instant-bidding/. [Online; accessed 21-January-2021]. Cooper, W. L. (2002). Asymptotic behavior of an allocation policy for revenue management. Operations
Research, 50(4):720­727. Einav, L., Farronato, C., Levin, J., and Sundaresan, N. (2018). Auctions versus posted prices in online
markets. Journal of Political Economy, 126(1):178­215. Figliozzi, M. A., Mahmassani, H. S., and Jaillet, P. (2003). Framework for study of carrier strategies in
auction-based transportation marketplace. Transportation Research Record, 1854(1):162­170. Figliozzi, M. A., Mahmassani, H. S., and Jaillet, P. (2005). Impacts of auction settings on the performance
of truckload transportation marketplaces. Transportation research record, 1906(1):89­96. Foster, F. G. (1953). On the stochastic matrices associated with certain queuing processes. Annals of
Mathematical Statistics, 24(3):355­360. Gallego, G. and Van Ryzin, G. (1994). Optimal dynamic pricing of inventories with stochastic demand over
finite horizons. Management science, 40(8):999­1020. Gallego, G. and Van Ryzin, G. (1997). A multiproduct dynamic pricing problem and its applications to
network yield management. Operations research, 45(1):24­41. Godfrey, G. A. and Powell, W. B. (2002). An adaptive dynamic programming algorithm for dynamic fleet
management, ii: Multiperiod travel times. Transportation Science, 36(1):40­54. Groves, T. (1973). Incentives in teams. Econometrica: Journal of the Econometric Society, pages 617­631. Liu, Q. and Van Ryzin, G. (2008). On the choice-based linear programming model for network revenue
management. Manufacturing & Service Operations Management, 10(2):288­310.

Kim, Wang, and Wang: Posted Price versus Auction Mechanisms In Freight Marketplaces

33

Maglaras, C. and Meissner, J. (2006). Dynamic pricing strategies for multiproduct revenue management problems. Manufacturing & Service Operations Management, 8(2):136­148.
McFadden, D. (1973). Conditional logit analysis of qualitative choice behaviour. In Zarembka, P., editor, Frontiers in Econometrics, pages 105­142. Academic Press New York, New York, NY, USA.
Myerson, R. B. (1981). Optimal auction design. Mathematics of Operations Research, 6(1):58­73. Rothkopf, M. H. (2007). Thirteen reasons why the vickrey-clarke-groves process is not practical. Operations
Research, 55(2):191­197. Topaloglu, H. and Powell, W. (2007). Incorporating pricing decisions into the stochastic dynamic fleet
management problem. Transportation Science, 41(3):281­301. Uber Freight (2020). Uber freight announces in-app bidding for carriers. https://www.uber.com/blog/
does-uber-freight-allow-bidding/. [Online; accessed 21-January-2021]. Vickrey, W. (1961). Counterspeculation, auctions, and competitive sealed tenders. The Journal of finance,
16(1):8­37.

e-companion to Kim, Wang, and Wang: Posted Price versus Auction Mechanisms In Freight Marketplaces

ec1

Appendix

Proofs in Section 2 Proof of Lemma 1. We prove Lemma 1 by showing the stability of a modified system whose
expected total number of carriers is greater than or equal to that of the original system. We use the Foster's theorem (Foster 1953) to prove the stability of the new system, and we show that the existence of the stationary distribution of the new system implies the stability of the original system. Notice that it suffices to consider the stability of the carrier side since the new shipper demand Dt follows a Poisson distribution with known rate and all the loads are served either by the carriers in the marketplace or the third-party.
Consider a modified model in which a carrier stays on the platform with probability q^ after completing a load shipment in each period, where q^ := max(i,j)E qij, regardless of whether the carrier hauls a load. Let S^t be the total number of carriers in the modified system at the beginning of period t. Let ^ = i i be the total arrival rate of carriers in each period. The total arrival of carriers in period t, ^t, follows a Poisson distribution with parameter ^. The number of remaining carriers at the end of period t, Z^t, follows a Binomial distribution with parameters q^ and S^t. To explicitly show the dependency of Z^t on the parameter q^, we write Z^t as Z^t(q^|S^t) whenever necessary. Then in the modified model, the carriers available at the next period are

S^t+1 = Z^t(q^|S^t) + ^ t+1.

The one-step transition probability from state l to state k is given by

min{l,k}
Pr(S^t+1 = k|S^t = l) =

l m

q^m(1 - q^)l-me-^ ^k-m . (k - m)!

m=0

Clearly, E[ iN Sit]  E[S^t] if E[S^t] exists, where Sit is the number of carriers at node i in period t in the original model. Therefore, to prove Lemma 1, it suffices to show the existence of E[S^t].
We use Foster's Theorem to show that a stationary distribution exists in the modified system.

Let Z+ denote the set of non-negative integers. Define a Lyapunov function  as

(S^t) := S^t.
By the definition of S^t, we assume (S^t)  0 without loss of generality. By Foster's Theorem, the Markov chain of the modified platform is positive recurrent if the Lyapunov function  satisfies

Pr(S^t+1 = k|S^t = l)(k) < , l  F,
k=0

ec2

e-companion to Kim, Wang, and Wang: Posted Price versus Auction Mechanisms In Freight Marketplaces


Pr(S^t+1 = k|S^t = l)(k)  (l) - , l / F,
k=0

for some finite set F and > 0.

We first show that

 k=0

Pr(S^t+1

=

k|S^t

=

l)(k)

<



for

any

state

l



Z+.

We

have





Pr(S^t+1 = k|S^t = l)(k) = Pr(S^t+1 = k|S^t = l)k

k=0

k=0

l



= Pr(S^t+1 = k|S^t = l)k +

Pr(S^t+1 = k|S^t = l)k.

k=0

k=l+1

It is clear that equation:

l k=0

Pr(S^t+1

=

k|S^t

=

l)k

is

bounded.

Consider

the

second

term

in

the

above





Pr(S^t+1 = k|S^t = l)k =

l

l q^m(1 - q^)l-me-^ ^k-m k

m

(k - m)!

k=l+1

k=l+1 m=0

l
=

l q^m(1 - q^)l-me-^ ^k-m (k - m + m)

m

(k - m)!

k=l+1 m=0

l
=

l q^m(1 - q^)l-m  e-^ ^k-m (k - m + m).

m

(k - m)!

m=0

k=l+1

We can get an upper bound of the above inner summation term as follows:



e-^

^k-m


(k - m + m)  e-^

^k-m

(k - m + m)

(k - m)!

(k - m)!

k=l+1

k=m



=

e-^

^k-m


(k - m) + e-^

^k-m

m

(k - m)!

(k - m)!

k=m

k=m

 ^ + m.

Then, we have



l

Pr(S^t+1 = k|S^t = l)k 

l q^m(1 - q^)l-m(^ + m) m

k=l+1

m=0

 ^ + lq^(1 - q^).

It then immediately follows that

 k=0

Pr(S^t+1

=

k|S^t

=

l)(k)

<



for

all

l



Z+.

We next show that there exist a finite set F  and a real positive number  that satisfy the

second condition of the Foster's theorem:


Pr(S^t+1 = k|S^t = l)(k)  (l) - , l / F .
k=0

e-companion to Kim, Wang, and Wang: Posted Price versus Auction Mechanisms In Freight Marketplaces

ec3

We have


Pr(S^t+1 = k|S^t = l)(k) - (l)

k=0 
= Pr(S^t+1 = k|S^t = l)k - l

k=0 
= Pr(S^t+1 = k|S^t = l)(k - l)

k=0

l



= Pr(S^t+1 = k|S^t = l)(k - l) +

Pr(S^t+1 = k|S^t = l)(k - l).

k=0

k=l+1

Then, the condition can be expressed as:

l



Pr(S^t+1 = k|S^t = l)(k - l) +

Pr(S^t+1 = k|S^t = l)(k - l)  - , l / F .

k=0

k=l+1

In what follows, we will show the existence of  and F  that satisfy the following two inequalities:

l
Pr(S^t+1 = k|S^t = l)(k - l) < -^ - , l / F ,
k=0 
Pr(S^t+1 = k|S^t = l)(k - l)  ^, l / F .
k=l+1

(EC.1) (EC.2)

To show (EC.1), we first show

l

Pr(S^t+1 = k|S^t = l)k  ^ + lq^(1 - q^)

(*)

k=0

for any l  Z+, and then show the existence of  > 0 and F  such that

l

Pr(S^t+1 = k|S^t = l)l > lq^(1 - q^) + 2^ + , l / F .

(**)

k=0

Combining the above two inequality immediately leads to (EC.1).

We first show (*). We have

l

l

Pr(S^t+1 = k|S^t = l)k =

k

k q^m(1 - q^)k-me-^ ^k-m k

m

(k - m)!

k=0

k=0 m=0

lk
=

k q^m(1 - q^)k-me-^ ^k-m (k - m + m)

m

(k - m)!

k=0 m=0

k
=

k

q^m(1 - q^)k-m

l
e-^

^k-m

(k - m + m)

m

(k - m)!

m=0

k=0

k


k q^m(1 - q^)k-m(^ + m)

m

m=0

 ^ + lq^(1 - q^).

ec4

e-companion to Kim, Wang, and Wang: Posted Price versus Auction Mechanisms In Freight Marketplaces

We next show (**). Consider any k, l  Z+ such that l > k. By the probability mass function of the Binomial distribution, we have

Pr(Zt(q^|l) = l - k) =

l l-k

q^l-k(1 - q^)k.

It then follows that

lim

Pr(Zt(q^|l) = l - k)

l-k+1 1

= lim

=,

l Pr(Zt(q^|l + 1) = l + 1 - k) l (l + 1)q^ q^

which implies that liml Pr(Zt(q^|l) = l - k) = 0. Then, for any > 0 and k, there exists some N  Z+ such that
Pr(Zt(q^|l) = l - k) < , l > N.

Consider some  such that 0 <  < 1 - q^+ q^2. As ^t follows a Poisson distribution, there exists a   Z+ such that Pr(^ t >  ) < /2. Given  > 0, consider Nk  Z+ such that Pr(Zt(q^|l) = l - k) < /(2 ) for all l > Nk. Let N := maxk {Nk}. We have

 -1
Pr(Zt(q^|l) > l -  ) = Pr(Zt(q^|l) = l - k) < /2, l > N .
k=0
Combining the two inequalities Pr(^ t+1 >  ) < /2 and Pr(Zt(q^|l) > l -  ) < /2, we have

Pr(Zt(q^|l) > l -  or ^ t+1 >  ) < , l > N .

Recall that S^t+1 = Z^t(q^|S^t) + ^ t+1. If S^t+1 > S^t and ^ t+1   , then we have Z^t(q^|S^t) > S^t - ^ t+1  S^t -  , which leads to Pr(S^t+1 > S^t)  Pr(Z^t(q^|S^t) > S^t -  or ^ t+1 >  ). It then implies that


Pr(S^t+1 = k|S^t = l) < , l > N .
k=l+1

Or equivalently,

l
Pr(S^t+1 = k|S^t = l)  1 - ,

k=0

Let N  := max{ (2^ + )/(1 - q^+ q^2 - ) , N }. We have

l > N .

l
Pr(S^t+1 = k|S^t = l)l  (1 - )l > lq^(1 - q^) + 2^ + , l > N .
k=0

Let F  := {l  Z+ : l  N } and recall that

l k=0

Pr(S^t+1

=

k|S^t

=

l)k



^ + lq^(1 - q^)

for

any

l.

It

then leads to

l
Pr(S^t+1 = k|S^t = l)(k - l) < -^ - , l / F .
k=0

e-companion to Kim, Wang, and Wang: Posted Price versus Auction Mechanisms In Freight Marketplaces

ec5

Finally, it remains to show (EC.2). We have





Pr(S^t+1 = k|S^t = l)(k - l) =

l

l q^m(1 - q^)l-me-^ ^k-m (k - l)

m

(k - m)!

k=l+1

k=l+1 m=0

l
=

l

q^m(1 - q^)l-m


e-^

^k-m (k - m + m - l)

m

(k - m)!

m=0

k=l+1

l


l q^m(1 - q^)l-m  e-^ ^k-m (k - m)

m

(k - m)!

m=0

k=l+1

l


l q^m(1 - q^)l-m^

m

m=0

= ^.

Therefore, we have N }.

 k=0

Pr(S^t+1

= k|S^t

= l)(k - l) < -



for

all

l / F 

where

F

:= {l  Z+ : l 

The existence of F  and  that satisfy the two conditions for the Foster's theorem implies that

the modified system is stable. By definition, the expected total number of carriers in the modified

system is an upper bound of that in the original system. Therefore, the expected total number of

carriers in our original is bounded, which completes the proof.

Proofs in Section 3 Proof of Lemma 2. We showed that any mechanism has a stationary distribution by Lemma
1. Consider any platform mechanism   . As the system is assumed to be in a steady state, we have
E[St+1] = E[St],

or alternatively,

E[Sjt+1] = E[Sjt], j  N ,

where the expectation is taken with respect to the stationary distribution of the Markov chain induced by a given policy. Taking expectation on both sides of Eq (4) and defining S¯j := E[Sjt], Y¯jk := E[Yjkt], and V¯j := E[Vjt], we have





S¯j = E 

Yjkt + Vjt =

Y¯jk + V¯j.

k + (j )

k + (j )

(EC.3)

Taking expectation on both sides of the system dynamics equation Eq (5), we have





S¯j = E 

Zijt + jt+1

i - (j )

ec6

e-companion to Kim, Wang, and Wang: Posted Price versus Auction Mechanisms In Freight Marketplaces

=

E [E [Zijt|Yijt]] + E[jt+1]

i - (j )

=

E [E [Yijtqij|Yijt]] + j

i - (j )

(EC.4)

=

qijE [Yijt] + j

i - (j )

=

qijY¯ij + j,

i - (j )

where Eq (EC.4) holds because for a given value of Yijt, Zijt follows a binomial distribution with parameters (qij, Yijt). Notice that Y¯ij represents the long-run average fluid rate of carriers who actually ship a load from node i to node j, which should be no more than the (fluid) demand rate dij from node i to node j: Y¯ij  dij. Then, the following constraints are necessary for any mechanism under which the system is stable:

qijY¯ij + j =

Y¯jk + V¯j,

i - (j )

k + (j )

Y¯ij  dij, (i, j)  E,

Y¯ij  0, (i, j)  E,

V¯i  0, i  N .

j  N ,

Therefore, we can conclude that the constraints of FA are necessary conditions for any mechanism under which the system is stable.

Proof of Lemma 3. Since our analysis does not depend on the specific location that the carrier originates from, and with the assumption of symmetric carriers, we will drop the node index i and the carrier index s for notation simplicity whenever the context is clear.
Under a state (S, D) of an IC and IR mechanism, consider the net utility u(C) of a carrier with true opportunity costs C  Rn. By the IC constraint, we have

u(C) = p(C) - a(C) · C  p(z) - a(z) · C = u(z) - a(z) · (C - z)

for any z  Rn. This implies that u(C) is a convex function with gradient -a(C), and therefore,

we

have

 

u(C)

=

-a(

C)

·

C

for

any

C  Rn.

It

then

follows

that

+

u(C) = u(C)|=1 - u(C)|=+ =

a(C) · Cd,

1 +

u(0) = u(C)|=0 - u(Ct)|=+ =

a(C) · Cd,

0

C  0. C  0.

For any C  Rn, it holds that

+

1

u(C) = u(0) + (u(C) - u(0)) =

a(|C|) · (|C|)d - a(C) · Cd.

0

0

e-companion to Kim, Wang, and Wang: Posted Price versus Auction Mechanisms In Freight Marketplaces

ec7

In what follows, we will use E^[·] to represent E[·|S, D] for notation simplicity whenever the context is clear. We next derive the carrier's expected net utility E^[u(C)]. It follows from the above equation that

+

1

E^[u(C)] = E^

a(|C|) · (|C|)d - a(C) · Cd

0 +

0 1

=

a(|C|) · (|C|)d - a(C) · Cd f (C)dC

Rn

0

+

0 1

=

a(|C|) · (|C|)df (C)dC -

a(C) · Cdf (C)dC

Rn 0

+

= E^

a(|C|) · (|C|)d - E^

Rn 0 1
a(C) · Cd .

0

0

(EC.5)

Consider the first term inf Equation (EC.5). Recall that G(z) := I(z  0)

+ 0

g(

z)d

. We have

+

E^

a(|C|) · (|C|)d =

+
a(C) · CI(C  0)g(C)ddC

0

Rn 0

+

z

z

z

=

a(z) · I(z  0)g dd

Rn 0







+ z

= a(z) · zI(z  0)

g

Rn

0



1 d dz
2

+ z

1

= a(z) · zI(z  0) - g d

dz

Rn

0



0

= a(z) · zI(z  0) - g(z)d dz

Rn

+

f (z)

= a(z) · zG(z)dz = a(z) · zG(z) dz

Rn

Rn

f (z)

= E^

G(C) a(C) · C

.

f (C)

Next we consider the second term in Equation (EC.5). Recall that H(z) :=

+ 1

f (z)d.

We

have

1
E^ a(C) · Cd =

1
a(C) · Cf (C)ddC

0

Rn 0

1

zz

z

=

a(z) · f dd

Rn 0







1z

= a(z) · z f

Rn

0



1 d dz
2

1z

1

= a(z) · z - f d

dz

Rn

0





1

= a(z) · z - f (z)d dz

Rn

+

+

= a(z) · z

f (z)d dz

Rn

1

ec8

e-companion to Kim, Wang, and Wang: Posted Price versus Auction Mechanisms In Freight Marketplaces

f (z)

= a(z) · zH(z)dz = a(z) · zH(z) dz

Rn

Rn

f (z)

= E^

H (C) a(C) · C

.

f (C)

Therefore, the expected net utility is given by

E^[u(C)] = E^

G(C) a(C) · C

- E^

H (C) a(C) · C

f (C)

f (C)

= E^ a(C) · C

G(C) H(C) -

.

f (C) f (C)

The remainder of the proof follows from the definitions of p(·) and . Recall that p(C) =

u(C) + a(C) · C and (C) := C

1

+

G(C) f (C)

-

H (C) f (C)

. Then, the expected payment to the carrier is

E^[p(C)] = E^[u(C) + a(C) · C]

= E^

G(C)

H (C)

a(C) · C

- a(C) · C

+ a(C) · C

f (C)

f (C)

= E^

a(C) · C

G(C) H(C)

1+

-

f (C) f (C)

= E^[a(C) · (C)],

which completes the proof.

Proof of Lemma 4. Consider a state (S,D) in the stationary distribution of the system. For notation simplicity, we will use E^[·] to denote the conditional expectation E[·|S, D] in the proof. By Lemma 3, we have E^[psi (Csi )] = E^[asi (Csi ) · i(Csi )]. Then the expected total payment made by the platform to all carriers at node i is given by

E^[Pi] = E^  E^  E^

Si
asi (Csi ) · i(Csi )

s=1

Si

Si

Si

min si · i(Csi ), s.t. si  i, si  asi (Csi )

s=1

s=1

s=1

Si

Si

Si

min si · i(Csi ) + i ·

asi (Csi ) - si , s.t. si  i

s=1

s=1

s=1

where i := i  Rn+ : j+(i) ij  1 . The last inequality follows from relaxing the constraints

Si s=1

si



Si s=1

asi

(Csi

)

with

Lagrangian

multipliers

i

= (ij

 0, j

 +(i))

(the

value

of

i

will

be specified later). It then follows that

Si

Si

Si

E^ min si · i(Csi ) + i ·

asi (Csi ) - si , s.t. si  i

s=1

s=1

s=1

Si

Si

= i · E^

asi (Csi ) + E^ min si · (i(Csi ) - i), s.t. si  i

s=1

s=1

e-companion to Kim, Wang, and Wang: Posted Price versus Auction Mechanisms In Freight Marketplaces

ec9

Si

= i · E^

asi (Csi ) + SiE^ [min i · (i(Ci) - i), s.t. i  i]

s=1

= i · E^[Yi] + SiE^ [min i · (i(Ci) - i), s.t. i  i]

= i · E^[Yi] + SiE^ [min{ij(Ci) - ij, j = 1, ..., n}  0]

= i · E^[Yi] + SiE^ [Ii(Ci, i) · (i(Ci) - i)]

= i · E^[Yi] - SiE^ [Ii(Ci, i)] + SiE^ [Ii(Ci, i) · i(Ci)] .

(EC.6) (EC.7)
(EC.8) (EC.9)

A few remarks are in order. Eq (EC.6) follows from the assumption of symmetric carriers where Csi are independent and identically distributed, and index s is dropped from this equation onwards.

Eq (EC.7) follows from the relationship between the allocation probabilities asij and the number

of transported loads Yij for each O-D pair, where E^

Si s=1

asij

(Csi

)

= E^[Yij]. Eq (EC.8) holds by

the definition of the 0-1 vector Ii(Ci, i), where its jth entry is equal to one if ij(Ci) - ij is

non-positive and is the minimum among {ik(Ci) - ik : k  +(i)}, and equal to zero otherwise.

Note that the function E^[Ii(Ci, i)] is continuous (since Ci follows a continuous distribution) and

increasing in i. Therefore, for any Yi such that E^[Yi] · 1  Si, we can pick some Yi such that E^[Yi] = SiE^[Ii(Ci, Yi)]. Then it follows from Eq (EC.9) that

E^ [Pi]  SiE^ Ii(Ci, Yi ) · i(Ci) .

(EC.10)

Consider a posted price mechanism with the price vector pi given by

pij = ln

Si -

E^ [Yij] k+(i) E^ [Yik]

1

+ ij

. 

By the property of the MNL choice model, the choice probabilities of carriers under this price

vector are E^[Yi]/Si. That is, pi satisfies

E^[Yij] = Si

exp(pij - ij)

.

k+(i) exp(pik - ik) + 1

Note that this posted price mechanism has the same allocation probability as a mechanism with

allocation function Ii(Ci, Yi). By the revenue equivalence principle (Lemma 3), any mechanism that results in the same allocation probability must have the same expected payment. Therefore,

we have

SiE^ Ii(Ci, Yi ) · i(Ci) = Sipi · E^ [Yi]/Si = pi · E^ [Yi],

where the left-hand side is a lower bound of the expected payment of the mechanism being con-

sidered (see Eq (EC.10)) and the right-hand side is the expected payment of the posted price

mechanism. Combining the above equation with Eq (EC.10), it then follows that

Si

E [Pi] = E E^

pi(Ci)

s=1

ec10

e-companion to Kim, Wang, and Wang: Posted Price versus Auction Mechanisms In Freight Marketplaces

 E[pi · E^[Yi]]

=

E ln

j  + (i)

Si -

E^ [Yij] k+(i) E^ [Yik]

+ ij

1 

E^ [Yij

]



ln

j  + (i)

E[Yij ] E[Si] - k+(i) E[Yik]

+ ij

1  E[Yij].

The last inequality follows from the Jensen's inequality. To see this, recall that we showed in Section

3.2

that

1 

ln

y¯ij v¯i

+ ij y¯ij is a convex function, where v¯i = ¯i -

j y¯ij. As convexity is preserved

under

linear

transformations,

1 

ln

y¯ij ¯i- j y¯ij

+ ij y¯ij is also a convex function.

Proofs in Section 4 Proof of Lemma 5. First, notice that pij  bij for all (i, j)  E. To see this, suppose pij > bij,
and then we have

rij dij (rij ) - pij y¯ij - bij (dij - y¯ij ) <

rij dij (rij ) - bij dij ,

(i,j)E

(i,j)E

which leads to a contradiction that pij is the optimal price. Recall that the platform's long-run average profits under SP and SP-2 are given by

SP =

rij dij (rij ) - bij dij +

(bij - pij )E YiSjP

(i,j)E

(i,j)E

SP-2 =

rij dij (rij ) - bij dij +

(bij - pij )E YiSjP-2 ,

(i,j)E

(i,j)E

where E[YiSjP] and E[YiSjP-2] are the expected number of carriers who delivered a load from node i to node j in a state of the stationary distribution under SP and SP-2, respectively. For notation simplicity, we will omit the dependency on  in the proof. We will next show E[YiSjP-2]  E[YiSjP], which then immediately leads to SP-2  SP.
To show E[YiSjP-2]  E[YiSjP], consider a coupling (YiSjPt , YiSjPt -2) for all (i, j)  E and for all t in the same probability space, where YiSjPt  YiSjPt and YiSjPt -2  YiSjPt -2. We next show YiSjPt -2  YiSjPt for all (i, j)  E and for all t by induction. Without loss of generality, we can assume that SiS1P = SiS1P-2 = 0 for all i  N because the initial state does not affect the stationary distribution.
Base Case. When t = 1, it is clear that YiSjPt = YiSjPt -2 = 0 for all (i, j)  E because our model assumes zero carrier in the marketplace at the beginning of period 1.
Induction Step. Suppose YiSjPt -2  YiSjPt for all (i, j)  E . We set ZiSjPt = ZiSjPt-2 + ZiDjItFF and SjtP+1 = SjtP+-21, where ZiDjItFF follows the binomial distribution B(YiSjPt - YiSjPt -2, qij). Then, we have

SjStP+1 =

ZiSjPt-2 + SjtP+-21 +

ZiDjItFF = SjStP+-21 +

ZiDjItFF, j  N .

i - (j )

i - (j )

i - (j )

e-companion to Kim, Wang, and Wang: Posted Price versus Auction Mechanisms In Freight Marketplaces

ec11

As ZiDjItFF  0, we have SjStP+1  SjStP+-21 for each j  N . Set DSt+P1 = DSt+P-12 and CSitP+1 = (CSitP+-21, CDitI+FF1) for each i  N , where CDitI+FF1 is the opportunity cost vector for those (SiStP+1 - SiStP+-21) carriers who arrive at node i after CSitP+-21 is realized. Note that the static posted price mechanisms make load allocation

decisions independently at each origin node. As the decisions under the SP mechanism for the first

SiStP+-21 carriers who arrive at node i do not depend on the carriers who arrive afterwards, we have

A[isj]t,+SP1(CSitP+-21

)

=

A[s],SP ijt+1

(CSitP+1)

for

all

s  SiStP+-21.

Let XiSjPt+-21(CSitP+-21) be the set of carriers who choose to deliver a load from node i to node j at

period t + 1 under the SP-2 mechanism when carriers report their opportunity costs CSitP+-21. Note

that we have YiSjPt+-21 =

A (C ), [s],SP-2
[s]XiSjPt-+2 1(CSitP+-21) ijt+1

SP-2 it+1

where

the

superscript

[s]

is

used

to

denote

the sth carrier that arrives to the marketplace. Consider carrier [s]  XiSjPt+-21(CSitP+-21):

Case

1.

If

A[s],SP ijt+1

(CSitP+-21)

= 1,

then

all

the

carriers

who

arrive

at

node

i

earlier

than

carrier

[s]

and choose to deliver a load from node i to node j in period t + 1 are accepted by the SP mech-

anism.

More

specifically,

if

[s ]  XiSjPt+-21(CSitP+-21)

and

s

 s,

then

A[s ],SP ijt+1

(CSitP+-21)

=

A[s ],SP-2 ijt+1

(CSitP+-21)

=

1.

Otherwise,

if

[s ] / XiSjPt+-21(CSitP+-21)

and

s

 s,

then

A[s ],SP ijt+1

(CSitP+-21)

=

1

and

A[s ],SP-2 ijt+1

(CSitP+-21)

=

0

because the SP-2 mechanism cannot accept any carrier not in XiSjPt+-21(CSitP+-21). Then, we have

s s

=1

A[isjt]+,S1P-2(CSitP+-21)



s s

=1

A[s ],SP ijt+1

(CSitP+-21).

Case

2.

If

A[s],SP ijt+1

(CSitP+-21)

= 0,

then

it

must

be

the

case

that

D[s],SP ijt+1

=

0

since

both

SP

and

SP-2

use the same posted price. In other words, all the DiSjPt+1 loads have been booked and the remaining

demand

when

carrier

[s]

arrives

is

zero,

which

then

implies

D[s],SP-2 ijt+1

 Di[sj]t,+SP1.

Therefore,

we

have

s s

=1

A[isjt]+,S1P-2(CSitP+-21)



s s

=1

A[s ],SP ijt+1

(CSitP+-21)

=

DiSjPt+1.

By the above two cases, we have

YiSjPt+-21 =

SiStP+-21

SiStP+1

A[isj]t,+SP1-2(CSitP+-21) 

A[s],SP ijt+1

(CSitP+-21)



Ai[sj]t,+SP1(CSitP+1) = YiSjPt+1.

[s]XiSjPt-+2 1(Cit+1)

s=1

s=1

The last inequality holds because the load allocation decisions for the first SiStP+-21 carriers are not

affected by the decisions for later carriers that arrive afterwards, and we have

SiStP+1 s=1

Ai[sj]t,+SP1(CSitP+1)

=

SiStP+-21 s=1

A[isj]t,+SP1(CSitP+1)

+

A (C ). SiStP
s=SiStP+-21 +1

[s],SP ijt+1

SP it+1

This

completes

the

proof

of

the

induction

step.

Therefore, we have YiSjPt -2  YiSjPt , which implies E[YiSjP-2]  E[YiSjP] and hence SP-2  SP.

Proof of Lemma 6. Consider a problem instance with scaling parameter . Let SSP-2() and DSP-2() denote the number of carriers and the number of loads in the marketplace in a state of the stationary distribution under the SP-2 mechanism. Let XSP-2() = (XiSjP-2() : (i, j)  E) and YSP-2() = (YiSjP-2() : (i, j)  E), where XiSjP-2() and YiSjP-2() respectively denote the number of carriers who choose to ship a load and who actually shipped a load from node i to node j in a state

ec12

e-companion to Kim, Wang, and Wang: Posted Price versus Auction Mechanisms In Freight Marketplaces

under the stationary distribution. Consider an optimal solution (d, y¯, v¯) to the FA() and the corresponding variables (x, y, ¯) and (r, p) associated with this solution. We first show

E[SiSP-2()]  ¯i , i  N .

(EC.11)

Given the posted carrier-side prices p, we have xij = E[XiSjP-2()]/E[SiSP-2()]. Let yij = E[YiSjP-2()]/E[SiSP-2()]. As E[YiSjP-2()]  E[XiSjP-2()], we have yij  xij. Then in steady state, we

have

E[SjSP-2()] =

qijE[YiSjP-2()] + j =

qijyijE[SiSP-2()] + j,

i - (j )

i - (j )

As yij  xij, it follows that E[SjSP-2()]  ¯j for each j  N . Moreover, we have

j  N .

¯i xij  dij, (i, j)  E ,

(EC.12)

since ¯i xij = x¯ij = y¯ij  dij. Now consider the expected number of carriers in excess of shipper demands E[XiSjP-2()] -
E[YiSjP-2()]:

E[XiSjP-2()] - E[YiSjP-2()] = E[(XiSjP-2() - DiSjP-2())+] = E[(XiSjP-2() - dij + dij - DiSjP-2())+]  E[(XiSjP-2() - E[XiSjP-2()] + dij - DiSjP-2())+]  E[|XiSjP-2() - E[XiSjP-2()] + dij - DiSjP-2()|]  E[|XiSjP-2() - E[XiSjP-2()]|] + E[|DiSjP-2() - dij|]  E[(XiSjP-2() - E[XiSjP-2()])2] + E[(DiSjP-2() - dij)2] = V ar[XiSjP-2()] + V ar[DiSjP-2()] = E[SiSP-2()]xij(1 - xij) + dij  ¯i xij(1 - xij) + dij.

A few remarks are in order. The first inequality follows from E[XiSjP-2()] = E[SiSP-2()]xij, and Eq (EC.11) and Eq (EC.12):

E[XiSjP-2()] = E[SiSP-2()]xij  ¯i xij  dij.

The third inequality follows from the triangle inequality, and the fourth inequality holds by the

Cauchy-Schwartz inequality. The last equality holds by the variance of random variable that follow

the multinomial 

distribution

and

the

Poisson

distribution.

Therefore,

E[XiSjP-2()] - E[YiSjP-2()]



O( ).

e-companion to Kim, Wang, and Wang: Posted Price versus Auction Mechanisms In Freight Marketplaces

ec13

Proof of Lemma 7. By Lemma 2, the SP-2 mechanism satisfies

qijE[YiSjP-2()] + j =

E[YjSkP-2()] + E[VjSP-2()] = E[SjSP-2()], j  N .

i - (j )

k + (j )

Let yiSjP-2() = E[YiSjP-2()]/E[SiSP-2()] and ¯Si P-2() = E[SiSP-2()]/. Then, we have

qijyiSjP-2()¯Si P-2() + j = ¯SjP-2(), j  N .
i - (j )
Consider a deterministic system with a -scaled problem instance. Let Sit() denote the number of carriers in this deterministic system in node i at period t. Given any initial state Si0(), the system dynamics of this deterministic system are given by

Sjt+1() =

qijxijSit() + j, j  N .

i - (j )

Recall that the optimal solution of the FA satisfies the following equations:

(EC.13)

¯j =

qijxij¯i + j, j  N .

i - (j )

Comparing the above two equations, we observe that with the initial state given as Si0() = ¯i , limt Sjt() = ¯j . Since the initial state does not affect the steady state of the system, we have limt Sjt() = ¯j for each j  N .
Consider the deterministic system with initial state Si0() = ¯Si P-2(). Let jt() := Sjt() - ¯SjP-2() and j() := i-(j) qij(xij - yiSjP-2())¯Si P-2(). Then, by Eq (EC.13), Sj1() is given by

Sj1() =

qij xij ¯Si P-2() + j

i - (j )

=

qij (xij + yiSjP-2() - yiSjP-2())¯Si P-2() + j

i - (j )

=

qijyiSjP-2()¯Si P-2() + j +

qij (xij - yiSjP-2())¯Si P-2()

i - (j )

i - (j )

= ¯SjP-2() + j(),

where the last equation holds by i-(j) qijyiSjP-2()¯Si P-2() + j = ¯SjP-2(). By the system dynamics Eq (EC.13), Sj2() can be expressed as

Sj2() =

qij (xij + yiSjP-2() - yiSjP-2())Si1() + j

i - (j )

=

qijyiSjP-2()Si1() + j +

qij (xij - yiSjP-2())Si1()

i - (j )

i - (j )

=

qijyiSjP-2()(¯Si P-2() + i1()) + j +

qij(xij - yiSjP-2())(¯Si P-2() + i1())

i - (j )

i - (j )

ec14

e-companion to Kim, Wang, and Wang: Posted Price versus Auction Mechanisms In Freight Marketplaces

= ¯SjP-2() +

qij yiSjP-2()i1() +

qij(xij - yiSjP-2())(¯Si P-2() + i1())

i - (j )

i - (j )

= ¯SjP-2() +

qij(yiSjP-2() + (xij - yiSjP-2()))i1() +

qij (xij - yiSjP-2())¯Si P-2()

i - (j )

i - (j )

= ¯SjP-2() +

qijxiji1() + j(),

i - (j )

where the fourth equation holds by tion above, we have

i-(j) qijyiSjP-2()¯Si P-2() + j = ¯SjP-2(). From the last equa-

Sj2() - ¯SjP-2() = j2() =

qijxiji1() + j().

i - (j )

It is easy to see that the above relationship between i2() and i1() can be generalized to

jt() =

qijxijit-1() + j(), t > 1.

i - (j )

Recall limt

that we jt() =

have ¯j -

shown E[SjSP-2()]  ¯j in ¯SjP-2() = ¯j - E[SjSP-2()] <

the proof of Lemma . In addition, j() is

6. Then, we have 
bounded by O( )

since

 ¯Si P-2()(xij - yiSjP-2()) = E[XiSjP-2()] - E[YiSjP-2()]  O( )

by Lemma 6. Intuitively, jt() can be considered as a linear function of () with non-negative coefficients, and these coefficients converge to certain real numbers because limt jt() is bounded. We note that these coefficients depend on x and q, but independent of the SP-2 mech-

anism and . It then follows that



lim
t

jt()

=

¯j

-

¯SjP-2

()

=

¯j

-

E[SjSP-2()]



O(

),

which completes the proof.

Proofs in Section 5 Proof of Lemma 8. Consider origin node i in time period t. Since the modified VCG mechanism
is applied to each node separately, we will drop the indices i and t to simplify the notations. Let (C-s, zs) be the opportunity cost vector submitted by the carriers, where we assume that all the carriers other than a carrier s submit their bids truthfully. Now consider the payoff of the carrier s under the modified VCG mechanism:

P s(C-s, zs) - Cs · As(C-s, zs) = zs · As(C-s, zs) + J (C-s) - J (C-s, zs) - Cs · As(C-s, zs) = J (C-s) - J (C-s, zs) + (zs - Cs) · As(C-s, zs)

e-companion to Kim, Wang, and Wang: Posted Price versus Auction Mechanisms In Freight Marketplaces

= J (C-s) -

Cs · As (C-s, zs) -  · Y0(C-s, zs)

s S\{s}
- zs · As(C-s, zs) + (zs - Cs) · As(C-s, zs)

= J (C-s) - Cs · As (C-s, zs) -  · Y0(C-s, zs)
s S
 J (C-s) - J (C)

= P s(C) - Cs · As(C).

ec15

Therefore, it is optimal for the carrier s to bid truthfully, so VCG-M is incentive compatible. In addition, we have J (C-s)  J (C). This is because a feasible solution to problem J (C) can be constructed from the optimal solution to J (C-s) by adding additional relevant variables associated with the carrier s and restricting the value of these variables equal to zero, and therefore the optimal objective value of J (C) is no more than that of J (C-s). As a result, VCG-M is also individual rational.

Proof of Lemma 9. Consider the allocation problem (14) of AUC-1 with reserve price p. When

|N | = 2, each carrier only has one destination, and it is easy to see that the optimal solution can be

obtained

by

allocating

carriers

in

an

increasing

order

of

their

true

opportunity

costs.

Let

C [Dijt+1] ijt

denote the (Dijt + 1)th lowest opportunity cost among all the carriers originating from node i. If

C [Dijt+1] ijt

 pij ,

i.e.,

there

are

enough

carriers

with

opportunity

costs

below

the

reserve

price

to

cover the demand Dijt, then the payment made by the platform to carriers who get allocated a

load

originating

from

node

i

is

C [Dijt ijt

+1]

.

To

see

this,

consider

the

VCG

payment

rule:

Pist(Cijt) = Cisjt + Ji(C-ijst ) - Ji(Cijt).

As the platform allocates carriers in an increasing order of their opportunity costs, excluding the

carrier s only affects the carrier with the (Dijt + 1)th lowest opportunity cost. Therefore, we have

Ji(C-ijst) = Ji(Cijt) - Cisjt + Ci[jDtijt+1], and the payment to the carriers who are allocated a load

originating

from

node

i

at

period

t

is

C [Dijt ijt

+1]

.

Otherwise,

if

there

are

not

enough

carriers

with

opportunity costs no more than pij to cover all the demand, then the platform sets a payment pij

by the use of dummy carriers. Therefore, the payment Pist(Cijt) to carriers originating from node

i under the AUC-1 mechanism does not exceed the reserve price pij.

Next, we show that for any given problem instance with scaling parameter , the number of loads

shipped from node i to node j in steady state Yij() has the same distribution under the auction mechanism AUC-1 and the static posted mechanism SP. For notation simplicity, we will omit the

dependency on  whenever the context is clear. Recall that the variable Xijt represents the number of carriers who choose to deliver a load from node i to node j at period t, and Yijt = min{Xijt, Dijt}.

ec16

e-companion to Kim, Wang, and Wang: Posted Price versus Auction Mechanisms In Freight Marketplaces

Under AUC-1, Xijt corresponds to the number of carriers whose opportunity costs are no more than the reserve price pij, which is the same as the counterpart under SP with a posted price pij. Therefore, these two mechanisms share the same Xijt and Yijt under a given state and realization of carriers' opportunity costs.
Since the payment made to the carriers under AUC-1 is no more than the reserve price p (which is the payment offered in SP) and both SP and AUC-1 mechanisms share the same stationary distribution of Yijt, AUC-1 allocates the same expected number of carriers with less payment compared to SP. In addition, the expected penalty costs under these two mechanisms are the same in view of the same distribution of Yijt in steady state. It then follows that AUC-1 achieves a higher long-run average profit than SP since both mechanisms receive the same shipper-side revenue.

Proof of Lemma 10. To simplify notations, we will omit the indices i and j. Then we have

G(C) H(C)

(C) = C 1 +

-

,

f (C) f (C)

+

G(C) = I(C  0)

g(yC)dy ,

0 +

H(C) =

f (yC)dy.

1

Notice that g(x) = f (|x|) + f (-|x|), and therefore we can express G(C) as

+

+

G(C) = I(C  0) f (yC)dy + I(C  0) f (-yC)dy.

0

0

For

the

point

C

=

0,

we

define

(0)

:=

1 

(1

+

e-).

When

C

>

0,

we

have

G(C) H(C)

(C) = C 1 +

-

f (C) f (C)

1

=C+

(C · G(C) - C · H(C))

f (C)

1

+

+

+

=C+

C

f (yC)dy + C

f (-yC)dy - C

f (yC)dy

f (C) 0

0

1

1

+

+

+

=C+

f (yC)d(yC) -

f (-yC)d(-yC) -

f (yC)d(yC)

f (C) 0

0

1

1

+

0

+

=C+

f (z)dz + f (z)dz -

f (z)dz

f (C) 0

-

C

1

=C+

[1 - (1 - F (C)]

f (C)

F (C)

=C+

.

f (C)

When C < 0, we have

G(C) H(C)

(C) = C 1 +

-

f (C) f (C)

e-companion to Kim, Wang, and Wang: Posted Price versus Auction Mechanisms In Freight Marketplaces

ec17

1

=C+

(-C H (C ))

f (C)

1

+

=C+

-C

f (yC)dy

f (C)

1

1

-

=C+

-

f (z)d(z)

f (C) C

1

C

=C+

f (z)d(z)

f (C) -

F (C)

=C+

.

f (C)

The probability that a carrier delivers a load with a given price C is the cdf of C, and according

to the MNL choice model, we have

eC-

F (C) =

.

1 + eC-

Then the pdf of C is

eC- f (C) = 
1 + eC-

eC-

1-

.

1 + eC-

By

simple

algebraic

calculation,

we

get

F (C) f (C)

=

1 

(1

+

eC-),

which

then

results

in

(C) = C +

1 

(1

+

eC-).

Proof of Lemma 11. We introduce an alternative expression of FA for the proof, denoted as FA-2. In the FA-2, the sign of the dual variables becomes clear by splitting Constraint (9) and making equalities into inequalities. In addition, we use ¯ instead of v¯ to facilitate our analysis. The FA-2 is defined as follows:

max

1 rij(dij)dij -  ln
(i,j)E

y¯ij ¯i - j y¯ij

s.t.

qijy¯ij + j  ¯j, j  N ,

i - (j )

y¯ij  dij, (i, j)  E,

y¯jk  ¯j, j  N ,
k + (j )
y¯ij  0, (i, j)  E.

+ ij y¯ij - bij(dij - y¯ij)

(EC.14a) (EC.14b) (EC.14c)

The FA-2 gives the same optimal solution of FA. To see this, notice that by adding a slack variable in (EC.14c), the FA-2 becomes the same formulation as FA except constraint (EC.14a). Note that constraint (EC.14a) is tight under the optimal solution because increasing ¯i improves the objective value. Therefore, both FA and FA-2 have the same optimal solution. Likewise, the optimal dual variables associated with Constraint (9) and Constraint (EC.14a) are the same.

ec18

e-companion to Kim, Wang, and Wang: Posted Price versus Auction Mechanisms In Freight Marketplaces

We show the relationship between pij and ij using the optimality condition. Consider a Lagrangian relaxation problem of FA-2. Let µj, ij, j be non-negative Lagrangian multipliers associated with Constraints (EC.14a), (EC.14b), and (EC.14c), respectively. Consider the objective function of the relaxed problem, defined as

L(y¯, ¯, d, µ, , ) =

(rij(dij) - bij + ij)dij + i¯i

(i,j)E

i

n
(-pij + bij + µjqij - ij - i)y¯ij + µj(j - ¯j).

(i,j)E

j=1

Then, the Lagrangian relaxation problem is given as

max L(y¯, ¯, d, µ, , )

s.t. y¯ij  0, ¯i  0,

(i, j)  E i  N

dij  0, (i, j)  E.

The FA-2 is a convex optimization problem, and its feasible region is defined as a polyhedron. In addition, (yij = 0, dij = 0, ¯j = j) is a feasible solution of the FA-2. Therefore, this problem satisfies weak Slater's conditions, implying that the strong duality holds. Denote the optimal dual variables as µ, , and . The strong duality theorem implies that the optimal solution (y¯, ¯, d, µ, , ) is a saddle point. In other words, for all feasible solution (y¯, ¯, d) in the relaxed problem, L(y¯, ¯, d, µ, , ) is maximized by the optimal solution of the FA-2, i.e., L(y¯, ¯, d, µ, , )  L(y¯, ¯, d, µ, , ).
To check the optimality conditions, consider the partial derivative of L(y¯, ¯, d, µ, , ) with

respect to y¯ij:

L y¯ij

(y¯,

¯,

d,

µ,

,

)

=

-pij

+

bij

+

µj qij

-

ij

-

i

-

pij y¯ij

y¯ij

= -pij + bij + µj qij - ij - i





-

1 

¯i

-

y¯ik 

k + (i)

¯i -

1 k+(i) y¯ik + (¯i -

y¯ij k+(i) y¯ik)2

=

-pij

+

bij

+

µj qij

-

ij

-

i

-

1 

1 + ¯i -

y¯ij k+(i) y¯ik

,

where

pij

=

1 

ln

¯i -

y¯ij k+(i) y¯ik

+ ij . It is clear that ¯i >

k+(i) y¯ik. since otherwise, pij = 

which cannot be the optimal price. This implies i = 0 by the complementary slackness condition.

In addition, we can exclude the case of y¯ij = 0 because the value of the partial derivative is positive

e-companion to Kim, Wang, and Wang: Posted Price versus Auction Mechanisms In Freight Marketplaces

ec19

as pij = -. By the optimality condition of a convex optimization problem over non-negative

orthant,

the

optimal

solution

satisfies

L y¯ij

(y¯

,

¯

,

d

,

µ,





,



)

=

0

if

y¯ij

> 0.

Therefore,

we

have

bij

+

µj qij

=

pij

+

ij

+

1 

1 + epij -ij

.

Recall

ij (Cij )

=

Cij

+

1 

(1 + eCij -ij )

and

ij

=

i-j1(bij

+ µj qij).

It

then

follows

that

bij + µj qij = ij (ij ) = ij (pij ) + ij .

Therefore, we conclude that ij(ij) = ij(pij) + ij and this completes the proof.

Proof of Lemma 12. Consider the AUC-1 and AUC-2 mechanisms in a two-node transportation network. Without loss of generality, we can assume that SiS1P = SiS1P-2 = 0 for all i  N because the initial state does not affect the stationary distribution. To prove the first part of the lemma, consider a coupling (SiAtUC-1, SiAtUC-2) for all i  N and for all t on the same probability space, where SiAtUC-1  SiAtUC-1 and SiAtUC-2  SiAtUC-2. We will show that SiAtUC-1  SiAtUC-2 for all i  N and for all t by induction.
Base Case. When t = 1, it is clear that SiAtUC-1 = SiAtUC-2 = 0 for all i  N as we assume zero carrier in the marketplace at the beginning of period 1.
Induction Step. Suppose SiAtUC-1  SiAtUC-2 for all i  N . Set DAt UC-1 = DAt UC-2 and CAijUtC-2 = (CAijUtC-1, CDijItFF), where CDijItFF is the opportunity cost vector for those (SiAtUC-2 - SiAtUC-1) carriers in the marketplace under AUC-2 but not in the system under AUC-1. Recall that XiAjUtC-2 is the number of carriers whose opportunity costs are less than ij, where ij  pij. Then, we have XiAjUtC-1  XiAjUtC-2. It then follows that

YiAjtUC-1 = min{XiAjUtC-1, DiAjUtC-1}  min{XiAjUtC-2, DiAjUtC-2} = YiAjtUC-2.

We set ZiAjUtC-2 = ZiAjUtC-1 + ZiDjItFF and AjtU+C1-1 = AjtU+C1-2, where ZiDjItFF follows the binomial distribution B(YiAjtUC-2 - YiAjtUC-1, qij ). Then, let

SjAtU+C1-2 = ZiAjUtC-1 + AjtU+C1-1 + ZiDjItFF = SjAtU+C1-1 + ZiDjItFF, j  N .

As ZiDjItFF  0, we have SjAtU+C1-2  SjAtU+C1-1, j  N . This completes the proof for the induction step.

Therefore, we conclude that SiAtUC-1  SiAtUC-2 for all i  N and for all t, which implies that SiAtUC-1 is

stochastically smaller than SiAtUC-2.

We next show

lim


E[SiAtUC-1()] 

=

lim


E[SiAtUC-2()] 

=

¯i

for all i  N under the stationary distributions of the AUC-1 and AUC-2 mechanisms. Recall that

as we have shown in Lemma 9, the auction mechanism AUC-1 and the posted price mechanism

ec20

e-companion to Kim, Wang, and Wang: Posted Price versus Auction Mechanisms In Freight Marketplaces

SP share the same stationary distribution of Xijt and Yijt. Under the stationary distributions of AUC-1 and SP mechanisms, we have

lim


E[SiAtUC-1()] 

=

¯i

and

lim E[XiAjUtC-1()] = lim E[YiAjtUC-1()]









= y¯ij

in

view

of

Lemma

6

and

Lemma

7.

Therefore,

it

remains

to

show

lim E[SiAtUC-2()]





= ¯i .

We

consider three cases.

Case 1. If ij = ji = 0, then we have p =  by Lemma 11, implying that AUC-1 and AUC-2

mechanisms

are

identical

since

they

use

the

same

reserve

prices.

Then,

we

have

lim

E[SiAtUC-1 ()] 

=

lim

E[SiAtUC-2 ()] 

= ¯i

for

all

iN.

Case 2. If ij = 0 and ji = 0, then we have y¯ij = dij and y¯ji = dji by the complementary slackness

conditions. With a coupling (SiAtUC-1, SiAtUC-2), we can get YiAjtUC-1  YiAjtUC-2  Dijt for all i  N and for

all t. Under the asymptotic regime, we have

lim


E[YiAjtUC-1()] 



lim


E[YiAjtUC-2()] 



dij

=

lim


E[YiAjtUC-1()] , 

where

the

last

equation

follows

from

y¯ij

=

dij .

It

then

results

in

lim

E[YiAjUt C-2()] 

=

dij ,

and

there-

fore we have

lim


E[SjAtU+C1-2()] 

= lim 

E[ZiAjUtC-2() + jt+1()] 

= lim 

qij E[YiAjtUC-2()] + j 

= ¯j .

By

a

similar

argument,

we

can

also

show

that

lim

E[SiAtUC-2 ()] 

=

¯i .

Case 3. If either ij = 0 or ji = 0, then without loss of generality, assume ij = 0 and ji = 0.

By

the

analysis

in

Case

2,

it

follows

from

ij

=

0

that

lim

E[SjAtUC-2 ()] 

=

¯j .

It

remains

to

show

lim

E[SiAtUC-2 ()] 

=

¯i .

By

complementary

slackness,

we

have

pji

=

ji,

which

implies that the probability yji that a carrier's opportunity cost is less than pji is the same under

these

two

mechanisms.

In

addition,

by

lim

E[SjAtUC-2 ()] 

=

¯j ,

we

have

lim


yjiE[SjAtUC-2()] 

=

yji

lim


E[SjAtUC-2()] 

=

yji¯j

=

y¯ji.

Then we have

lim


E[YjAitUC-2()] 



lim


E[XjAiUtC-2()] 

=

lim


yjiE[SjAtUC-2()] 

=

y¯ji

=

lim


E[YjAitUC-1()] . 

With the coupling (SiAtUC-1(), SiAtUC-2()), we can get YjAitUC-1()  YjAitUC-2()  Djit, which together with the above inequality implies that

lim


E[YjAitUC-2()] 

=

y¯ji.

It then follows that

lim


E[SiAtUC-2()] 

=

¯i

by a similar argument as in Case 2, which completes the proof.

e-companion to Kim, Wang, and Wang: Posted Price versus Auction Mechanisms In Freight Marketplaces

ec21

Proof of Lemma 13. First, notice that given a system state (St, Dt), the term E [it|St, Dt] in the objective function (21a) is a constant term. Therefore, it suffices to focus on iN E [Hit|St, Dt]. For notation simplicity, let E^ [·] = E [·|St, Dt]. By the definition of Aijt and the assumption of homogeneous carriers, we have

E^ Asijt(Cit) =

E^ [aijt(Csit)] = E^ [Yijt].

sSit

sSit

By the definition of Pijt and Lemma 3, we have

E^ [Pijt] =

E^ [pijt(Csit)] =

E^ [aijt(Csit)ij(Csit)] .

sSit

sSit

Then, E^[Hit] can be written as

E^ [Hit] =

E^ (bij + µj qij )Yijt - Pijt

j  + (i)

=

(bij + µj qij)E^ [aijt(Csit)] -

E^ [aijt(Csit)ij(Csit)]

j+(i) sSit

j+(i) sSit

=

E^ (bij + µj qij - ij (Csit))aijt(Csit)

j+(i) sSit

=

E^ (bij + µj qij - ij(Csit))Asijt(Cit) .

j+(i) sSit

(EC.15)

By Eq (EC.15) and Yijt = sSit Asijt(Cit), the single-period problem Lt(St, Dt) can be reformu-

lated as follows:





max E^  it +

(bij + µj qij - ij (Csit))Asijt(Cit)

iN

(i,j)E sSit

(EC.16a)

s.t.

Asijt(Cit)  1,

j  + (i)

s  Sit, i  N ,

(EC.16b)

Asijt(Cit)  Dijt,

(i, j)  E,

sSit

0  Asijt(Cit)  1, s  Sit, (i, j)  E.

(EC.16c)

It is easy to see that the above optimization problem can be decomposed into sub-problems for each origin node i. Under a given system state (St, Dt), denote Kit(Cit) as the single-origin sub-problem at node i for a given bid vector Cit, which is defined as follows:

Kit(Cit) := max

(bij + µj qij - ij (Csit))Asijt(Cit)

j+(i) sSit

s.t.

Asijt(Cit)  1,

j  + (i)

s  Sit,

Asijt(Cit)  Dijt,

j  +(i),

sSit

0  Asijt(Cit)  1,

s  Sit, j  +(i).

(EC.17)

ec22

e-companion to Kim, Wang, and Wang: Posted Price versus Auction Mechanisms In Freight Marketplaces

Let Asijt(Cit) be the optimal solution to the above allocation problem Kit(Cit). Recall that ij = i-j1(bij + µj qij). By the monotonicity of ij in two-location problems, the optimal solution Asijt(Cit) is to allocate loads to carriers whose opportunity costs are less than ij in an increasing order of their opportunity costs. This is exactly the same allocation by the AUC-2 mechanism. In other

words, the allocation rule of the AUC-2 mechanism gives the optimal solution to problem Kit(Cit). Then, we have





E^ [HiAtUC-2] = E^ 

(bij + µj qij - ij (Csit))Asijt(Cit)

j+(i) sSit





 E^ 

(bij + µj qij - ij (Csit))Asijt(Cit)

j+(i) sSit

= E^ [Hit] .

This implies that the AUC-2 mechanism maximizes E^ [Hit]. As E^[it] is a constant term, we have

E^ [it + Hit]  E^ [it + HiAtUC-2],

iN

iN

which completes the proof.

Proof of Theorem 3. The first part of Theorem 3 follows from Lemma 9. To prove Eq (18), we

show the following inequality

lim E [AitUC-1() + HiAtUC-1()]  lim E [AitUC-2() + HiAtUC-2()] .









To see how the above inequality leads to Eq (18), consider the system in steady state under the AUC-1 mechanism. For notation simplicity, we shall omit the dependency on  when the context is clear. We have

E[AitUC-1 + HiAtUC-1] =

E[rij dij (rij ) - bij Dijt] + E[µi (it+1 - SiAtUC-1) + HiAtUC-1]

iN

(i,j)E

iN

=

E[rij dij (rij ) - bij Dijt] + E[µi (it+1 - SiAtU+C1-1) + HiAtUC-1]

(i,j)E

iN

=

E[rij dij (rij ) - bij (Dijt - YiAjtUC-1) - PiAjUt C-1]

(i,j)E

= AUC-1,

where the second equality holds because E[SiAtUC-1] = E[SiAtU+C1-1] under the stationary distribution, and the third equality follows from Eq (20) and Eq (5). Similarly, we also have

E[AitUC-2 + HiAtUC-2] =

E[rij dij (rij ) - bij (Dijt - YiAjtUC-2) - PiAjUt C-2] = AUC-2.

iN

(i,j)E

e-companion to Kim, Wang, and Wang: Posted Price versus Auction Mechanisms In Freight Marketplaces

ec23

We first compare HiAtUC-1 and HiAtUC-2. Consider a coupling (HiAtUC-1, HiAtUC-2) in the same probability space, where HiAtUC-1  HiAtUC-1 and HiAtUC-2  HiAtUC-2. In view of Lemma 12, there exists a coupling (SiAtUC-1, SiAtUC-2) that satisfies SiAtUC-1  SiAtUC-2. In this coupling, we let DAt UC-1 = DAt UC-2 and CAijUtC-2 = (CAijUtC-1, CDijItFF), where CDijItFF is the opportunity cost vector for those (SiAtUC-2 - SiAtUC-1) carriers in the marketplace under mechanism AUC-2 but not in the marketplace under mechanism AUC-1. Then, we have E^[HiAtUC-1]  E^[HAUC-2]. To see this, notice that by the definition of the single-origin subproblem (EC.17), we can construct a feasible solution to Kit(CAijUtC-2) from the optimal solution to Kit(CAijUtC-1) by adding additional (SiAtUC-2 - SiAtUC-1) variables and restricting the value of these added variables equal to zero. In addition, the objective value under this feasible solution to Kit(CAijUtC-2) is the same as the optimal objective value of Kit(CAijUtC-1). As a result, the optimal objective value of Kit(CAijUtC-1) is always less than or equal to that of Kit(CAijUtC-2) under this coupling. It then follows that
E^ [HiAtUC-1]  E^ [HiAtUC-2].
Since HiAtUC-1  HiAtUC-1 and HiAtUC-2  HiAtUC-2, we have E[HiAtUC-1]  E[HiAtUC-2]. We next compare the expectation of it under the stationary distributions of mechanisms AUC-1
and AUC-2:

E AitUC-1 SAt UC-1, DAt UC-1 - E AitUC-2 SAt UC-2, DAt UC-2 = µi (E[SiAtUC-2] - E[SiAtUC-1]).

By Lemma 12, the above term approaches zero under the asymptotic regime:

lim E [SiAtUC-1()] - E [SiAtUC-2()] = 0,





which implies that

lim E [AitUC-1() + HiAtUC-1()]  lim E [AitUC-2() + HiAtUC-2()] .









It then follows that and this completes the proof.

AUC-1()

AUC-2()

lim

 lim

,









Proofs in Section 6 Proof of Lemma 14. Suppose carriers report their opportunity costs Cijt to the platform. We
first show the HYB mechanism is IR. If XiSjPt(Cijt) > Dijt, then the payments and the load allocations follow the SP mechanism which is IR. Otherwise, the payments and the load allocations follow the AUC-2 mechanism, which is IR. Therefore, the HYB mechanism is also IR.

ec24

e-companion to Kim, Wang, and Wang: Posted Price versus Auction Mechanisms In Freight Marketplaces

We next show the HYB mechanism is IC. Suppose the bid vector submitted by the carriers originating at node i in period t is (C-ijst, zisjt). We will show the following inequality holds by considering three cases:

Pist,HYB(C-ijst , zisjt) - CisjtAsij,Ht YB(C-ijst , zisjt)  Pist,HYB(Cijt) - CisjtAsij,Ht YB(Cijt).
Case 1. If Asij,Ht YB(C-ijst , zisjt) = 0, then in this case, we have Pist,HYB(C-ijst , zisjt) = 0 because both SP and AUC-2 mechanisms do not make any payment to carriers who do not receive a load allocation. Then, we have

Pist,HYB(C-ijst , zisjt) - CisjtAsij,Ht YB(C-ijst , zisjt) = 0  Pist,HYB(Cijt) - CisjtAsij,Ht YB(Cijt).

The above inequality holds because the HYB mechanism is IR. Case 2. If Asij,Ht YB(C-ijst , zisjt) = 1 and XiSjPt(C-ijst , zisjt) > Dijt, then in this case, we have
Pist,HYB(C-ijst , zisjt) = pij and Asij,StP(C-ijst , zisjt) = Asij,Ht YB(C-ijst , zisjt) = 1. If Cisjt < pij , then Asij,StP(Cijt) = 1 because the outcome of the SP mechanism is not affected by changing opportunity costs less than pij. In addition, Cisjt < pij together with Asij,StP(Cijt) = 1 imply that Asij,Ht YB(Cijt) = 1 because XiSjPt(Cijt) = XiSjPt(C-ijst , zisjt) > Dijt. It then results in Pist,HYB(Cijt)  pij. Otherwise if Cisjt  pij, then we have
Pist,HYB(C-ijst , zisjt) - CisjtAsij,Ht YB(C-ijst , zisjt) = pij - Cisjt  0.
It then follows that

Pist,HYB(C-ijst , zisjt) - CisjtAsij,Ht YB(C-ijst , zisjt)  Pist,HYB(Cijt) - CisjtAsij,Ht YB(Cijt).
Case 3. If Asij,Ht YB(C-ijst , zisjt) = 1 and XiSjPt(C-ijst , zisjt)  Dijt, then in this case, we have Pist,HYB(C-ijst , zisjt) = Pist,AUC-2(C-ijst , zisjt) and Asij,At UC-2(C-ijst , zisjt) = Asij,Ht YB(C-ijst , zisjt) = 1. If Cisjt < Pist,AUC-2(C-ijst , zisjt), then Pist,AUC-2(C-ijst , zisjt) = Pist,AUC-2(Cijt) because the payment of the AUC-2 mechanism is not affected by changing an opportunity cost less than the payment. Otherwise if Cisjt  Pist,AUC-2(C-ijst , zisjt), then we have
Pist,HYB(C-ijst , zisjt) - CisjtAsij,Ht YB(C-ijst , zisjt)  0.

It then follows that

Pist,HYB(C-ijst , zisjt) - CisjtAsij,Ht YB(C-ijst , zisjt)  Pist,HYB(Cijt) - CisjtAsij,Ht YB(Cijt).

By combining the above three cases, we conclude that the HYB mechanism is IC and IR.

e-companion to Kim, Wang, and Wang: Posted Price versus Auction Mechanisms In Freight Marketplaces

ec25

Proof of Theorem 4. We first show HYB()  AUC-2(). For notation simplicity, we shall omit the dependency on  whenever the context is clear. Let XiHjYtB denote the number of carriers originating from node i with opportunity cost no more than ij in period t under the HYB mechanism. Notice that this is the same as XiAjUtC-2. As the HYB and AUC-2 mechanisms share the same distribution of demands, HYB has the same stationary distribution of Xijt, Yijt, and Sit with AUC-2 for transportation networks that consist of two nodes. Then under the stationary distributions of the SP, AUC-1, AUC-2, and HYB mechanisms, we have

E[XiSjPt] = E[XiAjUtC-1]  E[XiAjUtC-2] = E[XiHjYt B],

E[YiSjPt ] = E[YiAjtUC-1]  E[YiAjtUC-2] = E[YiHjtYB],

(EC.18)

E[SiStP] = E[SiAtUC-1]  E[SiAtUC-2] = E[SiHtYB].

It then follows from Eq (EC.18) that HYB  AUC-2, since both mechanisms share the same stationary

distribution of Yijt, whereas the HYB mechanism pays more than the AUC-2 mechanism does because Pist,HYB(Cijt)  Pist,AUC-2(Cijt) by Eq (23). Intuitively, the AUC-2 achieves a better market efficiency by delaying the allocation decisions until the end of each time period.

To prove Eq (24), we first show

lim E [SitP() + HiStP()]  lim E [HitYB() + HiHtYB()] ,









where the terms it and Hit under a given mechanism are defined in Eq (19) and Eq (20), respectively. Following a similar argument as in Theorem 3, we can show

E SitP + HiStP =

E rij dij (rij ) - bij (Dijt - YiSjPt ) - PiSjPt = SP,

iN

(i,j)E

E HitYB + HiHtYB =

E rij dij (rij ) - bij (Dijt - YiHjtYB) - PiHjYt B = HYB,

iN

(i,j)E

which then immediately implies Eq (24).
We first compare HiStP and HiHtYB. Consider a coupling (HiStP, HiHtYB) in the same probability space, where HiStP  HiStP and HiHtYB  HiHtYB. In Lemma 12, we have shown that there exists a coupling (SiAtUC-1, SiAtUC-2) satisfying SiAtUC-1  SiAtUC-2. As SiAtUC-1  SiStP and SiAtUC-2  SiHtYB, there also exists a coupling (SiStP, SiHtYB) that satisfies SiStP  SiHtYB. In this coupling, we set DStP = DHt YB and CHijYtB = (CSijPt, CDijItFF), where CDijItFF is the opportunity cost vector for those (SiHtYB - SiStP) carriers in the marketplace under mechanism HYB but not in the marketplace under mechanism SP. If XiSjPt(CHijYtB)  DiHjYtB, then the HYB operates the same as the SP mechanism. In this case, we have HiStP  HiHtYB because sSiStP Asij,StP(CSijPt)  sSiHtYB Asij,Ht YB(CHijYtB) = DiSjPt = DiHjYtB and pij  bij as shown in the proof of Lemma 5. Otherwise, the HYB operates the same as the AUC-2 mechanism. By the defini-
tion of problem (EC.17), we can construct a feasible solution to Kit(CHijYtB) from the optimal solution

ec26

e-companion to Kim, Wang, and Wang: Posted Price versus Auction Mechanisms In Freight Marketplaces

to Kit(CSijPt) by adding additional (SiHtYB - SiStP) variables and restricting the value of these added variables equal to zero. In addition, the objective value under this feasible solution to Kit(CHijYtB) is the same as the optimal objective value of Kit(CSijPt). As a result, the optimal objective value of Kit(CSijPt) is always less than or equal to that of Kit(CHijYtB) under this coupling. It then follows that E^ [HiStP]  E^ [HHYB]. Since HiStP  HiStP and HiHtYB  HiHtYB, it then follows that E[HiStP]  E[HiHtYB] in both cases.
We next consider the expectation of it under the stationary distributions of SP and HYB. Recall that by Theorem 3, we have

lim E [AitUC-1()] - E [AitUC-2()] = 0.





Under the stationary distributions, we have SiAtUC-1  SiStP and SiAtUC-2  SiHtYB by Eq (EC.18). It then

leads to

lim E [SitP()] - E [HitYB()] = 0,





which implies

lim E [SitP() + HiStP()]  lim E [HitYB() + HiHtYB()] .









It then follows that

SP()

HYB()

lim

 lim

,

 

 

and this completes the proof.

