Simple Economies are Almost Optimal

Amir Ban

Avi Cohen Shahar Dobzinski June 3, 2021

Itai Ashlagi§

arXiv:2106.01019v1 [cs.GT] 2 Jun 2021

Abstract

Consider a seller that intends to auction some item. The seller can invest money and effort

in advertising in different market segments in order to recruit n bidders to the auction. Alter-

natively, the seller can have a much cheaper and focused marketing operation and recruit the

same number of bidders from a single market segment. Which marketing operation should the

seller choose?

More formally, let D = {D1, . . . , Dn} be a set of distributions. Our main result shows that

there is always Di  D such that the revenue that can be extracted from n bidders, where the

value

of

each

is

independently

drawn

from

Di,

is

at

least

1 2

· (1 -

1 e

)

of

the

revenue

that

can

be

obtained by any possible mix of bidders, where the value of each bidder is drawn from some

(possibly different) distribution that belongs to D.

We next consider situations in which the auctioneer cannot use the optimal auction and

is required to use a second price auction. We show that there is always Di  D such that if

the value of all bidders is independently drawn from Di then running a second price auction

guarantees a constant fraction of the revenue that can be obtained by a second-price auction

by any possible mix of bidders. Finally, we show that for any  > 0 there exists a function f

that depends only on  (in particular, the function does not depend on n or on the set D), such

that recruiting n bidders which have at most f () different distributions, all from D, guarantees

(1 - )-fraction of the revenue that can be obtained by a second-price auction by any possible

mix of bidders.

1 Introduction
Optimal mechanisms are often unnatural or hard to implement. Thus, an influential line of work in Algorithmic Mechanism Design attempts to develop suboptimal but simple mechanisms that are almost as good as optimal ones. Some of the numerous examples include [7, 2, 12, 9].
Other papers suggest to tackle the inapplicability of optimal auctions by approaching the problem from a different perspective: instead of changing the mechanism, change the market. The seminal paper of Bulow and Klemperer [1] initiated this line of research: it shows that the optimal revenue that can be extracted from an economy with n bidders whose values are drawn i.i.d. from some regular distribution D is at most the revenue of a second price auction with n + 1 bidders, all drawn i.i.d. from D. That is, recruiting a single additional bidder allows the auctioneer to use the
Weizmann Institute of Science; amir.ban@weizmann.ac.il Tel Aviv University; avicohen2@mail.tau.ac.il Weizmann Institute of Science; shahar.dobzinski@weizmann.ac.il §Stanford University; iashlagi@stanford.edu

1

simple second-price auction without losing much revenue. Follow-up papers presented approximate versions of similar statements in other settings, e.g., for certain non-regular distributions [13], when the distributions are not identical [6, 7], and when there are multiple heterogeneous items [3, 5].
In this paper we suggest to explore a new market-changing approach. Consider a hypothetical scenario of a seller who intends to auction some item. The seller can invest money and effort in advertising in different market segments in order to recruit bidders to the auction. Alternatively, the seller can have a much cheaper and focused marketing operation and recruit the same number of bidders from a single market segment. Which marketing operation should the seller choose? Our goal is to compare the effectiveness of the different strategies.
More formally, let D = {D1, . . . , Dn} be a set of distributions. An economy E consists of n bidders, where the value of each bidder i is independently drawn from some D  D. For each economy E, let RE be the revenue of the optimal auction for the economy E. The ideal revenue is defined to be maxE RE.
Our goal is to determine whether there exists some distribution D  D such that the revenue of the optimal auction for an economy where the values of the bidders are drawn i.i.d. from D (a homogeneous economy) provides a good approximation to the ideal revenue of the economy. In other words, we would like to determine whether the revenue that can be extracted by recruiting all bidders from the same population is comparable to the revenue that can be generated by handpicking the bidders in a way that maximizes the revenue. Our main result shows that it is always possible to extract a constant fraction of the ideal revenue with a homogeneous economy:

Theorem: Let D = {D1, . . . , Dn} be a set of distributions. There is a homogeneous economy E

where the value of each bidder i is independently drawn from the same distribution D  D, such

that the revenue of an optimal auction for E is at least a

1 2

· (1 -

1 e

)

-fraction

of

the

ideal

revenue.

Note that we obtain this bound by running a simple second price auction with a reserve price in

the homogeneous economy. It is not hard to see that sometimes no homogeneous mechanism can

extract more than half of the ideal revenue1. Consider a distribution D1 that returns the value

1

with

probability

1,

and

a

distribution

D2

that

returns

0

with

probability

1-

and

1 n·

with

probability , for some very small  > 0. The ideal revenue is (very close to) 2, and it can be

obtained by the economy in which the value of one bidder is drawn from the distribution D1 and

the value of each one of the remaining n - 1 bidders is to be drawn from D2. The optimal auction

for this economy is a second price auction with a reserve price of 1 for the bidder whose value is

drawn

from

D1,

and

a

reserve

price

of

1 n·

for

the

remaining

bidders.

Finally,

note

that

the

revenue

is at most 1 if we choose the values of all n bidders to be drawn i.i.d. from D1 or the values of all

n bidders to be drawn i.i.d. from D2. In both cases the social welfare is at most 1, which gives us

an immediate bound on the attainable revenue.

This establishes that homogeneous economies can always extract a constant fraction of the ideal

revenue, and that sometimes they cannot do better2.

The mechanism designer is often unable to freely choose an auction format. Thus, we now

consider situations in which the mechanism designer is constrained to use a second price auction in

all economies, either because, e.g., it is not allowed to tailor a mechanism based on the specifics of

1A naive and wrong solution would be to take the distribution D  D that has the highest value in the support and have infinitely many bidders with values drawn from D. However, this requires much more than n bidders and thus is impractical and in particular infeasible in our case.
2Interestingly, in Appendix A we show that sometimes no homogeneous mechanism can extract more than half of the ideal revenue even if all distributions are regular.

2

the distributions or because of the simplicity of a second price auction. For each economy E. We prove that homogeneous markets approximate well the ideal second-price revenue.

Theorem: Let D = {D1, . . . , Dn} be a set of distributions. There exists a homogeneous economy E where the value of each bidder is independently drawn from the same distribution D  D, such that the revenue that can be generated by a second price auction in E is at least a c-fraction of the ideal second-price revenue, for some constant c > 0.

Next, we consider whether being able to recruit bidders from a small number of market segments (in contrast to just one, as in homogeneous markets) allows to significantly extract more revenue. We answer this question in the affirmative, at least when restricted to the second-price auction:

Theorem: Let D = {D1, . . . , Dn} be a set of distributions. There exists some function f that depends only on , such that for every constant  > 0 the following holds: there exists a set D  D, |D| = f (), and an economy E where the value of each bidder is drawn indpendently from some distribution D  D, such that the revenue that can be generated by a second-price auction for E
is at least a (1 - )-fraction of the ideal second-price revenue.

To put it differently, for every constant  > 0, there exists a simple economy that uses only a

constant number of distributions (irrespective of the number of bidders n and the set D) and

extracts almost all the ideal second-price revenue3.

Approximating the ideal revenue of a second price auction with homogeneous economies is

somewhat reminiscent of the team formation problem [8]. In this problem we are given n different

candidates, each candidate i is modeled as a random variable from some distribution Di and the

goal is to choose n team members that will maximize the expected sum of values of the top h chosen

candidates. One important difference between our paper and [8] is that their goal is to maximize

the sum of the highest h variables, which does not seem to easily imply ­ if at all ­ a bound on the

expected second-highest value. Also related is a recent paper by Mehta et al. [10]. In their case

they consider a population of n bidders and their goal is to select k < n bidders that maximize the

revenue of the second-price auction. The main focus of this paper is the computational complexity

of this problem, and they show that under the planted clique hypothesis there is no constant factor

algorithm that runs in polynomial time. They also provide a PTAS for maximizing the expectation

of the highest value. Other papers (e.g., [4]) consider the computational aspects of choosing k out

of n random variables to minimize the expected minimum value (and similar problems).

Following this work, a word about computational issues is in place. For the approximation

results by homogeneous markets, one can easily find the best homogeneous market by computing

the revenue of each one of the n possible homogeneous markets (assuming a suitable computational

model that supports computing the revenue of a homogeneous market). Similarly, the existential

(1 - )-approximation result can be made concrete by checking each of the poly(nf()) economies

that use at most f () distributions. However, if possible, it will be interesting to develop algorithms

that find an economy for which the second price auction extracts a (1 - )-fraction of the ideal

second

price

revenue

in

time

poly(n,

1 

).

2 Optimal Auctions in Homogeneous Economies

In this section we prove our main result:

3In

fact,

f ()

=

exp(

1 

).

We

do

not

know

whether

this

dependency

is

tight

or

maybe

we

can

have

f ()

=

poly

(

1 

).

3

Theorem 2.1 Let D = {D1, . . . , Dn} be a set of distributions. There exists a homogeneous econ-

omy E where the value of each bidder i is independently drawn from the same distribution D  D,

such that the revenue that can be generated by an optimal auction for E is at least a

1 2

· (1 -

1 e

)

-

fraction of the ideal revenue.

We note that the auction that we run in the economy E is very simple: a second-price auction

with an appropriately chosen reserve price.

For the proof, let the optimal economy be EOPT  arg maxE RE. For i  [n], let Di be the distribution of the value of bidder i in EOPT. We split the probability mass of each distribution Di

into low and high values using a threshold H derived as follows: for each distribution Di, let hi be

the

infimum

of

the

values

T

that

satisfy

PrXDi [X



T]  1-

1 n

.

Define

the

threshold

H

as

H = max hi
i[n]

Notice that PrXDi[X

> H] 

1 n

,

for

all

i



[n].

Values that are at most H

are considered low

values, while all other values are considered high values.

For every economy E, define RlEow to be the expected revenue (or contribution) given that the value of the winner is low. Define RhEigh similarly to be the expected revenue given that the value of the winner is high. Clearly

REOPT = RlEoOwPT + RhEiOgPhT

Define REOPT = OPT as the ideal revenue. Therefore, either the low values or the high values must

contribute

at

least

1 2

OPT.

In

in some homogenous economy

each case, we show obtains revenue of

that a second price auction

at

least

1 2

· (1

-

1 e

)OPT.

with

a

reserve

price

Case

I:

Low

values

contribute

at

least

1 2

·

OPT.

Notice that the revenue from any low-value

winning bidder is at most H. Hence, in the current case

H



1 2

·

OPT

(1)

By the definition of H, there exists a distribution DH from EOPT such that PrXDH X < H  1-

1 n

.

Consider

the

homogenous

economy,

denoted

E,

consisting

of

n

bidders

taken

from

distribution

DH . Denote the values of those bidders X1, . . . , Xn  DH . We now obtain:

Pr max(X1, . . . , Xn)  H

n
= 1 - Pr Xi < H

1-

1

-

1 n

n



1

-

1 e

i=1

where the equality is due to bidder values being i.i.d., the first inequality is by the definition of

DH , and the second inequality follows Therefore, the revenue of a second
highest value exceeds the reserve price

from price with

the

fact

that

(1

-

1 n

)n



1 e

,

for

auction with reserve price H is

probability

(1 -

1 e

)).

Hence,

by

any natural number n.

at

least

(1 -

1 e

)

·

H

(the

Equation (1) we obtain

RE 

1

-

1 e

·H



1 2

·

1

-

1 e

OPT

4

Case

II:

High

values

contribute

at

least

1 2

· OPT.

In this case we focus on instances where

the winning bid is a high value and ignore all contribution from low values. Thus, we round down

the low values of each distribution to zero, and keep only the probability mass of values exceeding

H. Let D1, . . . , Dn denote these "rounded down" distributions of the bidders from EOPT. Denote the corresponding economy E. Clearly,4

RE



1 OPT 2

(2)

Define ri = E Revenue gained from bidder i in the optimal auction over E . Without loss of generality, assume r1 = maxi ri. Thus,

n

RE = ri  n · r1

(3)

i=1

Consider an optimal auction with one bidder from D1. Note that the optimal auction for a single bidder is a take-it-or-leave-it auction [11]. Let p1 be the take-it-or-leave-it offer of this auction, and q1 be the probability that the bidder accepts. The expected revenue is equal to p1 · q1. Moreover, notice that the revenue of this single-bidder optimal auction is at least r1. That is,

r1  p1 · q1

(4)

Therefore, plugging Equation (4) into Equations (2) and (3), we obtain

n

·

(p1

·

q1)



n

·

r1



RE



1 OPT 2

(5)

Moreover, notice that

1

q1 = Pr
X D1

X  p1

 Pr
X D1

X >0

n

(6)

where the equality is by definition of q1, the first inequality is due to p1 > 0 (otherwise, OPT = 0

by Equation (5)) and the second inequality follows from the fact that all the probability mass at

most H has been shifted to zero in the distribution D1, and thus the remaining positive mass in

D1

is

at

most

1 n

by

the

definition

of

H.

To conclude the proof we require the following known claim. Proof included in Appendix B.

Claim 2.2

1 - (1 - x)n  (1 -

1

-

1 n

n) · nx for every x 

0,

1 n

.

Finally, let E1 and E1 be homogeneous economies consisting of n bidders drawn from distributions D1 and D1, respectively. Let SP be the revenue of the second price auction over economy E1 with reserve price p1, and let Xi  D1 denote the value of bidder i. Clearly, RE1  RE1  SP .
4Notice that modifying the optimal auction over EOPT by changing the price to H whenever it is lower than H we lose none of the contribution of high values.

5

Thus, we obtain RE1  SP  p1 · Pr i  [n] : Xi  p1

 p1 · 1 - Pr i  [n] : Xi < p1
n
 p1 · 1 - Pr[Xi < p1]

i=1

 p1 · (1 - (1 - q1)n)

 p1 ·

1-

1

-

1 n

n

· n · q1

 p1 ·

1

-

1 e

· n · q1



1 2

·

1

-

1 e

· OPT

(we obtain  p1 if any bid exceeds p1)

(since X1, . . . , Xn are i.i.d.)

(by definition of q1)

(by Equation (6) and Claim 2.2)

(as

1

-

1 n

n



1 e

)

(by Equation (5))

3 Second Price Auctions in Homogeneous Economies

We now prove that there exists a homogeneous economy whose revenue for a second price auction is at least a c-fraction of the ideal second price revenue, for some constant c > 0. Formally:

Theorem 3.1 Let D = {D1, . . . , Dn} be a set of distributions. There exists a homogeneous economy E, in which each bidder's value is independently drawn from the same distribution D  D, for which the revenue obtained by a second price auction in E is at least a c-fraction of the ideal second-price revenue, for some constant c > 0.

In Section 4 we use the techniques introduced in the proof of this theorem to show that the ideal second-price revenue can be approximated arbitrarily well by choosing only a few distributions from D. Thus, in addition to establishing one of our main results, this section also serves as a warm-up section to the more technically involved construction of Section 4.
Let OPT be the optimal second price revenue, i.e., OPT = maxE SPE. Let EOPT be an economy whose second price revenue is OPT. Let Di be the distribution of the value of bidder i in EOPT, for i  [n]. Similarly to Section 2, we partition the probability mass of each distribution into low and high values. Define the threshold H as

H = max inf
i

hi

Pr [X
X Di



hi]



1

-

n

1 -

1

Notice that PrXDi

X >H



1 n-1

,

for

all

i



[n],

and

that

there

must

be

some

j



[n]

(namely,

the maximizer of the term above), such that PrXDj

X H



1 n-1

.

We

refer

to

auctions

where

the second-highest value is at most H as low-value auctions and to auctions in which the second-

highest value is at least H as high-value auctions. Clearly, the sum of the contribution of low values

and the contribution of high values is equal to the expected second-highest value, i.e., OPT. Hence,

we divide into two cases: First, when low values contribute at least  · OPT to the optimal revenue,

and second, when high values contribute at least (1 - ) · OPT, for some constant   [0, 1] to be

determined later.

6

3.1 Case I: Low Values Contribute at Least  · OPT

The second highest value in each low-value auction is at most H. Hence, the contribution of low

values is at most H. Therefore

H   · OPT

(7)

Before the next step of our analysis, we require the following simple claim.

Claim 3.2 For every natural n  2, the function f (x) = x(1 - x)n-1 is non-increasing for x 

[

1 n

,

1].

Proof:

Differentiating

f

yields

f (x)

=

(1 - x)n-2(1 - nx),

which

is

non-positive

for

x



[

1 n

,

1].

By the definition of H, there exists a distribution from EOPT such that PrXDH

X H



1 n-1

.

Thus by Claim 3.2, it follows that

Pr X  H · Pr X < H

X DH

X DH

n-1



n

1 -

1

1

-

n

1 -

1

n-1

(8)

Consider the homogenous economy, denoted E, consisting of n bidders taken from distribution DH . Let X1, . . . , Xn  DH be the random variables that denote the values of these bidders. We use the notation max(2) to denote the second largest value from a given set of values. We now obtain

Pr max(2)(X1, . . . , Xn)  H = Pr[at least two bidders exceed H]

= 1 - Pr[at most one bidder exceeds H]

n

n

= 1 - Pr Xi < H - Pr Xi  H Pr Xj < H

i=1

j=1

j=i

 1-

1

-

n

1 -

1

n

-

n

·

n

1 -

1

1

-

n

1 -

1

n-1

= 1-

1

-

n

1 -

1

1

-

n

1 -

1

n-1
-

1

+

n

1 -

1

1

-

n

1 -

1

n-1



1

-

2

·

1 e

,

(9)

where the third equality is due to bidder values being i.i.d., the first inequality is by Equation (8),

and

the

second

inequality

follows

from

the

fact

that

(1 -

1 n

)n



1 e

,

for

any

natural

number

n.

Therefore, by Equations (7) and (9) we conclude that:

SPE = E max(2)(X1, . . . , Xn)  H · Pr max(2)(X1, . . . , Xn)  H   ·

1

-

2 e

· OPT

3.2 Case II: High Values Contribute at Least (1 - ) · OPT

Here we focus on auctions where the second-highest value is a high value. We may therefore ignore all contribution from low values. Thus, we round down the low values of each distribution to zero, and keep only the probability mass of values exceeding H. Let D1, . . . , Dn denote these "rounded down" distributions of the bidders from EOPT. Denote the corresponding economy E. Clearly,

SPE = EViDi max(2)(V1, . . . , Vn)  (1 - )OPT

(10)

7

In the proof of this case, we first show that there exist two distributions Di and Dj such that if the value of every bidder is drawn from one of these distributions then the expected revenue of a second-price auction is a constant fraction c > 0 of OPT. Then, we show that for some D  {Di, Dj} the homogeneous economy where the value of each bidder is independently drawn from D also generates a c-fraction of OPT.
In the remainder of this section, we use Vi to denote a random variable that is drawn from distribution Di.

3.2.1 The Revenue of Economies with Two Distributions
We consider the contribution of every possible unordered pair of distributions, by restricting our focus to instances where a specific pair of bidders i and j, have drawn the two largest values. Let Bi,j denote the event where the values of bidders i and j are the two highest values, for each 1  i < j  n. Let ri,j be the contribution of such instances:

ri,j = E max(2)(V1, . . . , Vn) · 1Bi,j
Without loss of generality assume r1,2 = max1i<jn ri,j. Notice that the events Bi,j naturally partition the instances of the economy E to disjoint sets, since for a given instance only one event Bi,j can happen. Thus the revenue of a second-price auction can be bounded in terms of r1,2:

E max(2)(V1, . . . , Vn) 

ri,j 

n 2

· r1,2

(11)

i<j

where the second inequality is due to the maximality of r1,2. Moreover, notice that given the event Bi,j the random variable max(2)(V1, . . . , Vn) is equal to the random variable max(2)(Vi, Vj). Thus,

ri,j = E max(2)(V1, . . . , Vn) · 1Bi,j = E max(2)(Vi, Vj) · 1Bi,j  E max(2)(Vi, Vj )

(12)

Let X1, . . . , Xn  D1 be random variables drawn from D1 and Y1, . . . , Yn  D2 be random variables drawn from D2. Consider the following three economies: E1 and E2 are the homogeneous economies where the values of the bidders are represented by the random variables X1, . . . , Xn and Y1, . . . , Yn, respectively, and E12 is the two-distribution economy consisting of bidder values X1, . . . , Xn/2, Yn/2+1, . . . , Yn, i.e., half of the bidder values are drawn from each of the two distri-
butions D1 and D2. We focus on E12 first, showing its revenue approximates OPT. We then show that either E1 or E2 achieves the same approximation factor as E12.
The following random variables shall be useful when comparing the three economies:

Xm1 ax

=

max(X1, .

.

.

,

Xn 2

);

Ym1ax

=

max(Y1,

.

.

.

,

Y

n 2

);

Xm2 ax

=

max(X

n 2

+1,

.

.

.

,

Xn);

Ym2ax

=

max(Y

n 2

+1,

.

.

.

,

Yn).

Note

that

we

always

have

max(2)(X1,

.

.

.

,

Xn 2

,

Y

n 2

+1,

.

.

.

,

Yn)



min{Xm1 ax,

Ym2ax}.

Hence:

S P E12

=

E

max(2)

(X1

,

.

.

.

,

X

n 2

,

Y

n 2

+1,

.

.

.

,

Yn)

E

min{Xm1 ax, Ym2ax}

(13)

Let Zi,j, for 1  i < j  n, denote the event where all bidders aside from bidder i and j have zero value. Recall that we discarded all the probability mass at most H, so by the definition of H the

8

probability

that

the

value

of

a

specific

bidder

is

0

is

at

least

1

-

1 n-1

.

Hence,

for

every

1



i

<

j



n,

Pr[Zi,j] 

1

-

n

1 -

1

n-2
=

1

1

+

1 n-2

n-2



1 e

(14)

We thus obtain:

E min{Xm1 ax, Ym2ax}

 E min{Xm1 ax, Ym2ax} · 1

n/2 n
Zi,j
i=1 j=n/2+1

n/2 n

=

E min{Xm1 ax, Ym2ax} · 1Zi,j

i=1 j=n/2+1

n/2 n

=

E min{Xi, Yj } · 1Zi,j

i=1 j=n/2+1

n/2 n

=

E [min{Xi, Yj}] · Pr[Zi,j]

i=1 j=n/2+1

n/2 n

=

E [min{V1, V2}] · Pr[Zi,j]

i=1 j=n/2+1



n 2

2

·

r1,2

·

1 e



1 2

·

(1

-

)OPT

·

1 e

To summarize, we obtain

E

min{Xm1 ax, Ym2ax}



1- 2e

· OPT

(Zi,j are disjoint events) (by the definition of Zi,j)
(independent r.v.'s) (Xi  D1 and Yj  D2) (by Eq. (12) and (14)) (by Eq. (10) and (11))
(15)

3.2.2 The Revenue of a Homogeneous Economy
Next we show that the bound E min{Xm1 ax, Ym2ax} , proved on the revenue of a second price auction in the economy E12, in fact holds for one of the homogeneous economies E1, E2. We shall require the following simple claim.
Claim 3.3 For every x, y  R, xy  (x2 + y2)/2.
Proof: Since squares of real numbers are non-negative, we get (x-y)2  0. Thus, x2-2xy+y2  0. Rearranging, we obtain the claim.

9

As min{Xm1 ax, Ym2ax} is a non-negative random variable, we can write its expectation as:



E min{Xm1 ax, Ym2ax} =

Pr min{Xm1 ax, Ym2ax}  t dt

0



=

Pr (Xm1 ax  t)  (Ym2ax  t) dt

0



=

Pr Xm1 ax  t · Pr Ym2ax  t dt

0



1 2


Pr Xm1 ax  t
0

2

dt

+

1 2


Pr Ym2ax  t
0

2 dt

(16)

where the last inequality follows from Claim 3.3. Note that we always have max(2)(X1, . . . , Xn)  min{Xm1 ax, Xm2 ax}. Therefore,

SPE1 = E max(2)(X1, . . . , Xn)  E min{Xm1 ax, Xm2 ax}

(17)

Analogously to our calculations above for E min{Xm1 ax, Ym2ax} , we obtain

E min{Xm1 ax, Xm2 ax} =


Pr Xm1 ax  t · Pr Xm2 ax  t dt =


Pr Xm1 ax  t

2 dt

(18)

0

0

where the last equality is due to Xm1 ax and Xm2 ax being i.i.d. Without loss of generality assume


Pr Xm1 ax  t

2 dt 


Pr Ym2ax  t

2 dt

0

0

(the proof is analogous for the other case). Therefore, by Equations (15),(16),(17) and (18):

SPE1  E min{Xm1 ax, Xm2 ax}

 E min{Xm1 ax, Ym2ax}



1- 2e

·

OPT

This concludes our proof for Case II.

3.3 Choosing the Value of 

In Case I we showed that the revenue of a second price auction in a homogeneous economy is at

least

1

-

2 e

 · OPT

whereas

in

Case

II

we

proved

a

bound

of

1- 2e

· OPT.

By

choosing

=

1 2e-3

we maximize the lower of these two bounds, showing that there is always a homogeneous economy

where the revenue of a second price auction is at least

1

-

2 e

·

1 2e-3

·

OPT



0.10844

·

OPT.

4 (1 - )-Approximation for the Second Price Auction
In the previous sections we showed that there exists one homogeneous economy that provides a constant approximation to the ideal revenue (or to the ideal second-price revenue). In this section we show that we can get arbitrarily close to the ideal second-price revenue using only relatively few distributions:
Theorem 4.1 Let D = {D1, . . . , Dn} be a set of distributions. For every constant  > 0 there exists a subset of distributions D  D, |D|  (1/)O(1/10), and an economy E where the value of each bidder is independently drawn from some distribution D  D, for which the revenue obtained by a second price auction in E is at least a (1 - )-fraction of the ideal second-price revenue.

10

In other words, for every constant  > 0, a constant number of distributions is needed to construct an economy that guarantees a (1 - ) of the revenue of the ideal second-price revenue.
Denote the optimal economy EOPT, and, for i  [n], let Di be the distribution of bidder i in economy EOPT. We show that:
SP E  (1 - )SP EOPT
Roughly speaking, the proof partitions the supports of the distributions into three main segments: low, middle, and high. Similarly to previous sections, the revenue that comes from low values is relatively easy to handle by having enough bidders whose value is drawn from a distribution in which the largest low value is obtained with high enough probability. To handle the revenue due to middle values, we group together several distributions based on the similarity of their middle quantiles. The grouping process is technically subtle, but we manage to show that the distributions can be grouped into a relatively small number of groups such that the distributions within each group are almost completely "exchangeable" in terms of the contribution of their middle values to the revenue. The challenging part of the proof is to handle the revenue due to high values. The issue is that it is not possible to partition the distribution into a small number of groups since the expected contribution of the highest values cannot be properly bounded. We therefore develop a carefully constructed sampling method that allows us to prove that a small number of distributions can provide almost all of the revenue due to high values.
For simplicity of presentation, in the remainder of this proof we assume that all distributions in D are atomless5.

4.1 Defining Low, Middle, and High Values

As in previous sections, we partition the probability mass of each distribution. In this section, however, we partition into low, middle and high values (rather than just low and high values). Define the thresholds L and H as:

1

L = max inf
i

i

ViPrDi[Vi  i]  1 - 2n

;



H = max inf
i

hi

Pr
Vi Di

[Vi



hi]



1

-

n

.

For each distribution, we partition the probability mass as follows. The probability mass in [0, L) is regarded as low values. The probability mass in [L, H) is regarded as middle values. The probability mass in [H, ) is regarded as high values. For an economy E, with bidder values X1, . . . , Xn, define:

S

P

low E

=

E

max(2)(X1, . . . , Xn)1{max(2)(X1, . . . , Xn)

<

L}

;

S

P

mid E

=

E

max(2)(X1, . . . , Xn)1{max(2)(X1, . . . , Xn)



[L, H)}

;

S

P

high E

=

E

max(2)(X1, . . . , Xn)1{max(2)(X1, . . . , Xn)



H}

.

Clearly,

SPE

=

S

P

low E

+

S

P

mid E

+

S

P

high E

The economy E that we construct will satisfy:

S

P

low E



(1

-

)

·

S

P

low EOPT

S

P

mid E



(1

-

)

·

S

P

mid EOPT

S

P

high E



(1

-

)

·

S

P

high EOPT

5This is in fact without loss of generality since a second-price auction is "smooth" in the following sense: if we replace a distribution D of a bidder in a second price auction by slightly perturbing it, the revenue of the second price auction will change only slightly. In particular, we can take any distribution D with atoms and "smooth" it by replacing each value v that we get with probability p > 0 by a uniform distribution on [v, v + ] with total mass p.

11

which would imply what we need:

SP E  (1 - )SP EOPT

4.2 Approximating the Low Values
By the definition of L, there exists a distribution DL such that PrXDL[X  L] = 1/(2n).
Lemma 4.2 The second highest value among  · n bidders with values drawn i.i.d. from DL is at least L with probability 1 - 3.

Proof: Let X1, . . . , Xn  DL. It suffices to show that

Pr[max(2)(X1, . . . , Xn) < L]  3

(19)

Notice that Pr[Xi  L] = 1/(2n), for all i  [n], by definition of DL, and thus

Pr max(2)(X1, . . . , Xn) < L = Pr[at most one bidder exceeds L]

n

n

= Pr Xi < L + Pr Xi  L Pr Xj < L

i=1

j=1

j=i

=

1

-

1 2n

n

+

n

·

1 2n

1

-

1 2n

n-1

=

1

+

1 

1

-

1 2n

-1

1

-

1 2n

n

(20)

We may assume that

1

-

1 2n

-1 < 2 (otherwise, n  1/2

and thus setting E = EOPT

would be

sufficient

as

our

solution).

Moreover,

1



1 

and

1

-

1 2n

n



e-

1 

.

Plugging these three facts into

Equation (20), by Equation Rearranging, we obtain

(19)

1 2

-

it ln

suffices

1 



0.

Ttohsehfouwnc3ti·oen-x21

 3. - ln x

is

convex

and

attains

its

unique

minimum at x = 2. Moreover, 1 - ln 2 > 0, so the minimum value is positive. It follows that the

inequality above holds for all  > 0. This proves the lemma.

Lemma 4.2 provide an approximation of 1 - 3 to the revenue of EOPT, restricted to instances where the revenue is at most L. The next lemma shows that having "sacrificed" n bidders, we can still get very close to OPT by choosing some set of (1 - )n bidders from EOPT.

Lemma 4.3 For any economy E, and for any  > 0, there exists an economy E, consisting of a subset of size (1 - )n of the bidders from E, such that

SPE  (1 - 2)SP E

Proof: Let X1, . . . , Xn denote the values of the bidders in economy E. Let S  [n] be a set of n bidders chosen uniformly at random. We call the bidders in S virtual bidders. We run a second
price auction in economy E, except that if one of the bidders in S is one of the two bidders with the
highest value, the item is not allocated at all. We show that the expected revenue of this auction is high, which shows that a second price auction in the economy E, which is the economy consisting
of all non-virtual bidders from E, [n] \ V , is at least as high.

12

Each specific bidder has probability (1 - ) of not being in S, and two specific bidders are both non-virtual with probability (1 - )2  1 - 2. Therefore,
EV SPE  (1 - 2)SP E
This holds in expectation, thus there is a specific choice of S satisfying it. The lemma follows. By Lemma 4.3 there exists an economy EOPT with (1 - )n bidders that attains (1 - 2)OPT.
For notational convenience we keep referring to EOPT and refrain from "shrinking" it to EOPT at this point. We consider the low values taken care of, but we only apply Lemmata 4.2 and 4.3 to add the low value bidders at the end, after all other bidders of E have been decided

4.3 Approximating the Middle Values

Our approach for middle values is to keep them roughly as they were in EOPT when constructing

E. For each bidder i her distribution over the middle values in EOPT would be similar to that

in E. To this end we "discretize" the range of middle values, [L, H) in each distribution Di, and

divide the distributions into groups. A pair of distributions belongs to the same group if their

"discretized" middle values are the same.

We first round each middle value down to the nearest multiple of OPT. Let L = v0, v1, . . . , vm =

H be those multiples, i.e.,

vi = L + i · OPT

(21)

for each i  [m]. That is, for each distribution Di in EOPT, define the rounded distribution Di as the discrete distribution that attains the value vj with probability pi,j = PrViDi Vi  [vi, vi+1)
for i  [m - 1], and the value vm = H with probability pi,m = PrViDi Vi  H . Next, observe
that the number of such multiples of OPT depends only on , as the following lemma implies.

Lemma 4.4 H  4OPT/3.

Proof: Assume towards contradiction that H > 4OPT/3. By the definition of H, there exists
a distribution DH in EOPT such that PrXDH [X  H] = /n. Let X1, . . . , Xn  DH be n values drawn from DH . We obtain,

Pr max(2)(X1, . . . , Xn)  H

n

n

= 1 - Pr Xi < H - Pr Xi  H

i=1

j=1

=1-

1

-

 n

n

-

n

·

 n

1

-

 n

n-1

Pr Xj < H
j=i

The inequality (1 - x)n  1 - nx +

n 2

x2, holds for every x > 0 and natural number n. Therefore,

Pr max(2)(X1, . . . , Xn)  H  1 -

1

-



+

2 2

·

n

- n

1

-

1

-



·

n

- n

1

+

2 n

n-1 2



2 2

·

n

- n

1

By our assumption that H > 4OPT/3, it follows that

OPT E max(2)(X1, . . . , Xn)]  H · Pr max(2)(X1, . . . , Xn)  H  4 · 3 ·

2 2

·

n

- n

1

OPT >

13

where the last inequality holds for any n  2. Thus, we obtain that SP(X1,...,Xn) strictly exceeds OPT, for any   (0, 1), in contradiction to the definition of OPT.
By Lemma 4.4 and Equation (21) the number of rounded middle values is

m



H OPT



4

OPT 3

OPT

=

4 4

(22)

The

next

lemma

shows

that

by

rounding

the

middle

values

we

lose

a

small

fraction

of

S

P

mid EOPT

.

Let

EOPT denote the economy of rounded distributions D1 , . . . , Dn .

Lemma 4.5

S

P

mid EOPT



S

P

mid EOPT



S

P

mid EOPT

-

OPT

Proof: Let X1, . . . , Xn be values sampled from distributions D1, . . . , Dn, respectively. Map Xi to Xi, for each i  [n], via rounding, as follows:

 0, Xi = Hvj,(= L + j · OPT),

if Xi < L; if Xi  [vj , vj+1); if Xi  H.

Notice that X1 , . . . , Xn are distributed according to D1 , . . . , Dn . Hence our mapping describes a correspondence between instances of EOPT and instances of EOPT. Clearly, by our mapping, whenever Xi  [L, H] it follows that Xi  Xi  Xi - OPT. In particular, in each middle value instance of EOPT, the second-highest bidder value must satisfy the above inequality with the corresponding bidder in the corresponding instance of EOPT. This implies the lemma.
In EOPT, all distributions are discrete and support at most m nonzero values, thus each distribution can be viewed as a vector of m probabilities. After rounding the values we round these
probabilities as well, to ensure that the number of such possible vectors is a function of , indepen-
dent of n. Recall that we defined pi,j = PrViDi Vi = vj] = PrViDi vj  Vi < vj+1 , for each i  [n] and
j  [m]. For  > 0, a constant to be determined later, define ti,j such that

pi,j =  · ti,j for each i  [n] and j  [m]. Let t^i,j = ti,j and define
p^i,j =  · t^i,j

as the rounded down probability. Define Di as the distribution Di after rounding the probability of obtaining vj from pi,j down to p^i,j, as described above, for each i  [n] and j  [m]. The next
lemma shows that by rounding the probabilities we lose only a small portion of the revenue. Let EO PT denote the economy of rounded distributions D1, . . . , Dn.

Lemma

4.6

If



=

8 16n

,

then

S

P

mid EOPT

+

5 4

· OPT



S

P

mid EOPT



S

P

mid EOPT

-  · OPT

14

Proof: Recall that vj = L + j · OPT, for j  [m] as defined in Equation (21). Slightly abusing notation, denote vm+1 = . For every i  [n], let Fi be the CDF of Di. We define the random variables Xi and Xi, for each i  [n] as follows:
1. Sample qi  [0, 1] uniformly at random. 2. If qi < Fi(L), then set Xi = 0 and Xi = 0.
3. Else,

· Let j  [m] satisfy Fi(vj)  qi < Fi(vj+1).
· Set Xi = vj. · If Fi(vj )  qi < Fi(vj ) + p^i,j, set Xi = vj; otherwise Xi = 0.
It is not hard to verify that Pr[Xi = vj ] = Fi(vj+1) - Fi(vj ) = pi,j and Pr[Xi = vj ] = p^i,j, for every j  [m]. Thus, the variables X1 , . . . , Xn are distributed according to distributions D1 , . . . , Dn , respectively, and the variables X1, . . . , Xn are distributed according to distributions D1, . . . , Dn, respectively. Hence the procedure defines a correspondence between instances of EOPT and instances of EO PT. We may now compare the two economies according to their corresponding instances.
In every instance where Xi = Xi, for all i, the revenue of EO PT and EOPT is the same. We next show that this event occurs with very high probability.
Notice that p^i,j =  · ti,j   · (ti,j - 1)  pi,j - . Given that the support of Di is of size at most m, the total probability mass lost when rounding Di down to Di is at most m · , for every i. Hence, Pr Xi = Xi  m · , for every i  [n]. Therefore, by the union bound,

n
Pr i : Xi = Xi  Pr Xi = Xi  n · m · 
i=1

Conservatively assume the revenue is zero if even one bidder has changed in the transition from EOPT to EO PT. Since by definition Xi  H, for every i, this assumption implies

S

P

mid EOPT



S

P

mid EOPT

- Pr

i : Xi = Xi

·H



S

P

mid EOPT

-n·m·

·H

(23)

We shall choose  such that n · m ·  · H  OPT. Plugging the values of H and m (see Lemma 4.4 and Equation (22)) in this inequality we obtain

n

·

4 4

·

OPT 4 3

·





OPT

Rearranging,

we

conclude

that

it

suffices

to

set



=

8 16n

,

as

claimed.

Plugging this into Equa-

tion (23):

S

P

mid EOPT



S

P

mid EOPT

-  · OPT

(24)

At

first

glance,

it

would

appear

that

S

P

mid EOPT



S

P

mid EOPT

,

since

we

only

remove

mass

when

rounding

the probabilities. However, as we now argue, that is not necessarily true, and we prove the weaker

inequality

S

P

mid EOPT



S

P

mid EOPT

-

5 4

· OPT

15

This issue stems from the fact that only instances with at most one high value bidder contribute to

SP mEid,

while

instances

with

two

or

more

high

value

bidders

contribute

to

S

P

high E

instead,

for

every

economy E. Note that an instance with several high value bidders in EOPT may be rounded down

to

an

instance

with

no

high

value

bidders

in

EO PT.

The

former

instance

contributes

to

S

P

high EOPT

and

has

zero

contribution

to

S

P

mid EOPT

,

whereas

the

latter

instance

has

non-zero

contribution

to

S

P

mid EOPT

.

Due

to

such

instances

it

is

possible

that

S

P

mid EOPT

<

S

P

mid EOPT

.

Therefore,

it

suffices

to

eliminate

cases

where any high value bidder is rounded down to zero in EO PT, and the revenue from each instance

that

contributes

to

S

P

mid EOPT

is

at

most

H.

This

translates

to

the

following

inequality:

S

P

mid EOPT



S

P

mid EOPT

- Pr

i : (Xi = H)  (Xi = 0)

·H

For each i, the probability that Xi = H and Xi = 0 is at most , and thus, by the union bound, summing over all bidders we obtain a probability of n · . Hence,

S

P

mid EOPT



S

P

mid EOPT

-n··H



S

P

mid EOPT

-

5 4

· OPT

where the second inequality follows by Lemma 4.4. This proves the lemma. Combining Lemmata 4.5 and 4.6, gives us

S

P

mid EOPT

+

5 4

· OPT



S

P

mid EOPT



S

P

mid EOPT

- 2 ·

OPT

We obtain the following lemma as an immediate conclusion.

Lemma 4.7 Let E be an economy where the rounding described above (of values and probabilities)

yields E = EO PT, i.e., the values p^i,j are identical in the two economies, for all i  [n], j  [m].

Then,

S

P

mid E



S

P

mid EOPT

-

2 + 5 4

OPT

Finally, we separate the set of distributions in EOPT into groups G1, . . . , Gk according to their rounded representation. That is, a pair of distributions Di and Dj, for i, j  [n], belong to the same group if Di  Dj.
The number of groups is upper bounded by the number of possible rounded probability vectors.
The following lemma shows that this bound depends only on .

16

Lemma 4.8 The number of groups, denoted by k, satisfies k 

4 4

. 10

Proof: Each group is represented by a distinct probability vector. For each i  [n], the rounded
probability vector of distribution Di is (p^i,j)mj=1. It contains m entries and each entry is upper bounded as follows:

1

p^i,j



pi,j

=

Pr
ViDi

vj  Vi < vj+1

 Pr
Vi Di

Vi  L

 2n

where the last inequality is due to the definition of L. Additionally, p^i,j =  · t^i,j, so we have

t^i,j





1 · 2n



16 10

16

where the value of  is from Lemma 4.6. Given that t^i,j is a non-negative integer for every i and

j,

it

follows

that

the

number

of

possible

vectors

of

the

form

(

·

t^i,j )mj=1

is

at

most

16
m 10

.

By the upper bound on m of Equation (22), and since each group is represented by a distinct

16

probability vector, we conclude that k, the number of groups, is at most k 

4 4

10 as claimed.

When constructing E, we keep each bidder in the group as in EOPT, i.e., if bidder i is drawn

from Di  G in EOPT, for some group G, we draw bidder i from Di in E such that Di belongs to

the same group G. Thus, Lemma 4.7 ensures we approximate the revenue of the middle values.

4.4 Approximating the High Values

If group assignments are maintained, the contribution of middle values in EOPT is well approximated. Moreover, in any instance where SP > H, the probability mass of non-high values has no influence on the revenue. Then, when focusing on high value instances, we may truncate all distributions, setting the probability mass below H to zero. Let D1, . . . , Dn be the "truncated" distributions.
We now consider the contribution of every possible (unordered) pair of distributions, by restricting our focus to instances where a specific pair of bidders i and j have drawn the two largest values. Let Bi,j denote the event where the values of bidders i and j are largest, for each 1  i < j  n. Define,
ri,j = EViDi max(2)(V1, . . . , Vn) · 1Bi,j for 1  i < j  n. Note that each high value instance belongs to at least one Bi,j event. Thus,

S

P

high EOPT

= EViDi

max(2)(V1, . . . , Vn)



ri,j

i<j

(25)

Moreover, notice that for any given sample V1, . . . , Vn from the distributions D1, . . . , Dn, the event Bi,j implies that the random variable max(2)(V1, . . . , Vn) is equal to the random variable max(2)(Vi, Vj ). Thus,

ri,j = EVD max(2)(V1, . . . , Vn) · 1Bi,j = EVD max(2)(Vi, Vj ) · 1Bi,j  EVD max(2)(Vi, Vj ) (26)

Let the set of groups of bidder value distribution determined by EOPT, as described in the

previous subsection, be G1, . . . , Gk.

We

call

a

group

G

big

if

|G|

>

1 

,

otherwise

we

refer

to

it

as

small.

Slightly

abusing

notation,

we say that a bidder i is in group G if the distribution Di (from which i draws her value) is in G.

We construct an economy E by the following algorithm:

1. Keep all bidders from small groups the same as in EOPT.

2.

For

each

big

group

G,

let

T

=

1 

.

(a) For each bidder i in G, draw an index si  [T ] uniformly at random.
(b) Sample T distributions from G uniformly at random (allowing repetition). Denote the sampled distributions D1G, . . . , DTG .
(c) Assign each bidder i  [n] the distribution DsGi .

17

Number

of

distributions

used:

First

note

that

this

algorithm

uses

at

most

1 

distributions

from

16

each group, and there are k 

4 4

10

groups.

So the number of distributions used in total is a

function of  only, as desired.

Proof of correctness: The rest of this section is dedicated to showing that the approximation

factor achieved by the economy E (as constructed by the algorithm) is in fact 1 - .

Let X1, . . . , Xn be the sampled values of the bidders in economy E. Let Zi,j, for 1  i < j  n,

denote the event where all bidders other than bidders i and j have zero value in E. That is,

Xa = 0, for all a  [n] \ {i, j}. Recall that we discarded all the probability mass below H, so by

the

definition

of

H

the

probability

that

any

bidder

value

is

zero

is

at

least

1-

 n

.

Hence,

for

every

1  i < j  n,

Pr Zi,j



1

-

 n

n-2


1

-

 n

n



1-

(27)

We thus obtain,

S

P

high E

=

E

max(2)(X1, . . . , Xn)

 E max(2)(X1, . . . , Xn) · 1

Zi,j

i<j

=

E max(2)(X1, . . . , Xn) · 1Zi,j

i<j

(Zi,j are disjoint events)

=

E max(2)(Xi, Xj ) · 1Zi,j

i<j

(by definition of Zi,j)

=

E max(2)(Xi, Xj ) · Pr[Zi,j ]

i<j

(independent r.v.'s)

 (1 - ) E max(2)(Xi, Xj )
i<j

(by Eq. (27)) (28)

Let C denote a construction generated by the algorithm (C is a random variable, over which we will later take expectation). We consider the number of times each pair of distributions have been assigned to bidders by our algorithm. Formally, define the following random variable, for each a, b  [n],

na,b = |{(Xi, Xj) | i, j  [n]: Xi and Xj were drawn from Da and Db, , respectively, given C}|
Given that the construction C was generated by the algorithm, Equation (28) can now be written as

S

P

high E



(1 - )

E max(2)(Xi, Xj )

i<j

= (1 - ) na,b · EVD max(2)(Va, Vb)
a<b

(rearranging sum by distributions)

= (1 - ) na,b · ra,b
a<b

(by Equation (26))

Taking expectation over C, by linearity of expectation, we obtain

EC

S

P

high E

 (1 - )

EC na,b · ra,b

a<b

(29)

18

The next lemma shows that on the right hand side of the above equation the sum is very close

to the sum

i<j

ri,j ,

which

is

an

upper

bound

of

S

P

high EOPT

,

by

Equation

(25).

Lemma 4.9 For every 1  a < b  n,

EC na,b  (1 - 2) .

Proof: Let Na (resp., Nb) denote the number of bidders assigned distribution Da (resp., Db) in the construction C. Recall that na,b denotes the number of ordered pairs of bidders (i, j) such that
(Xi, Xj)  (Da, Db), in the construction C. Therefore, na,b = Na · Nb. We start by proving the following claim.

Claim 4.10 EC Na = EC Nb = 1.

Proof: We prove the claim for Na, the proof for Nb is analogous. Let G be the group that

distribution Da belongs to. If G is a small group, then bidder a keeps the distribution Da, regardless

of C, so Na = 1, and thus the claim holds. Hence, we may assume G is a big group.

Consider a specific bidder i in G. Let Bi denote the event that Xi  Da in C. For this event

to occur, the sampled distribution DsGi , where si  [T ] is the index sampled for bidder i, must be

equal to Da. Regardless of the value si, the distribution DsGi is simply an element of the group G

sampled uniformly at random. Therefore, the probability that the sampled distribution is indeed

Da

is

equal

to

1 |G|

.

It

follows

that

Pr[Bi]

=

1 |G|

.

Hence,

by

linearity

of

expectation

EC Na =

EC 1Bi =

Pr
C

Bi]

=

|G|

·

1 |G|

=

1

iG

iG

We are now ready to calculate na,b. Consider the case where Da and Db belong to different groups. Since the algorithm samples from each group separately, Na and Nb are independent random variables. Thus, by Claim 4.10 and the fact that na,b = Na · Nb, we obtain

EC[na,b] = EC[Na · Nb] = EC[Na] · EC[Nb] = 1

Thus, the lemma holds in this case.
Next, consider the case where Da and Db belong to the same group G, but the group G is small. The algorithm assigns each of these distributions to exactly one bidder, and thus na,b = 1. Hence, the lemma holds in this case as well.
It remains to consider the case where Da and Db belong to the same big group G. For every pair of bidders i, j  G, we define the event

Ai,j = {the distributions chosen for bidders i and j are, respectively, Da and Db}

Consider the probability of this event. Consider the indices si, sj  [T ] sampled in construction

C.

If si = sj, which occurs with probability

1 T

,

then

it

is

not

possible

to

have

both

DsGi

= Da

and DsGj = Db, since DsGi and DsGj are equivalent while Da and Db are two distinct distributions.

19

Else, when si = sj, the samples DsGi and DsGj are two independent samples from G and thus the

probability

that

(DsGi , DsGj )

= (Da, Db)

is

exactly

1 |G|

·

1 |G|

.

We

conclude

from

this

discussion

that

Pr Ai,j

=

1

-

1 T

·

1 |G|2

=

(1 - ) ·

1 |G|2

where the second equality is by the definition of T . Summing over all (ordered) pairs of bidders i,j in group G we obtain

na,b =

1Ai,j

i=j

Taking expectation over C, by linearity of expectation, we obtain

EC[na,b] =

Pr Ai,j = (1 - ) ·

1 |G|2

=

(1

-

)

1 |G|2

· |G|

· (|G|

- 1)

=

(1

- )

1

-

1 |G|

i=j

i=j

As G is a big group, we have

1

-

1 |G|

> 1- . We thus obtain from the above, EC[na,b]  (1- )2 

(1 - 2). This proves the lemma.

It now follows that E generates almost all of the contribution of high value instances in EOPT. This is shown by plugging Lemma 4.9 into Equation (29), which yields

EC

S

P

high E

 (1 - )

EC na,b ra,b  (1 - )(1 - 2)

ra,b



(1

-

3)

·

S

P

high EOPT

a<b

a<b

where the last inequality follows from Equation (25).

Finally, since the inequality above holds in expectation over the set C, there must exist a specific

set C for which

S

P

high E



(1

-

3)

·

S

P

high EOPT

4.5 Putting it all Together

By construction, for every i  [n], bidder i in E belongs to the same group to which bidder i in EOPT belongs. Recalling that distributions within the same group have the same "discretized"
rounded representation of middle values, Lemma 4.7 now implies

S

P

mid E



S

P

mid EOPT

-

2

+

5 4

OPT

To cover the low values, we add  · n bidders to E with values drawn from DL, obtaining a larger economy E containing (1 + )n bidders. By Lemma 4.2,

S

P

low E



(1

-

3)S

P

low EOPT

Recalling

that

S

P

high E



(1

-

3)

·

S

P

high EOPT

,

we

obtain:

S P E



(1

-

3)S

P

low EOPT

+

S

P

mid EOPT

-

 (1 - 3)SP EOPT -

2 + 5 4

2

+

5 4

OPT

+

(1

-

3)S

P

high EOPT

 (1 - 6)OPT

20

where the last inequality is due to SPEOPT = OPT. Finally, it remains to "shrink" the economy E back to an n bidder economy. By Lemma 4.3 there exists an economy E consisting of n bidders from E such that

SPE  (1 - 2)SP E  (1 - 2)(1 - 6)OPT  (1 - 8)OPT

This shows that the constructed economy E attains a (1 - 8)-fraction of the ideal second price

revenue, as required.

Moreover, in the construction of E we used at most

1 

distributions per

group, and the number of groups is bounded by Lemma 4.8, so the number of distributions used is

at most

1 

·

4 4

16 10
=

1O

1 10



This concludes the proof of the theorem.

Acknowledgments
The first and third authors were supported by BSF grant 2016192 and ISF grant 2185/19. The second author was supported by the European Research Council (ERC) under the European Union's Horizon 2020 research and innovation program (grant agreement No. 866132), and by the Israel Science Foundation (grant number 317/17).

References
[1] Jeremy Bulow and Paul Klemperer. Auctions versus negotiations. The American Economic Review, 86(1):180­194, 1996.
[2] Shuchi Chawla, Jason D Hartline, David L Malec, and Balasubramanian Sivan. Multiparameter mechanism design and sequential posted pricing. In Proceedings of the 42nd ACM symposium on Theory of computing, pages 311­320, 2010.
[3] Alon Eden, Michal Feldman, Ophir Friedler, Inbal Talgam-Cohen, and S Matthew Weinberg. The competition complexity of auctions: A Bulow-Klemperer result for multi-dimensional bidders. In Proceedings of the 2017 ACM Conference on Economics and Computation, page 343, 2017.
[4] David Eppstein and George S Lueker. The minimum expectation selection problem. Random Structures & Algorithms, 21(3-4):278­292, 2002.
[5] Michal Feldman, Ophir Friedler, and Aviad Rubinstein. 99% revenue via enhanced competition. In Proceedings of the 2018 ACM Conference on Economics and Computation, pages 443­460, 2018.
[6] Hu Fu, Christopher Liaw, and Sikander Randhawa. The Vickrey auction with a single duplicate bidder approximates the optimal revenue. In Proceedings of the 2019 ACM Conference on Economics and Computation, pages 419­420, 2019.
[7] Jason D Hartline and Tim Roughgarden. Simple versus optimal mechanisms. In Proceedings of the 10th ACM conference on Electronic commerce, pages 225­234, 2009.

21

[8] Jon Kleinberg and Maithra Raghu. Team performance with test scores. ACM Transactions on Economics and Computation (TEAC), 6(3-4):1­26, 2018.
[9] Robert Kleinberg and Seth Matthew Weinberg. Matroid prophet inequalities. In Proceedings of the 44th annual ACM symposium on Theory of computing, pages 123­136, 2012.
[10] Aranyak Mehta, Uri Nadav, Alexandros Psomas, and Aviad Rubinstein. Hitting the high notes: Subset selection for maximizing expected order statistics. Advances in Neural Information Processing Systems, 33, 2020.
[11] Roger B Myerson. Optimal auction design. Mathematics of operations research, 6(1):58­73, 1981.
[12] Amir Ronen. On approximating optimal auctions. In Proceedings of the 3rd ACM conference on Electronic Commerce, pages 11­17, 2001.
[13] Balasubramanian Sivan and Vasilis Syrgkanis. Vickrey auctions for irregular distributions. In International Conference on Web and Internet Economics, pages 422­435. Springer, 2013.

A An Impossibility Result for Regular Distributions

As already mentioned in the introduction, there exists a set of regular distributions D = {D1, . . . , Dn}

such that if E is a homogeneous economy where the value of each bidder is drawn from some D  D,

then the optimal auction for E generates about half of the ideal revenue. We now slightly strengthen

this result and show that a similar bound holds even if all distributions in D are regular. Recall

that a distribution with CDF F and PDF f that is defined on [a, b] is regular if its virtual value

(v)

=

v

-

1-F (v) f (v)

is

non-decreasing

in

[a, b].

Theorem A.1 For every  > 0 and n > 2, there exists a set of regular distributions D =

{D1, . . . , Dn} such that if E is a homogeneous economy, where the value of each bidder is drawn

from

some

D



D,

then

the

optimal

auction

for

E

generates

at

most

a

n 2n-1

+

fraction

of

the

ideal

revenue.

Recall that a distribution with CDF F and PDF f is called equal revenue in the range [1, h]

if

for

each

1<x<h

it

holds

that

F (x)

=

1

-

1 x

and f (h) =

1 h

.

The

basic property

of an equal

revenue distribution is that the maximal revenue that can be extracted from a bidder whose value

is drawn from that distribution is 1: the revenue of any take-it-or-leave-it offer p, 1  p  h, is

1 (the bidder accepts and pays p with probability

1 p

).

The revenue of any other offer is strictly

smaller. One can verify that the virtual value of an equal revenue distribution is constant, hence it

is regular.

Let D contain two distributions: the equal revenue distribution DER on [1, h], for some h  n, and the constant distribution Dc that returns a value n with probability 1. Note that both distributions are regular.

To give a lower bound on the ideal revenue of D, consider the economy E that contains one

bidder with distribution Dc and n - 1 bidders with distributions DER. Consider the following

(obviously non-optimal) auction for E: if there is exactly one bidder with value h, then this bidder

gets the item and pays h. If there are two or more bidders with value h, none of the bidders gets

22

the item. Else, the bidder with the constant distribution gets the item and pays n. We now analyze

the revenue of this auction.

The

probability

that

none

of

the

bidders

has

value

h

is,

by

the

union

bound,

at

least

1

-

n-1 h

.

In this case the bidder with the constant distribution gets the item and pays n.

Each of the other bidders essentially faces a take-it-or-leave-it auction with price h, unless one

of the other bidders has value h, in which case the item is not allocated. Since we consider equal

revenue distributions and the bidder values are independent, using the union bound again the

expected revenue is (n - 1) · Pr[none

Thus, by linearity of expectation,

1)

·

(1

-

n-2 h

)

which

approaches

2n

-

of the other bidders has value h]  (n - 1) · (1 the total revenue of the auction is at least n · (1 1 as h increases.

- -

n-2 n-h 1
h

). )+

(n

-

Finally, to complete the proof we observe that the optimal revenue of any homogeneous economy

is at most n: if the distribution of all bidders is drawn from DC then the optimal revenue is obviously

n. If all distributions are equal revenue then the expected payment of each bidder is at most 1,

thus the optimal revenue is bounded by n in this case as well.

B Missing Proofs

Proof of Claim 2.2: The claim is trivial for n = 1. Thus, assume n  2. Let

f (x) = 1 - (1 - x)n

and

g(x) =

1-

1

-

1 n

n

· nx

Differentiating f twice yields f (x) = -n(n - 1)(1 - x)n-2, which is negative for all x  [0, 1/n]. Thus, f is concave in this range. Notice that g(x) is a linear function of x and that f (0) = g(0) and f (1/n) = g(1/n). Therefore, by concaveness, we have that f (x)  g(x) for any x  [0, 1/n].

23

